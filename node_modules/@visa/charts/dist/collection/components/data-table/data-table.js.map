{"version":3,"file":"data-table.js","sourceRoot":"","sources":["../../src/components/data-table/data-table.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Copyright (c) 2020, 2021, 2022, 2023 Visa, Inc.\n *\n * This source code is licensed under the MIT license\n * https://github.com/visa/visa-chart-components/blob/master/LICENSE\n *\n **/\nimport { Component, Prop, Element, State, h } from '@stencil/core';\nimport { IBoxModelType } from '@visa/charts-types';\nimport { DataTableDefaultValues } from './data-table-default-values';\nimport { select } from 'd3-selection';\nimport Utils from '@visa/visa-charts-utils';\n\nconst { translate, getLicenses } = Utils;\n\n@Component({\n  tag: 'data-table',\n  styleUrl: 'data-table.scss'\n})\nexport class DataTable {\n  // basic props for the table\n  @Prop({ mutable: true }) uniqueID: string;\n  @Prop({ mutable: true }) language: string = DataTableDefaultValues.language;\n  @Prop({ mutable: true }) isCompact: boolean = DataTableDefaultValues.isCompact;\n  @Prop({ mutable: true }) hideDataTable: boolean = DataTableDefaultValues.hideDataTable;\n  @Prop({ mutable: true }) margin: IBoxModelType = DataTableDefaultValues.margin;\n  @Prop({ mutable: true }) padding: IBoxModelType = DataTableDefaultValues.padding;\n  @Prop({ mutable: true }) tableColumns: string[];\n  @Prop({ mutable: true }) secondaryTableColumns: string[];\n  @Prop({ mutable: true }) dataKeyNames: object;\n\n  // data for the table\n  @Prop() data: object[];\n  @Prop() secondaryData: object[];\n\n  // debugging props\n  @Prop({ mutable: true }) unitTest: boolean = false;\n\n  // state for showing the table\n  @State() showTable: boolean = this.hideDataTable ? true : false;\n\n  // Element\n  @Element()\n  dataTableEl: HTMLElement;\n  table: any;\n  secondaryTable: any;\n  thead: any;\n  tbody: any;\n  rows: any;\n  cells: any;\n  defaults: boolean;\n\n  componentWillLoad() {\n    this.tableColumns = this.tableColumns ? this.tableColumns : (this.tableColumns = Object.keys(this.data[0]));\n  }\n\n  componentWillUpdate() {\n    this.init();\n    this.tableColumns = this.tableColumns ? this.tableColumns : (this.tableColumns = Object.keys(this.data[0]));\n  }\n\n  componentDidLoad() {\n    this.drawTable();\n  }\n\n  componentDidUpdate() {\n    this.drawTable();\n  }\n\n  reSetRoot() {\n    // if we have a hide prop then we use vcc-sr class\n    select(this.dataTableEl)\n      .classed('vcc-sr', this.hideDataTable)\n      .select('#visa-viz-data-table-button-' + this.uniqueID)\n      .classed('vcc-state--active', this.showTable);\n\n    if (this.table) {\n      this.table.remove();\n      this.table = null;\n    }\n\n    if (this.secondaryTable) {\n      this.secondaryTable.remove();\n      this.secondaryTable = null;\n    }\n\n    if (!this.table && this.showTable) {\n      this.defaults = true;\n      this.table = select(this.dataTableEl)\n        .select('#visa-viz-data-table-container-' + this.uniqueID)\n        .append('table')\n        .attr('class', 'vcc-data-table vcc-state--single-select')\n        .classed('vcc-state--compact', this.isCompact)\n        .attr('data-header', 'header');\n\n      if (this.secondaryData) {\n        this.table.attr('aria-label', `${translate('dataTable.table1', this.language)}.`);\n\n        this.secondaryTable = select(this.dataTableEl)\n          .select('#visa-viz-data-table-container-' + this.uniqueID)\n          .append('table')\n          .attr('class', 'vcc-secondary-data-table vcc-data-table vcc-state--single-select')\n          .attr('aria-label', `${translate('dataTable.table2', this.language)}.`)\n          .classed('vcc-state--compact', this.isCompact)\n          .attr('data-header', 'header');\n      }\n    }\n  }\n\n  drawTable() {\n    this.reSetRoot();\n    // start by drawing the table header\n    if (this.showTable) {\n      this.thead = this.table\n        .append('thead')\n        .attr('class', 'vcc-thead')\n        .append('tr')\n        .attr('class', 'vcc-tr');\n\n      // now add the column headers to the table header\n      this.thead\n        .selectAll('th')\n        .data(this.tableColumns)\n        .enter()\n        .append('th')\n        .attr('class', 'vcc-th')\n        .attr('scope', 'col')\n        .text(d => (this.dataKeyNames && this.dataKeyNames[d] ? this.dataKeyNames[d] : d));\n\n      this.tbody = this.table.append('tbody').attr('class', 'vcc-tbody');\n\n      this.rows = this.tbody\n        .selectAll('tr')\n        .data(this.data)\n        .enter()\n        .append('tr')\n        .attr('class', 'vcc-tr');\n\n      this.cells = this.rows\n        .selectAll('.vcc-td')\n        .data(row => {\n          return this.tableColumns.map(col => {\n            return {\n              column: col,\n              value: row[col]\n            };\n          });\n        })\n        .enter()\n        .append((_, i) => {\n          const element = i ? 'td' : 'th';\n          return document.createElement(element);\n        })\n        .attr('scope', (_, i) => (i ? null : 'row'))\n        .html(d => d.value)\n        .attr('class', 'vcc-td');\n\n      // draw secondary data table\n      if (this.secondaryData) {\n        this.thead = this.secondaryTable\n          .append('thead')\n          .attr('class', 'vcc-thead')\n          .append('tr')\n          .attr('class', 'vcc-tr');\n\n        // now add the secondary column headers to the table header\n        this.thead\n          .selectAll('th')\n          .data(this.secondaryTableColumns)\n          .enter()\n          .append('th')\n          .attr('class', 'vcc-th')\n          .attr('scope', 'col')\n          .text(d => (this.dataKeyNames && this.dataKeyNames[d] ? this.dataKeyNames[d] : d));\n\n        this.tbody = this.secondaryTable.append('tbody').attr('class', 'vcc-tbody');\n\n        this.rows = this.tbody\n          .selectAll('tr')\n          .data(this.secondaryData)\n          .enter()\n          .append('tr')\n          .attr('class', 'vcc-tr');\n\n        this.cells = this.rows\n          .selectAll('.vcc-td')\n          .data(row => {\n            return this.secondaryTableColumns.map(col => {\n              return {\n                column: col,\n                value: row[col]\n              };\n            });\n          })\n          .enter()\n          .append((_, i) => {\n            const element = i ? 'td' : 'th';\n            return document.createElement(element);\n          })\n          .attr('scope', (_, i) => (i ? null : 'row'))\n          .html(d => d.value)\n          .attr('class', 'vcc-td');\n      }\n    }\n  }\n  // using a similar workaround: https://github.com/Microsoft/TypeScript/issues/10761\n  render() {\n    const svgProps = { tabindex: -1 };\n    const useProps = {\n      href: `#visa-viz-view-grid--tiny-${this.uniqueID}`,\n      xlinkHref: `#visa-viz-view-grid--tiny-${this.uniqueID}`\n    };\n    const symbolProps = { viewbox: '0 0 16 16' };\n    return (\n      <div\n        class=\"visa-viz-data-table-outer-container\"\n        data-testid={this.unitTest ? 'data-table-outer-container' : null}\n      >\n        <div\n          class=\"visa-viz-button-wrapper\"\n          style={{\n            // if we don't push the button up, we need to add padding to the bottom of it\n            paddingBottom: `${this.padding.left + this.margin.left - 35 < 0 ? 32 : 0}px`\n          }}\n        >\n          <button\n            id={`visa-viz-data-table-button-${this.uniqueID}`}\n            type=\"button\"\n            class=\"vcc-btn-icon vcc-btn-icon--light-tiny visa-viz-data-table-button\"\n            style={{\n              // if we have enough room to the left, we push the button next to the chart, otherwise we put it below the chart\n              transform: `translate(${this.padding.left +\n                this.margin.left -\n                (this.padding.left + this.margin.left - 35 < 0 ? 0 : 35)}px,\n                ${this.padding.left + this.margin.left - 35 < 0 ? 0 : -40}px)`\n            }}\n            aria-label={`${translate('dataTable.display', this.language)}`}\n            aria-expanded={this.showTable ? 'true' : 'false'}\n            role=\"button\"\n            tabIndex={this.hideDataTable ? -1 : 0}\n            onClick={() => (this.showTable = !this.showTable)}\n          >\n            <svg class=\"vcc-icon--tiny\" focusable=\"false\" {...svgProps}>\n              <use {...useProps} />\n            </svg>\n          </button>\n          <svg class=\"vcc-icons\">\n            <symbol id={`visa-viz-view-grid--tiny-${this.uniqueID}`} {...symbolProps}>\n              <path d=\"M5,5 L5,2 L2,2 L2,5 L5,5 Z M5,7 L2,7 C0.894905844,7 0,6.1044757 0,5 L0,2 C0,0.8955243 0.894905844,3.55271368e-15 2,3.55271368e-15 L5,3.55271368e-15 C6.10509416,3.55271368e-15 7,0.8955243 7,2 L7,5 C7,6.1044757 6.10509416,7 5,7 Z M14,5 L14,2 L11,2 L11,5 L14,5 Z M14,7 L11,7 C9.89490584,7 9,6.1044757 9,5 L9,2 C9,0.8955243 9.89490584,3.55271368e-15 11,3.55271368e-15 L14,3.55271368e-15 C15.1050942,3.55271368e-15 16,0.8955243 16,2 L16,5 C16,6.1044757 15.1050942,7 14,7 Z M5,14 L5,11 L2,11 L2,14 L5,14 Z M5,16 L2,16 C0.894905844,16 0,15.1044757 0,14 L0,11 C0,9.8955243 0.894905844,9 2,9 L5,9 C6.10509416,9 7,9.8955243 7,11 L7,14 C7,15.1044757 6.10509416,16 5,16 Z M14,14 L14,11 L11,11 L11,14 L14,14 Z M14,16 L11,16 C9.89490584,16 9,15.1044757 9,14 L9,11 C9,9.8955243 9.89490584,9 11,9 L14,9 C15.1050942,9 16,9.8955243 16,11 L16,14 C16,15.1044757 15.1050942,16 14,16 Z\" />\n              <g fill=\"none\" fill-rule=\"evenodd\" stroke=\"none\" stroke-width=\"1\">\n                <mask fill=\"#fff\">\n                  <use xlinkHref=\"#path-1\" />\n                </mask>\n                <use fill=\"#000\" fill-rule=\"nonzero\" xlinkHref=\"#path-1\" />\n              </g>\n            </symbol>\n          </svg>\n        </div>\n        <div\n          id={`visa-viz-data-table-container-${this.uniqueID}`}\n          class=\"visa-viz-data-table-container\"\n          data-testid={this.unitTest ? 'data-table-container' : null}\n        />\n      </div>\n    );\n  }\n  private init() {\n    // reading properties\n    const keys = Object.keys(DataTableDefaultValues);\n    let i = 0;\n    const exceptions = {};\n    for (i = 0; i < keys.length; i++) {\n      const exception = !exceptions[keys[i]] ? false : this[keys[i]] === exceptions[keys[i]].exception;\n      this[keys[i]] = this[keys[i]] || exception ? this[keys[i]] : DataTableDefaultValues[keys[i]];\n    }\n  }\n}\n\n// incorporate OSS licenses into build\nwindow['VisaChartsLibOSSLicenses'] = getLicenses(); // tslint:disable-line no-string-literal\n"]}