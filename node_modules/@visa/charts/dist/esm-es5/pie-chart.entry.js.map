{"version":3,"names":["arcInnerRadius","d","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x0","y0","x1","y1","x2","y2","x3","y3","x10","y10","x32","y32","t","epsilon","cornerTangents","r1","rc","cw","x01","y01","lo","sqrt","ox","oy","x11","y11","x00","y00","dx","dy","d2","r","D","max","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","arc","cornerRadius","constant","padRadius","context","path","withPath","buffer","r0","apply","this","arguments","a0","halfPi","a1","da","abs","moveTo","tau","cos","sin","a01","a11","a00","a10","da0","da1","ap","rp","min","rc0","rc1","t0","t1","p0","asin","p1","oc","pi","ax","ay","bx","by","kc","acos","lc","atan2","lineTo","closePath","centroid","a","_","length","descending","b","NaN","identity","pie","value","sortValues","sort","data","i","n","array","j","k","sum","index","Array","arcs","Math","p","pa","v","propDefaultValues","Utils","PieChartDefaultValues","mainTitle","subTitle","text","centerTitle","centerSubTitle","height","width","margin","top","bottom","right","left","padding","localization","ordinalAccessor","valueAccessor","innerRatio","showEdgeLine","showPercentage","showLabelNote","labelOffset","accessibility","animationConfig","highestHeadingLevel","colorPalette","colorPaletteSequential","sortOrder","sortOrderAsc","hoverStyle","clickStyle","referenceStyle","hoverOpacity","cursor","showTooltip","dataLabel","dataLabelNormalizedOut","tooltipLabel","annotations","suppressEvents","clickHighlight","pieChartCss","PieChartStyle0","getGlobalInstances","configLocalization","getActiveLanguageString","checkAttributeTransitions","createTextStrokeFilter","drawHoverStrokes","removeHoverStrokes","buildStrokes","convertColorsToTextures","initializeDescriptionRoot","initializeElementAccess","setElementFocusHandler","setElementAccessID","setAccessibilityController","hideNonessentialGroups","setAccessTitle","setAccessSubtitle","setAccessLongDescription","setAccessExecutiveSummary","setAccessPurpose","setAccessContext","setAccessStatistics","setAccessChartCounts","setAccessStructure","setAccessAnnotation","retainAccessFocus","checkAccessFocus","setElementInteractionAccessState","setAccessibilityDescriptionWidth","autoTextColor","annotate","chartAccessors","checkInteraction","checkClicked","checkHovered","convertVisaColor","drawTooltip","formatStats","getColors","getLicenses","getPadding","getScopedData","initTooltipStyle","transitionEndAll","overrideTitleTooltip","scopeDataKeys","visaColors","validateAccessibilityProps","validateLocalizationProps","findTagLevel","prepareRenderChange","roundTo","getTextWidth","resolveLabelCollision","setSubTitle","PieChart","shouldValidateAccessibility","shouldValidateLocalization","updated","shouldValidate","shouldUpdateCenterTitle","shouldUpdateTableData","shouldResetRoot","shouldUpdateLabels","shouldUpdateAnnotations","shouldUpdateData","shouldSetColors","shouldSetSubTitle","shouldUpdateCursor","shouldUpdateGeometries","shouldUpdateEdgeLines","shouldUpdateInnerRatio","shouldUpdateLayout","shouldSetPieRadius","shouldPrepareChartData","shouldUpdateReferenceLines","shouldValidateInteractionKeys","shouldSetGlobalSelections","shouldSetTestingAttributes","shouldEnterUpdateExit","shouldBindInteractivity","shouldSetSelectionClass","shouldDrawInteractionState","shouldSetLabelOpacity","shouldCheckLabelColor","shouldUpdateScales","shouldUpdateDescriptionWrapper","shouldSetChartAccessibilityTitle","shouldSetChartAccessibilitySubtitle","shouldSetChartAccessibilityLongDescription","shouldSetChartAccessibilityExecutiveSummary","shouldSetChartAccessibilityStatisticalNotes","shouldSetChartAccessibilityStructureNotes","shouldSetParentSVGAccessibility","shouldSetGeometryAccessibilityAttributes","shouldSetGeometryAriaLabels","shouldSetGroupAccessibilityAttributes","shouldSetGroupAccessibilityLabel","shouldSetChartAccessibilityPurpose","shouldSetChartAccessibilityContext","shouldRedrawWrapper","shouldSetTagLevels","shouldSetChartAccessibilityCount","shouldSetAnnotationAccessibility","shouldSetTextures","shouldSetStrokes","shouldSetLocalizationConfig","strokes","topLevel","bottomLevel","textTreatmentHandler","specifiedPlacement","placement","_this","bgColor","innerInteractionKeys","color","hoverHighlight","preparedColors","dark_text","me","select","attr","classed","root","svg","node","id","chartID","prototype","titleWatcher","_newVal","_oldVal","subtitleWatcher","headingWatcher","centerTitleWatcher","layoutWatcher","dataWatcher","idWatcher","newVal","console","error","ordinalAccessorWatcher","interactionKeys","valueAccessorWatcher","sortWatcher","paletteWatcher","colorsWatcher","innerRatioWatcher","showEdgeLineWatcher","referenceWatcher","hoverOpacityWatcher","cursorWatcher","showPercentageWatcher","showTooltipWatcher","tooltipLabelWatcher","labelWatcher","newPlacementVal","oldPlacementVal","newVisibleVal","visible","oldVisibleVal","labelNoteWatcher","labelOffsetWatcher","localizationWatcher","newLanguage","language","oldLanguage","newNumeralLocale","numeralLocale","oldNumeralLocale","accessibilityWatcher","newTitle","title","oldTitle","newExecutiveSummary","executiveSummary","oldExecutiveSummary","newPurpose","purpose","oldPurpose","newLongDescription","longDescription","oldLongDescription","newContext","contextExplanation","oldContext","newStatisticalNotes","statisticalNotes","oldStatisticalNotes","newStructureNotes","structureNotes","oldStructureNotes","newincludeDataKeyNames","includeDataKeyNames","oldincludeDataKeyNames","newElementDescriptionAccessor","elementDescriptionAccessor","oldElementDescriptionAccessor","newTextures","hideTextures","oldTextures","newSmallValue","showSmallLabels","oldSmallValue","newStrokes","hideStrokes","oldStrokes","newKeyNav","keyboardNavConfig","disabled","oldKeyNav","newInterface","elementsAreInterface","oldInterface","annotationsWatcher","referenceDataWatcher","suppressWatcher","clickStyleWatcher","hoverStyleWatcher","clickWatcher","hoverWatcher","interactionWatcher","dataKeyNamesWatcher","unitTestWatcher","componentWillLoad","uniqueID","uuid","initialLoadEvent","emit","Promise","resolve","duration","pieChartEl","setLocalizationConfig","setTagLevels","prepareScales","prepareData","setLayoutData","setPieRadius","validateInteractionKeys","setTableData","shouldValidateAccessibilityProps","shouldValidateLocalizationProps","setColors","componentWillUpdate","componentDidLoad","defaults","renderRootElements","setTooltipInitialStyle","setChartDescriptionWrapper","setChartAccessibilityTitle","setChartAccessibilitySubtitle","setChartAccessibilityLongDescription","setChartAccessibilityExecutiveSummary","setChartAccessibilityPurpose","setChartAccessibilityContext","setChartAccessibilityStatisticalNotes","setChartAccessibilityStructureNotes","setParentSVGAccessibility","reSetRoot","setTextures","setStrokes","setSubTitleElements","setGlobalSelections","setTestingAttributes","setInnerRatio","enterGeometries","updateGeometries","exitGeometries","enterLabels","updateLabels","exitLabels","enterEdgeLine","updateEdgeLine","exitEdgeLine","drawGeometries","drawEdgeLine","drawReferenceLines","drawCenterTitle","drawDataLabels","setChartCountAccessibility","setGeometryAccessibilityAttributes","setGeometryAriaLabels","setSelectedClass","updateCursor","bindInteractivity","drawAnnotations","setAnnotationAccessibility","onChangeHandler","pieG","setGroupAccessibilityAttributes","setGroupAccessibilityID","then","initialLoadEndEvent","componentDidUpdate","updateInteractionState","setLabelOpacity","checkLabelColorAgainstBackground","drawEndEvent","windowInstances","languageString","i18Next","languageObject","getResourceBundle","numeralObject","numeral","localeData","skipValidation","Object","assign","disableValidation","NORMALIZED","onClickEvent","undefined","clickEvent","misc","normalized","hasOwnProperty","getLanguageString","innerHeight","innerWidth","innerPaddedHeight","innerPaddedWidth","radius","preppedData","__spreadArray","Number","dataSum_1","map","parseFloat","getSum","refArr","referenceData","dataTotal_1","forEach","refPrep","push","_c","refPie","pieData","refData","_a","_b","keys","label_1","dataKeyNames","concat","tableData","tableColumns","subTitleG","colorFromProps","colors","base_grey","colorsArray","range","colorArr","textures","rootSVG","scheme","disableTransitions","copy","stacked","unitTest","rootG","tooltipG","labelG","refLabelG","edgeG","updatingLabels","updatingLabelsNotes","updatingEdges","update","references","selectAll","updatingRefLabels","updatingRefLabelsNotes","append","style","changeSvg","selection","namespace","easing","easeCircleIn","changeRoot","changeRootG","dataBoundToGeometries","enter","exit","merge","exitSize","size","enterSize","dataBoundToLabels","enteringLabels","exitingLabels","dataBoundToLabelsNotes","enteringLabelsNotes","exitingLabelsNotes","dataBoundToRefLabels","enteringRefLabels","exitingRefLabels","dataBoundToRefLabelsNotes","enteringRefLabelsNotes","exitingRefLabelsNotes","dataBoundToEdges","enteringEdges","exitingEdges","clicked","hovered","baseColor","state","inputElement","key","strokeWidth","fill","parentGNode","labelOpacity","noteOpacity","tempLabels","tempNotes","prevOpacity","styleVisibility","targetOpacity","collisionHideOnly","labelsAdded","filter","labelsRemoved","notesAdded","notesRemoved","validPositions","offsets","bitmaps","labelSelection","avoidMarks","accessors","hideOnly","removeOnly","suppressMarkDraw","group","interrupt","on","onClickHandler","onHoverHandler","onMouseOutHandler","each","_d","order","transition","ease","end","interpolator","interpolate","_current","call","focusDidExist","remove","geometryIsUpdating","newValue","inner","arcPadding","labelEnd","start","transitionEndEvent","selected","selectable","currentRefPie","enterRefPie","exitRefPie","updateRefPie","opacity","dashed","EPSILON","PI","format","titleRoot","textElement","getComputedStyle","fontSize","textWidth","textContent","fontFamily","textHeight","edgeOpacity","source","rootEle","chartTag","redraw","disableKeyNav","hideDataTable","hideDataTableButton","description","geomType","includeKeyNames","dataKeys","groupName","onChangeFunc","added","removed","target","hoverEvent","eventsTooltip","evt","event","isToShow","mouseOutEvent","chartType","render","drawStartEvent","init","h","class","isInteractive","hasCousinNavigation","display","isCompact","exceptions","exception","window"],"sources":["node_modules/d3-shape/src/arc.js","node_modules/d3-shape/src/descending.js","node_modules/d3-shape/src/identity.js","node_modules/d3-shape/src/pie.js","src/components/pie-chart/pie-chart-default-values.ts","src/components/pie-chart/pie-chart.scss?tag=pie-chart","src/components/pie-chart/pie-chart.tsx"],"sourcesContent":["import constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\nimport {withPath} from \"./path.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle. If this\n        // intersection fails, it’s probably because the arc is too small, so\n        // disable the corner radius entirely.\n        if (da < pi) {\n          if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {\n            var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = min(rc, (r0 - lc) / (kc - 1));\n            rc1 = min(rc, (r1 - lc) / (kc + 1));\n          } else {\n            rc0 = rc1 = 0;\n          }\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","/**\n * Copyright (c) 2020, 2021, 2022, 2023 Visa, Inc.\n *\n * This source code is licensed under the MIT license\n * https://github.com/visa/visa-chart-components/blob/master/LICENSE\n *\n **/\nimport Utils from '@visa/visa-charts-utils';\n\nconst { propDefaultValues } = Utils;\n\nexport class PieChartDefaultValues {\n  static readonly mainTitle = 'Pie Chart Title';\n  static readonly subTitle = propDefaultValues.subTitle.text;\n  static readonly centerTitle = '';\n  static readonly centerSubTitle = '';\n  static readonly height = 325;\n  static readonly width = 600;\n  static readonly margin = {\n    top: 600 * 0.05,\n    bottom: 600 * 0.05,\n    right: 600 * 0.05,\n    left: 600 * 0.05\n  };\n  static readonly padding = {\n    top: 20,\n    bottom: 50,\n    right: 70,\n    left: 70\n  };\n\n  static readonly localization = propDefaultValues.localization;\n\n  static readonly ordinalAccessor = 'label';\n  static readonly valueAccessor = 'value';\n  static readonly innerRatio = 0.7;\n  static readonly showEdgeLine = false;\n  static readonly showPercentage = true;\n  static readonly showLabelNote = true;\n  static readonly labelOffset = 25;\n\n  static readonly accessibility = propDefaultValues.accessibility;\n  static readonly animationConfig = propDefaultValues.animationConfig;\n  static readonly highestHeadingLevel = propDefaultValues.highestHeadingLevel;\n\n  static readonly colorPalette = propDefaultValues.colorPaletteSequential;\n  static readonly sortOrder = propDefaultValues.sortOrderAsc;\n\n  static readonly hoverStyle = propDefaultValues.hoverStyle;\n  static readonly clickStyle = propDefaultValues.clickStyle;\n  static readonly referenceStyle = propDefaultValues.referenceStyle;\n  static readonly hoverOpacity = propDefaultValues.hoverOpacity;\n  static readonly cursor = propDefaultValues.cursor;\n\n  static readonly showTooltip = propDefaultValues.showTooltip;\n  static readonly dataLabel = propDefaultValues.dataLabelNormalizedOut;\n  static readonly dataKeyNames;\n  static readonly tooltipLabel = propDefaultValues.tooltipLabel;\n  static readonly annotations = propDefaultValues.annotations;\n  static readonly suppressEvents = propDefaultValues.suppressEvents;\n  static readonly hoverHighlight;\n  static readonly clickHighlight = propDefaultValues.clickHighlight;\n}\n","/**\n * Copyright (c) 2020, 2021, 2023, 2024 Visa, Inc.\n *\n * This source code is licensed under the MIT license\n * https://github.com/visa/visa-chart-components/blob/master/LICENSE\n *\n **/\npie-chart {\n  .annotations {\n    pointer-events: none;\n    .handle {\n      pointer-events: all;\n    }\n  }\n\n  .screen-reader-info {\n    position: absolute;\n    left: -9999px;\n    top: auto;\n    width: 1px;\n    height: 1px;\n    overflow: hidden;\n  }\n\n  .data-table-link {\n    color: #767676;\n    text-decoration: none;\n    font-size: 12px;\n    margin-left: 5%;\n  }\n\n  .hidden {\n    display: none;\n  }\n\n  .pie-tooltip {\n    z-index: 1;\n  }\n\n  .arc {\n    text {\n      font: 0.625rem sans-serif;\n      text-anchor: middle;\n      cursor: default;\n    }\n  }\n\n  .pie-dataLabel-highlight {\n    font-size: 1.5rem;\n    font-weight: 300;\n  }\n  .pie-dataLabel-note {\n    font-size: 0.75rem;\n    fill: #767676;\n  }\n\n  .pie-center-title-group {\n    fill: #767676;\n    .visa-ui-header--1 {\n      font-size: 2rem;\n    }\n  }\n}\n","/**\n * Copyright (c) 2020, 2021, 2022, 2023 Visa, Inc.\n *\n * This source code is licensed under the MIT license\n * https://github.com/visa/visa-chart-components/blob/master/LICENSE\n *\n **/\nimport { Component, Element, Prop, Watch, h, Event, EventEmitter } from '@stencil/core';\nimport { select, event } from 'd3-selection';\nimport { arc, pie } from 'd3-shape';\nimport {\n  IBoxModelType,\n  ILocalizationType,\n  IHoverStyleType,\n  IClickStyleType,\n  IReferenceStyleType,\n  IDataLabelType,\n  ITooltipLabelType,\n  IAnimationConfig,\n  IAccessibilityType,\n  ISubTitleType\n} from '@visa/charts-types';\nimport { PieChartDefaultValues } from './pie-chart-default-values';\nimport { easeCircleIn } from 'd3-ease';\nimport { interpolate } from 'd3-interpolate';\nimport 'd3-transition';\nimport { v4 as uuid } from 'uuid';\nimport Utils from '@visa/visa-charts-utils';\n\nconst {\n  getGlobalInstances,\n  configLocalization,\n  getActiveLanguageString,\n  // verifyTextHasSpace,\n  checkAttributeTransitions,\n  createTextStrokeFilter,\n  drawHoverStrokes,\n  removeHoverStrokes,\n  buildStrokes,\n  convertColorsToTextures,\n  initializeDescriptionRoot,\n  initializeElementAccess,\n  setElementFocusHandler,\n  setElementAccessID,\n  setAccessibilityController,\n  hideNonessentialGroups,\n  setAccessTitle,\n  setAccessSubtitle,\n  setAccessLongDescription,\n  setAccessExecutiveSummary,\n  setAccessPurpose,\n  setAccessContext,\n  setAccessStatistics,\n  setAccessChartCounts,\n  setAccessStructure,\n  setAccessAnnotation,\n  retainAccessFocus,\n  checkAccessFocus,\n  setElementInteractionAccessState,\n  setAccessibilityDescriptionWidth,\n  autoTextColor,\n  annotate,\n  chartAccessors,\n  checkInteraction,\n  checkClicked,\n  checkHovered,\n  convertVisaColor,\n  drawTooltip,\n  formatStats,\n  getColors,\n  getLicenses,\n  getPadding,\n  getScopedData,\n  initTooltipStyle,\n  transitionEndAll,\n  overrideTitleTooltip,\n  scopeDataKeys,\n  visaColors,\n  validateAccessibilityProps,\n  validateLocalizationProps,\n  findTagLevel,\n  prepareRenderChange,\n  roundTo,\n  getTextWidth,\n  resolveLabelCollision,\n  setSubTitle\n} = Utils;\n@Component({\n  tag: 'pie-chart',\n  styleUrl: 'pie-chart.scss'\n})\nexport class PieChart {\n  @Event() clickEvent: EventEmitter;\n  @Event() hoverEvent: EventEmitter;\n  @Event() mouseOutEvent: EventEmitter;\n  @Event() initialLoadEvent: EventEmitter;\n  @Event() initialLoadEndEvent: EventEmitter;\n  @Event() drawStartEvent: EventEmitter;\n  @Event() drawEndEvent: EventEmitter;\n  @Event() transitionEndEvent: EventEmitter;\n\n  // Chart Attributes (1/7)\n  @Prop({ mutable: true }) localization: ILocalizationType = PieChartDefaultValues.localization;\n  @Prop({ mutable: true }) mainTitle: string = PieChartDefaultValues.mainTitle;\n  @Prop({ mutable: true }) subTitle: string | ISubTitleType = PieChartDefaultValues.subTitle;\n  @Prop({ mutable: true }) centerTitle: string = PieChartDefaultValues.centerTitle;\n  @Prop({ mutable: true }) centerSubTitle: string = PieChartDefaultValues.centerSubTitle;\n  @Prop({ mutable: true }) height: number = PieChartDefaultValues.height;\n  @Prop({ mutable: true }) width: number = PieChartDefaultValues.width;\n  @Prop({ mutable: true }) highestHeadingLevel: string | number = PieChartDefaultValues.highestHeadingLevel;\n\n  @Prop({ mutable: true }) margin: IBoxModelType = PieChartDefaultValues.margin;\n  @Prop({ mutable: true }) padding: IBoxModelType = PieChartDefaultValues.padding;\n\n  // Data (2/7)\n  @Prop() data: object[];\n  @Prop() uniqueID: string;\n  @Prop({ mutable: true }) ordinalAccessor: string = PieChartDefaultValues.ordinalAccessor;\n  @Prop({ mutable: true }) valueAccessor: string = PieChartDefaultValues.valueAccessor;\n  @Prop({ mutable: true }) sortOrder: string = PieChartDefaultValues.sortOrder;\n\n  // Color & Shape (4/7)\n  @Prop({ mutable: true }) colorPalette: string = PieChartDefaultValues.colorPalette;\n  @Prop({ mutable: true }) colors: string[];\n  @Prop({ mutable: true }) innerRatio: number = PieChartDefaultValues.innerRatio;\n  @Prop({ mutable: true }) showEdgeLine: boolean = PieChartDefaultValues.showEdgeLine;\n  @Prop({ mutable: true }) hoverStyle: IHoverStyleType = PieChartDefaultValues.hoverStyle;\n  @Prop({ mutable: true }) clickStyle: IClickStyleType = PieChartDefaultValues.clickStyle;\n  @Prop({ mutable: true }) referenceStyle: IReferenceStyleType = PieChartDefaultValues.referenceStyle;\n  @Prop({ mutable: true }) cursor: string = PieChartDefaultValues.cursor;\n  @Prop({ mutable: true }) hoverOpacity: number = PieChartDefaultValues.hoverOpacity;\n  @Prop({ mutable: true }) animationConfig: IAnimationConfig = PieChartDefaultValues.animationConfig;\n\n  // Data label (5/7)\n  @Prop({ mutable: true }) showPercentage: boolean = PieChartDefaultValues.showPercentage;\n  @Prop({ mutable: true }) showTooltip: boolean = PieChartDefaultValues.showTooltip;\n  @Prop({ mutable: true }) showLabelNote: boolean = PieChartDefaultValues.showLabelNote;\n  @Prop({ mutable: true }) labelOffset: number = PieChartDefaultValues.labelOffset;\n  @Prop({ mutable: true }) dataLabel: IDataLabelType = PieChartDefaultValues.dataLabel;\n  @Prop({ mutable: true }) dataKeyNames: object;\n  @Prop({ mutable: true }) tooltipLabel: ITooltipLabelType = PieChartDefaultValues.tooltipLabel;\n  @Prop({ mutable: true }) accessibility: IAccessibilityType = PieChartDefaultValues.accessibility;\n  @Prop({ mutable: true }) annotations: object[] = PieChartDefaultValues.annotations;\n\n  // Calculation (6/7)\n  @Prop() referenceData: object[];\n\n  // Interactivity (7/7)\n  @Prop({ mutable: true }) suppressEvents: boolean = PieChartDefaultValues.suppressEvents;\n  @Prop({ mutable: true }) hoverHighlight: object;\n  @Prop({ mutable: true }) clickHighlight: object[] = PieChartDefaultValues.clickHighlight;\n  @Prop({ mutable: true }) interactionKeys: string[];\n\n  // Testing (8/7)\n  @Prop() unitTest: boolean = false;\n  //  @Prop() debugMode: boolean = false;\n\n  @Element()\n  pieChartEl: HTMLElement;\n  shouldValidateAccessibility: boolean = true;\n  shouldValidateLocalization: boolean = true;\n  graphDataMerged: any;\n  preppedData: any;\n  svg: any;\n  root: any;\n  rootG: any;\n  arc: any;\n  edgeG: any;\n  current: any;\n  enter: any;\n  exit: any;\n  enteringLabels: any;\n  exitingLabels: any;\n  updatingLabels: any;\n  enteringRefLabels: any;\n  exitingRefLabels: any;\n  updatingRefLabels: any;\n  enteringLabelsNotes: any;\n  exitingLabelsNotes: any;\n  updatingLabelsNotes: any;\n  enteringRefLabelsNotes: any;\n  exitingRefLabelsNotes: any;\n  updatingRefLabelsNotes: any;\n  enteringEdges: any;\n  exitingEdges: any;\n  updatingEdges: any;\n  update: any;\n  updateRefPie: any;\n  duration: number;\n  defaults: boolean;\n  innerWidth: number;\n  innerHeight: number;\n  innerPaddedHeight: number;\n  innerPaddedWidth: number;\n  radius: number;\n  innerRadius: number;\n  outerRadius: number;\n  pie: any;\n  pieBackground: any;\n  pieG: any;\n  placement: string;\n  refArr: any;\n  edges: any;\n  refEdges: any;\n  pieData: any;\n  colorArr: any;\n  preparedColors: any;\n  refData: any;\n  labelsCurrent: any;\n  labelG: any;\n  tooltipG: any;\n  subTitleG: any;\n  references: any;\n  refLabelG: any;\n  refLabelsCurrent: any;\n  labelsCurrentNotes: any;\n  refLabelsCurrentNotes: any;\n  tableData: any;\n  tableColumns: any;\n  updated: boolean = true;\n  enterSize: number;\n  exitSize: number;\n  chartID: string;\n  innerInteractionKeys: any;\n  shouldValidate: boolean = false;\n  shouldUpdateCenterTitle: boolean = false;\n  shouldUpdateTableData: boolean = false;\n  shouldResetRoot: boolean = false;\n  shouldUpdateLabels: boolean = false;\n  shouldUpdateAnnotations: boolean = false;\n  shouldUpdateData: boolean = false;\n  shouldSetColors: boolean = false;\n  shouldSetSubTitle: boolean = false;\n  shouldUpdateCursor: boolean = false;\n  shouldUpdateGeometries: boolean = false;\n  shouldUpdateEdgeLines: boolean = false;\n  shouldUpdateInnerRatio: boolean = false;\n  shouldUpdateLayout: boolean = false;\n  shouldSetPieRadius: boolean = false;\n  shouldPrepareChartData: boolean = false;\n  shouldUpdateReferenceLines: boolean = false;\n  shouldValidateInteractionKeys: boolean = false;\n  shouldSetGlobalSelections: boolean = false;\n  shouldSetTestingAttributes: boolean = false;\n  shouldEnterUpdateExit: boolean = false;\n  shouldBindInteractivity: boolean = false;\n  shouldSetSelectionClass: boolean = false;\n  shouldDrawInteractionState: boolean = false;\n  shouldSetLabelOpacity: boolean = false;\n  shouldCheckLabelColor: boolean = false;\n  shouldUpdateScales: boolean = false;\n  shouldUpdateDescriptionWrapper: boolean = false;\n  shouldSetChartAccessibilityTitle: boolean = false;\n  shouldSetChartAccessibilitySubtitle: boolean = false;\n  shouldSetChartAccessibilityLongDescription: boolean = false;\n  shouldSetChartAccessibilityExecutiveSummary: boolean = false;\n  shouldSetChartAccessibilityStatisticalNotes: boolean = false;\n  shouldSetChartAccessibilityStructureNotes: boolean = false;\n  shouldSetParentSVGAccessibility: boolean = false;\n  shouldSetGeometryAccessibilityAttributes: boolean = false;\n  shouldSetGeometryAriaLabels: boolean = false;\n  shouldSetGroupAccessibilityAttributes: boolean = false;\n  shouldSetGroupAccessibilityLabel: boolean = false;\n  shouldSetChartAccessibilityPurpose: boolean = false;\n  shouldSetChartAccessibilityContext: boolean = false;\n  shouldRedrawWrapper: boolean = false;\n  shouldSetTagLevels: boolean = false;\n  shouldSetChartAccessibilityCount: boolean = false;\n  shouldSetAnnotationAccessibility: boolean = false;\n  shouldSetTextures: boolean = false;\n  shouldSetStrokes: boolean = false;\n  shouldSetLocalizationConfig: boolean = false;\n  strokes: any = {};\n  topLevel: string = 'h2';\n  bottomLevel: string = 'p';\n  bitmaps: any;\n\n  @Watch('mainTitle')\n  titleWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n    this.shouldUpdateDescriptionWrapper = true;\n    this.shouldSetChartAccessibilityTitle = true;\n    this.shouldSetParentSVGAccessibility = true;\n  }\n\n  @Watch('subTitle')\n  subtitleWatcher(_newVal, _oldVal) {\n    this.shouldSetSubTitle = true;\n    this.shouldSetChartAccessibilitySubtitle = true;\n    this.shouldSetParentSVGAccessibility = true;\n  }\n\n  @Watch('highestHeadingLevel')\n  headingWatcher(_newVal, _oldVal) {\n    this.shouldRedrawWrapper = true;\n    this.shouldSetTagLevels = true;\n    this.shouldSetChartAccessibilityCount = true;\n    this.shouldSetAnnotationAccessibility = true;\n    this.shouldUpdateDescriptionWrapper = true;\n    this.shouldSetSubTitle = true;\n    this.shouldSetChartAccessibilityTitle = true;\n    this.shouldSetChartAccessibilitySubtitle = true;\n    this.shouldSetChartAccessibilityLongDescription = true;\n    this.shouldSetChartAccessibilityContext = true;\n    this.shouldSetChartAccessibilityExecutiveSummary = true;\n    this.shouldSetChartAccessibilityPurpose = true;\n    this.shouldSetChartAccessibilityStatisticalNotes = true;\n    this.shouldSetChartAccessibilityStructureNotes = true;\n  }\n\n  @Watch('centerTitle')\n  @Watch('centerSubTitle')\n  centerTitleWatcher(_newVal, _oldVal) {\n    this.shouldUpdateCenterTitle = true;\n  }\n\n  @Watch('height')\n  @Watch('width')\n  @Watch('padding')\n  @Watch('margin')\n  layoutWatcher(_newVal, _oldVal) {\n    this.shouldUpdateLayout = true;\n    this.shouldUpdateData = true;\n    this.shouldResetRoot = true;\n    this.shouldUpdateGeometries = true;\n    this.shouldUpdateScales = true;\n    this.shouldSetPieRadius = true;\n    this.shouldSetGlobalSelections = true;\n    this.shouldEnterUpdateExit = true;\n    this.shouldUpdateLabels = true;\n    this.shouldUpdateEdgeLines = true;\n    this.shouldUpdateReferenceLines = true;\n    this.shouldUpdateAnnotations = true;\n  }\n\n  @Watch('data')\n  dataWatcher(_newVal, _oldVal) {\n    this.updated = true;\n    this.shouldUpdateData = true;\n    this.shouldSetGlobalSelections = true;\n    this.shouldSetTestingAttributes = true;\n    this.shouldEnterUpdateExit = true;\n    this.shouldDrawInteractionState = true;\n    this.shouldUpdateTableData = true;\n    this.shouldValidate = true;\n    this.shouldUpdateGeometries = true;\n    this.shouldUpdateEdgeLines = true;\n    this.shouldUpdateLabels = true;\n    this.shouldUpdateReferenceLines = true;\n    this.shouldUpdateAnnotations = true;\n    this.shouldSetGeometryAccessibilityAttributes = true;\n    this.shouldSetGeometryAriaLabels = true;\n    this.shouldSetTextures = true;\n    this.shouldSetStrokes = true;\n    this.shouldSetColors = true;\n    this.shouldCheckLabelColor = true;\n  }\n\n  @Watch('uniqueID')\n  idWatcher(newVal, _oldVal) {\n    console.error(\n      'Change detected in prop uniqueID from value ' +\n        _oldVal +\n        ' to value ' +\n        newVal +\n        '. This prop cannot be changed after component has loaded.'\n    );\n    // this.chartID = newVal || 'pie-chart-' + uuid();\n    // this.pieChartEl.id = this.chartID;\n    // this.shouldValidate = true;\n    // this.shouldUpdateDescriptionWrapper = true;\n    // this.shouldSetParentSVGAccessibility = true;\n    // this.shouldSetTextures = true;\n    // this.shouldCheckLabelColor = true;\n    // this.shouldDrawInteractionState = true;\n    // this.shouldSetStrokes = true;\n  }\n\n  @Watch('ordinalAccessor')\n  ordinalAccessorWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n    this.shouldUpdateData = true;\n    this.shouldSetGlobalSelections = true;\n    this.shouldUpdateTableData = true;\n    this.shouldUpdateGeometries = true;\n    this.shouldDrawInteractionState = true;\n    this.shouldUpdateEdgeLines = true;\n    this.shouldUpdateReferenceLines = true;\n    this.shouldSetGeometryAriaLabels = true;\n    this.shouldSetLabelOpacity = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetTextures = true;\n    this.shouldSetStrokes = true;\n    if (!(this.interactionKeys && this.interactionKeys.length)) {\n      this.shouldValidateInteractionKeys = true;\n      this.shouldSetSelectionClass = true;\n    }\n  }\n\n  @Watch('valueAccessor')\n  valueAccessorWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n    this.shouldUpdateData = true;\n    this.shouldUpdateScales = true;\n    this.shouldSetGlobalSelections = true;\n    this.shouldUpdateTableData = true;\n    this.shouldUpdateGeometries = true;\n    this.shouldUpdateEdgeLines = true;\n    this.shouldDrawInteractionState = true;\n    this.shouldSetLabelOpacity = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldUpdateLabels = true;\n    this.shouldUpdateReferenceLines = true;\n    this.shouldUpdateAnnotations = true;\n    this.shouldSetGeometryAriaLabels = true;\n  }\n\n  @Watch('sortOrder')\n  sortWatcher(_newVal, _oldVal) {\n    this.updated = true;\n    this.shouldUpdateData = true;\n    this.shouldSetGlobalSelections = true;\n    this.shouldSetTestingAttributes = true;\n    this.shouldEnterUpdateExit = true;\n    this.shouldDrawInteractionState = true;\n    this.shouldUpdateTableData = true;\n    this.shouldUpdateGeometries = true;\n    this.shouldUpdateEdgeLines = true;\n    this.shouldUpdateLabels = true;\n    this.shouldUpdateReferenceLines = true;\n    this.shouldUpdateAnnotations = true;\n    this.shouldSetGeometryAccessibilityAttributes = true;\n    this.shouldSetGeometryAriaLabels = true;\n  }\n\n  @Watch('colorPalette')\n  paletteWatcher(_newVal, _oldVal) {\n    this.shouldSetColors = true;\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetTextures = true;\n    this.shouldSetStrokes = true;\n  }\n\n  @Watch('colors')\n  colorsWatcher(_newVal, _oldVal) {\n    this.shouldSetColors = true;\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetTextures = true;\n    this.shouldSetStrokes = true;\n  }\n\n  @Watch('innerRatio')\n  innerRatioWatcher(_newVal, _oldVal) {\n    this.shouldSetPieRadius = true;\n    this.shouldUpdateData = true;\n    this.shouldUpdateInnerRatio = true;\n    this.shouldUpdateGeometries = true;\n    this.shouldUpdateEdgeLines = true;\n    this.shouldUpdateReferenceLines = true;\n  }\n\n  @Watch('showEdgeLine')\n  showEdgeLineWatcher(_newVal, _oldVal) {\n    this.shouldUpdateEdgeLines = true;\n  }\n\n  @Watch('referenceStyle')\n  referenceWatcher(_newVal, _oldVal) {\n    this.shouldUpdateReferenceLines = true;\n  }\n\n  @Watch('hoverOpacity')\n  hoverOpacityWatcher(_newVal, _oldVal) {\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetLabelOpacity = true;\n  }\n\n  @Watch('cursor')\n  cursorWatcher(_newVal, _oldVal) {\n    this.shouldUpdateCursor = true;\n  }\n\n  @Watch('showPercentage')\n  showPercentageWatcher(_newVal, _oldVal) {\n    this.shouldUpdateLabels = true;\n    this.shouldSetGeometryAriaLabels = true;\n    this.shouldUpdateTableData = true;\n  }\n\n  @Watch('showTooltip')\n  showTooltipWatcher(_newVal, _oldVal) {\n    this.shouldDrawInteractionState = true;\n  }\n\n  @Watch('tooltipLabel')\n  tooltipLabelWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n    this.shouldUpdateTableData = true;\n    this.shouldSetParentSVGAccessibility = true;\n    this.shouldSetGeometryAriaLabels = true;\n  }\n\n  @Watch('dataLabel')\n  labelWatcher(_newVal, _oldVal) {\n    this.shouldUpdateLabels = true;\n    this.shouldValidate = true;\n    this.shouldUpdateTableData = true;\n    const newPlacementVal = _newVal && _newVal.placement ? _newVal.placement : false;\n    const oldPlacementVal = _oldVal && _oldVal.placement ? _oldVal.placement : false;\n    const newVisibleVal = _newVal && _newVal.visible;\n    const oldVisibleVal = _oldVal && _oldVal.visible;\n    if (newVisibleVal !== oldVisibleVal) {\n      this.shouldSetLabelOpacity = true;\n    }\n    if (newPlacementVal !== oldPlacementVal) {\n      this.shouldSetLabelOpacity = true;\n      this.shouldCheckLabelColor = true;\n    }\n  }\n\n  @Watch('showLabelNote')\n  labelNoteWatcher(_newVal, _oldVal) {\n    this.shouldSetLabelOpacity = true;\n    this.shouldUpdateLabels = true;\n  }\n\n  @Watch('labelOffset')\n  labelOffsetWatcher(_newVal, _oldVal) {\n    this.shouldUpdateLabels = true;\n  }\n\n  @Watch('localization')\n  localizationWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n\n    // language\n    const newLanguage = _newVal && _newVal.language ? _newVal.language : false;\n    const oldLanguage = _oldVal && _oldVal.language ? _oldVal.language : false;\n    if (newLanguage !== oldLanguage) {\n      this.shouldSetLocalizationConfig = true;\n      this.shouldUpdateTableData = true;\n      this.shouldCheckLabelColor = true;\n      this.shouldRedrawWrapper = true;\n      this.shouldUpdateDescriptionWrapper = true;\n      this.shouldSetChartAccessibilityCount = true;\n      this.shouldUpdateDescriptionWrapper = true;\n      this.shouldSetGeometryAriaLabels = true;\n      this.shouldSetParentSVGAccessibility = true;\n    }\n\n    // numeralLocale\n    const newNumeralLocale = _newVal && _newVal.numeralLocale ? _newVal.numeralLocale : false;\n    const oldNumeralLocale = _oldVal && _oldVal.numeralLocale ? _oldVal.numeralLocale : false;\n    if (newNumeralLocale !== oldNumeralLocale) {\n      this.shouldSetLocalizationConfig = true;\n      this.shouldUpdateTableData = true;\n      this.shouldCheckLabelColor = true;\n      this.shouldRedrawWrapper = true;\n      this.shouldUpdateDescriptionWrapper = true;\n      this.shouldSetChartAccessibilityCount = true;\n      this.shouldUpdateDescriptionWrapper = true;\n      this.shouldSetGeometryAriaLabels = true;\n      this.shouldSetParentSVGAccessibility = true;\n    }\n  }\n\n  @Watch('accessibility')\n  accessibilityWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n    const newTitle = _newVal && _newVal.title ? _newVal.title : false;\n    const oldTitle = _oldVal && _oldVal.title ? _oldVal.title : false;\n    if (newTitle !== oldTitle) {\n      this.shouldUpdateDescriptionWrapper = true;\n      this.shouldSetChartAccessibilityTitle = true;\n      this.shouldSetParentSVGAccessibility = true;\n    }\n    const newExecutiveSummary = _newVal && _newVal.executiveSummary ? _newVal.executiveSummary : false;\n    const oldExecutiveSummary = _oldVal && _oldVal.executiveSummary ? _oldVal.executiveSummary : false;\n    if (newExecutiveSummary !== oldExecutiveSummary) {\n      this.shouldSetChartAccessibilityExecutiveSummary = true;\n    }\n    const newPurpose = _newVal && _newVal.purpose ? _newVal.purpose : false;\n    const oldPurpose = _oldVal && _oldVal.purpose ? _oldVal.purpose : false;\n    if (newPurpose !== oldPurpose) {\n      this.shouldSetChartAccessibilityPurpose = true;\n    }\n    const newLongDescription = _newVal && _newVal.longDescription ? _newVal.longDescription : false;\n    const oldLongDescription = _oldVal && _oldVal.longDescription ? _oldVal.longDescription : false;\n    if (newLongDescription !== oldLongDescription) {\n      this.shouldSetChartAccessibilityLongDescription = true;\n    }\n    const newContext = _newVal && _newVal.contextExplanation ? _newVal.contextExplanation : false;\n    const oldContext = _oldVal && _oldVal.contextExplanation ? _oldVal.contextExplanation : false;\n    if (newContext !== oldContext) {\n      this.shouldSetChartAccessibilityContext = true;\n    }\n    const newStatisticalNotes = _newVal && _newVal.statisticalNotes ? _newVal.statisticalNotes : false;\n    const oldStatisticalNotes = _oldVal && _oldVal.statisticalNotes ? _oldVal.statisticalNotes : false;\n    if (newStatisticalNotes !== oldStatisticalNotes) {\n      this.shouldSetChartAccessibilityStatisticalNotes = true;\n    }\n    const newStructureNotes = _newVal && _newVal.structureNotes ? _newVal.structureNotes : false;\n    const oldStructureNotes = _oldVal && _oldVal.structureNotes ? _oldVal.structureNotes : false;\n    if (newStructureNotes !== oldStructureNotes) {\n      this.shouldSetChartAccessibilityStructureNotes = true;\n    }\n    const newincludeDataKeyNames = _newVal && _newVal.includeDataKeyNames;\n    const oldincludeDataKeyNames = _oldVal && _oldVal.includeDataKeyNames;\n    const newElementDescriptionAccessor =\n      _newVal && _newVal.elementDescriptionAccessor ? _newVal.elementDescriptionAccessor : false;\n    const oldElementDescriptionAccessor =\n      _oldVal && _oldVal.elementDescriptionAccessor ? _oldVal.elementDescriptionAccessor : false;\n    if (\n      newincludeDataKeyNames !== oldincludeDataKeyNames ||\n      newElementDescriptionAccessor !== oldElementDescriptionAccessor\n    ) {\n      if (newincludeDataKeyNames !== oldincludeDataKeyNames) {\n        // this one is tricky because it needs to run after the lifecycle\n        // AND it could run in the off-chance this prop is changed\n        this.shouldSetGroupAccessibilityLabel = true;\n      }\n      this.shouldSetGeometryAriaLabels = true;\n      this.shouldSetParentSVGAccessibility = true;\n    }\n    const newTextures = _newVal && _newVal.hideTextures ? _newVal.hideTextures : false;\n    const oldTextures = _oldVal && _oldVal.hideTextures ? _oldVal.hideTextures : false;\n    if (newTextures !== oldTextures) {\n      this.shouldSetTextures = true;\n      this.shouldDrawInteractionState = true;\n    }\n    const newSmallValue = _newVal && _newVal.showSmallLabels ? _newVal.showSmallLabels : false;\n    const oldSmallValue = _oldVal && _oldVal.showSmallLabels ? _oldVal.showSmallLabels : false;\n    if (newSmallValue !== oldSmallValue) {\n      this.shouldSetLabelOpacity = true;\n    }\n    const newStrokes = _newVal && _newVal.hideStrokes ? _newVal.hideStrokes : false;\n    const oldStrokes = _oldVal && _oldVal.hideStrokes ? _oldVal.hideStrokes : false;\n    if (newStrokes !== oldStrokes) {\n      this.shouldSetStrokes = true;\n      this.shouldDrawInteractionState = true;\n    }\n    const newKeyNav =\n      _newVal && _newVal.keyboardNavConfig && _newVal.keyboardNavConfig.disabled\n        ? _newVal.keyboardNavConfig.disabled\n        : false;\n    const oldKeyNav =\n      _oldVal && _oldVal.keyboardNavConfig && _oldVal.keyboardNavConfig.disabled\n        ? _oldVal.keyboardNavConfig.disabled\n        : false;\n    const newInterface = _newVal && _newVal.elementsAreInterface ? _newVal.elementsAreInterface : false;\n    const oldInterface = _oldVal && _oldVal.elementsAreInterface ? _oldVal.elementsAreInterface : false;\n    if (newKeyNav !== oldKeyNav || newInterface !== oldInterface) {\n      this.shouldSetGeometryAriaLabels = true;\n      this.shouldSetParentSVGAccessibility = true;\n      this.shouldUpdateDescriptionWrapper = true;\n      this.shouldRedrawWrapper = true;\n      this.shouldSetChartAccessibilityTitle = true;\n      this.shouldSetChartAccessibilitySubtitle = true;\n      this.shouldSetChartAccessibilityLongDescription = true;\n      this.shouldSetChartAccessibilityContext = true;\n      this.shouldSetChartAccessibilityExecutiveSummary = true;\n      this.shouldSetChartAccessibilityPurpose = true;\n      this.shouldSetChartAccessibilityStatisticalNotes = true;\n      this.shouldSetChartAccessibilityStructureNotes = true;\n    }\n    if (newInterface !== oldInterface) {\n      this.shouldSetSelectionClass = true;\n    }\n  }\n\n  @Watch('annotations')\n  annotationsWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n    this.shouldUpdateAnnotations = true;\n    this.shouldSetAnnotationAccessibility = true;\n  }\n\n  @Watch('referenceData')\n  referenceDataWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n    this.shouldUpdateReferenceLines = true;\n    this.shouldUpdateTableData = true;\n    this.shouldSetAnnotationAccessibility = true;\n  }\n\n  @Watch('suppressEvents')\n  suppressWatcher(_newVal, _oldVal) {\n    this.shouldBindInteractivity = true;\n    this.shouldUpdateCursor = true;\n    this.shouldSetGeometryAriaLabels = true;\n    this.shouldSetParentSVGAccessibility = true;\n    this.shouldUpdateDescriptionWrapper = true;\n    this.shouldRedrawWrapper = true;\n    this.shouldValidate = true;\n    this.shouldSetSubTitle = true;\n    this.shouldSetChartAccessibilityTitle = true;\n    this.shouldSetChartAccessibilitySubtitle = true;\n    this.shouldSetChartAccessibilityLongDescription = true;\n    this.shouldSetChartAccessibilityContext = true;\n    this.shouldSetChartAccessibilityExecutiveSummary = true;\n    this.shouldSetChartAccessibilityPurpose = true;\n    this.shouldSetChartAccessibilityStatisticalNotes = true;\n    this.shouldSetChartAccessibilityStructureNotes = true;\n  }\n\n  @Watch('clickStyle')\n  clickStyleWatcher(_newVal, _oldVal) {\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetLabelOpacity = true;\n    this.shouldSetStrokes = true;\n  }\n  @Watch('hoverStyle')\n  hoverStyleWatcher(_newVal, _oldVal) {\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetLabelOpacity = true;\n    this.shouldSetStrokes = true;\n  }\n\n  @Watch('clickHighlight')\n  clickWatcher(_newVal, _oldVal) {\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetLabelOpacity = true;\n    this.shouldSetSelectionClass = true;\n  }\n\n  @Watch('hoverHighlight')\n  hoverWatcher(_newVal, _oldVal) {\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetLabelOpacity = true;\n  }\n\n  @Watch('interactionKeys')\n  interactionWatcher(_newVal, _oldVal) {\n    this.shouldValidateInteractionKeys = true;\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetLabelOpacity = true;\n    this.shouldSetSelectionClass = true;\n    this.shouldSetGeometryAriaLabels = true;\n    this.shouldUpdateTableData = true;\n  }\n\n  @Watch('dataKeyNames')\n  dataKeyNamesWatcher(_newVal, _oldVal) {\n    this.shouldSetParentSVGAccessibility = true;\n    this.shouldSetGroupAccessibilityLabel = true;\n    this.shouldSetGeometryAriaLabels = true;\n    this.shouldUpdateTableData = true;\n  }\n\n  @Watch('unitTest')\n  unitTestWatcher(_newVal, _oldVal) {\n    this.shouldSetTestingAttributes = true;\n  }\n\n  componentWillLoad() {\n    const chartID = this.uniqueID || 'pie-chart-' + uuid();\n    this.initialLoadEvent.emit({ chartID: chartID });\n    // contrary to componentWillUpdate, this method appears safe to use for\n    // any calculations we need. Keeping them here reduces future refactor,\n    // since componentWillUpdate should eventually mirror this method\n    return new Promise(resolve => {\n      this.duration = 0;\n      this.chartID = chartID;\n      this.pieChartEl.id = this.chartID;\n      this.setLocalizationConfig();\n      this.setTagLevels();\n      this.prepareScales();\n      this.prepareData();\n      this.setLayoutData();\n      this.setPieRadius();\n      this.validateInteractionKeys();\n      this.setTableData();\n      this.shouldValidateAccessibilityProps();\n      this.shouldValidateLocalizationProps();\n      this.setColors();\n      resolve('component will load');\n    });\n  }\n\n  componentWillUpdate() {\n    // NEVER put items in this method (until stencil bug is resolved)\n    // All items that belong here are currently at the top of componentDidUpdate\n    // see: https://github.com/ionic-team/stencil/issues/2061#issuecomment-578282178\n    return new Promise(resolve => {\n      resolve('component will update');\n    });\n  }\n\n  componentDidLoad() {\n    return new Promise(resolve => {\n      this.defaults = true;\n      this.shouldValidateAccessibilityProps();\n      this.shouldValidateLocalizationProps();\n      this.renderRootElements();\n      this.setTooltipInitialStyle();\n      this.setChartDescriptionWrapper();\n      this.setChartAccessibilityTitle();\n      this.setChartAccessibilitySubtitle();\n      this.setChartAccessibilityLongDescription();\n      this.setChartAccessibilityExecutiveSummary();\n      this.setChartAccessibilityPurpose();\n      this.setChartAccessibilityContext();\n      this.setChartAccessibilityStatisticalNotes();\n      this.setChartAccessibilityStructureNotes();\n      this.setParentSVGAccessibility();\n      this.reSetRoot();\n      this.setTextures();\n      this.setStrokes();\n      this.setSubTitleElements();\n      this.setGlobalSelections();\n      this.setTestingAttributes();\n      this.setColors();\n      this.setInnerRatio();\n      this.enterGeometries();\n      this.updateGeometries();\n      this.exitGeometries();\n      this.enterLabels('Labels');\n      this.updateLabels('Labels');\n      this.exitLabels('Labels');\n      this.enterEdgeLine();\n      this.updateEdgeLine('Edges');\n      this.exitEdgeLine();\n      this.enterLabels('RefLabels');\n      this.updateLabels('RefLabels');\n      this.exitLabels('RefLabels');\n      this.drawGeometries();\n      this.drawEdgeLine();\n      this.drawReferenceLines();\n      this.drawCenterTitle();\n      this.drawDataLabels('Labels');\n      this.drawDataLabels('RefLabels');\n      this.setChartCountAccessibility();\n      this.setGeometryAccessibilityAttributes();\n      this.setGeometryAriaLabels();\n      this.setSelectedClass();\n      // this.updateInteractionState();\n      // this.setLabelOpacity();\n      // this.checkLabelColorAgainstBackground();\n      this.updateCursor();\n      this.bindInteractivity();\n      this.drawAnnotations();\n      this.setAnnotationAccessibility();\n      this.onChangeHandler();\n      hideNonessentialGroups(this.root.node(), this.pieG.node());\n      this.setGroupAccessibilityAttributes();\n      this.setGroupAccessibilityID();\n      this.defaults = false;\n      resolve('component did load');\n    }).then(() => this.initialLoadEndEvent.emit({ chartID: this.chartID }));\n  }\n\n  componentDidUpdate() {\n    return new Promise(resolve => {\n      this.duration = !this.animationConfig || !this.animationConfig.disabled ? 750 : 0;\n      if (this.shouldUpdateDescriptionWrapper) {\n        this.setChartDescriptionWrapper();\n        this.shouldUpdateDescriptionWrapper = false;\n      }\n      if (this.shouldSetChartAccessibilityCount) {\n        this.setChartCountAccessibility();\n        this.shouldSetChartAccessibilityCount = false;\n      }\n      if (this.shouldSetChartAccessibilityTitle) {\n        this.setChartAccessibilityTitle();\n        this.shouldSetChartAccessibilityTitle = false;\n      }\n      if (this.shouldSetChartAccessibilitySubtitle) {\n        this.setChartAccessibilitySubtitle();\n        this.shouldSetChartAccessibilitySubtitle = false;\n      }\n      if (this.shouldSetChartAccessibilityLongDescription) {\n        this.setChartAccessibilityLongDescription();\n        this.shouldSetChartAccessibilityLongDescription = false;\n      }\n      if (this.shouldSetChartAccessibilityExecutiveSummary) {\n        this.setChartAccessibilityExecutiveSummary();\n        this.shouldSetChartAccessibilityExecutiveSummary = false;\n      }\n      if (this.shouldSetChartAccessibilityPurpose) {\n        this.setChartAccessibilityPurpose();\n        this.shouldSetChartAccessibilityPurpose = false;\n      }\n      if (this.shouldSetChartAccessibilityContext) {\n        this.setChartAccessibilityContext();\n        this.shouldSetChartAccessibilityContext = false;\n      }\n      if (this.shouldSetChartAccessibilityStatisticalNotes) {\n        this.setChartAccessibilityStatisticalNotes();\n        this.shouldSetChartAccessibilityStatisticalNotes = false;\n      }\n      if (this.shouldSetChartAccessibilityStructureNotes) {\n        this.setChartAccessibilityStructureNotes();\n        this.shouldSetChartAccessibilityStructureNotes = false;\n      }\n      if (this.shouldSetParentSVGAccessibility) {\n        this.setParentSVGAccessibility();\n        this.shouldSetParentSVGAccessibility = false;\n      }\n      if (this.shouldResetRoot) {\n        this.reSetRoot();\n        this.shouldResetRoot = false;\n      }\n      if (this.shouldSetTextures) {\n        this.setTextures();\n        this.shouldSetTextures = false;\n      }\n      if (this.shouldSetStrokes) {\n        this.setStrokes();\n        this.shouldSetStrokes = false;\n      }\n      if (this.shouldSetGlobalSelections) {\n        this.setGlobalSelections();\n        this.shouldSetGlobalSelections = false;\n      }\n      if (this.shouldSetTestingAttributes) {\n        this.setTestingAttributes();\n        this.shouldSetTestingAttributes = false;\n      }\n      if (this.shouldSetSubTitle) {\n        this.setSubTitleElements();\n        this.shouldSetSubTitle = false;\n      }\n      if (this.shouldEnterUpdateExit) {\n        this.enterGeometries();\n        this.updateGeometries();\n        this.exitGeometries();\n        this.enterEdgeLine();\n        this.updateEdgeLine('Edges');\n        this.exitEdgeLine();\n        this.enterLabels('Labels');\n        this.updateLabels('Labels');\n        this.exitLabels('Labels');\n        this.enterLabels('RefLabels');\n        this.updateLabels('RefLabels');\n        this.exitLabels('RefLabels');\n        this.shouldEnterUpdateExit = false;\n      }\n      if (this.shouldUpdateReferenceLines) {\n        this.drawReferenceLines();\n        this.shouldUpdateReferenceLines = false;\n      }\n      if (this.shouldUpdateGeometries) {\n        this.drawGeometries();\n        this.shouldUpdateGeometries = false;\n      }\n      if (this.shouldUpdateEdgeLines) {\n        this.updateEdgeLine('Edges');\n        this.drawEdgeLine();\n        this.shouldUpdateEdgeLines = false;\n      }\n      if (this.shouldUpdateCenterTitle) {\n        this.drawCenterTitle();\n        this.shouldUpdateCenterTitle = false;\n      }\n      if (this.shouldUpdateLabels) {\n        this.drawDataLabels('Labels');\n        this.drawDataLabels('RefLabels');\n        this.shouldUpdateLabels = false;\n      }\n      if (this.shouldSetGeometryAccessibilityAttributes) {\n        this.setGeometryAccessibilityAttributes();\n        this.shouldSetGeometryAccessibilityAttributes = false;\n      }\n      if (this.shouldSetGeometryAriaLabels) {\n        this.setGeometryAriaLabels();\n        this.shouldSetGeometryAriaLabels = false;\n      }\n      if (this.shouldSetGroupAccessibilityLabel) {\n        this.setGroupAccessibilityID();\n        this.shouldSetGroupAccessibilityLabel = false;\n      }\n      if (this.shouldDrawInteractionState) {\n        this.updateInteractionState();\n        this.shouldDrawInteractionState = false;\n      }\n      if (this.shouldSetLabelOpacity) {\n        this.setLabelOpacity();\n        this.shouldSetLabelOpacity = false;\n      }\n      if (this.shouldCheckLabelColor) {\n        this.checkLabelColorAgainstBackground('Labels');\n        this.checkLabelColorAgainstBackground('RefLabels');\n        this.shouldCheckLabelColor = false;\n      }\n      if (this.shouldSetSelectionClass) {\n        this.setSelectedClass();\n        this.shouldSetSelectionClass = false;\n      }\n      if (this.shouldUpdateCursor) {\n        this.updateCursor();\n        this.shouldUpdateCursor = false;\n      }\n      if (this.shouldBindInteractivity) {\n        this.bindInteractivity();\n        this.shouldBindInteractivity = false;\n      }\n      if (this.shouldUpdateAnnotations) {\n        this.drawAnnotations();\n        this.shouldUpdateAnnotations = false;\n      }\n      if (this.shouldSetAnnotationAccessibility) {\n        this.setAnnotationAccessibility();\n        this.shouldSetAnnotationAccessibility = false;\n      }\n      this.onChangeHandler();\n      resolve('component did update');\n    }).then(() => this.drawEndEvent.emit({ chartID: this.chartID }));\n  }\n\n  shouldValidateLocalizationProps() {\n    const windowInstances = getGlobalInstances();\n    const languageString = windowInstances.i18Next.language;\n    const languageObject = windowInstances.i18Next.getResourceBundle(languageString);\n    const numeralObject = windowInstances.numeral.localeData();\n    if (this.shouldValidateLocalization && !this.localization.skipValidation) {\n      this.shouldValidateLocalization = false;\n      validateLocalizationProps(this.chartID, {\n        ...this.localization,\n        language: languageObject,\n        numeralLocale: numeralObject\n      });\n    }\n  }\n\n  shouldValidateAccessibilityProps() {\n    if (this.shouldValidateAccessibility && !this.accessibility.disableValidation) {\n      this.shouldValidateAccessibility = false;\n      const NORMALIZED = 'normalized';\n      validateAccessibilityProps(this.chartID, this.accessibility, {\n        annotations: this.annotations,\n        data: this.data,\n        uniqueID: this.uniqueID,\n        context: {\n          mainTitle: this.mainTitle,\n          onClickEvent: this.suppressEvents ? undefined : this.clickEvent.emit,\n          tooltipLabel: this.tooltipLabel,\n          dataLabel: this.dataLabel,\n          valueAccessor: this.valueAccessor\n        },\n        misc: {\n          normalized: this.hasOwnProperty(NORMALIZED) ? this[NORMALIZED] : false\n        }\n      });\n    }\n  }\n\n  validateInteractionKeys() {\n    this.innerInteractionKeys =\n      // this.interactionKeys ? '' : (this.interactionKeys = [this.ordinalAccessor]);\n      this.interactionKeys && this.interactionKeys.length ? this.interactionKeys : [this.ordinalAccessor];\n  }\n\n  getLanguageString() {\n    return getActiveLanguageString(this.localization);\n  }\n\n  setLocalizationConfig() {\n    configLocalization(this.localization);\n  }\n\n  setLayoutData() {\n    this.padding = typeof this.padding === 'string' ? getPadding(this.padding) : this.padding;\n\n    this.innerHeight = this.height - this.margin.top - this.margin.bottom;\n    this.innerWidth = this.width - this.margin.left - this.margin.right;\n\n    this.innerPaddedHeight = this.innerHeight - this.padding.top - this.padding.bottom;\n    this.innerPaddedWidth = this.innerWidth - this.padding.left - this.padding.right;\n  }\n\n  setPieRadius() {\n    this.radius = Math.min(this.innerPaddedWidth, this.innerPaddedHeight) / 2;\n\n    // this.pieData.forEach(d => {\n    //   this.innerRadius = this.radius * this.innerRatio;\n    //   this.outerRadius = this.radius;\n    // });\n\n    this.innerRadius = this.radius * this.innerRatio;\n    this.outerRadius = this.radius;\n  }\n\n  prepareData() {\n    if (this.data) {\n      if (this.sortOrder === 'asc') {\n        this.preppedData = [...this.data].sort((a, b) => Number(a[this.valueAccessor]) - Number(b[this.valueAccessor]));\n      } else if (this.sortOrder === 'desc') {\n        this.preppedData = [...this.data].sort((a, b) => Number(b[this.valueAccessor]) - Number(a[this.valueAccessor]));\n      } else {\n        this.preppedData = this.data;\n      }\n      let dataSum = 0;\n      this.preppedData.map(d => {\n        d[this.valueAccessor] = parseFloat(d[this.valueAccessor]);\n        dataSum += d[this.valueAccessor];\n        d.getSum = () => dataSum; // sum(this.preppedData, d => parseFloat(d[this.valueAccessor]));\n        // d['rowSum'] = sum(this.preppedData, d => parseFloat(d[this.valueAccessor]));\n      });\n    }\n\n    this.refArr = [];\n    if (this.referenceData && this.referenceData.length) {\n      let dataTotal = 0;\n      this.preppedData.map(k => (dataTotal += k[this.valueAccessor]));\n      this.referenceData.forEach(d => {\n        const refPrep = [];\n        refPrep.push(d);\n        refPrep.push({\n          [this.ordinalAccessor]: '',\n          [this.valueAccessor]: dataTotal - d[this.valueAccessor]\n        });\n        const refPie = this.pie(refPrep);\n        this.refArr.push({ ...refPie[0] });\n      });\n    }\n\n    this.pieData = this.pie(this.preppedData);\n    this.refData = this.refArr;\n  }\n\n  prepareScales() {\n    this.pie = pie()\n      .value(data => {\n        return data[this.valueAccessor];\n      })\n      .sort((_a, _b) => null);\n\n    this.arc = arc();\n  }\n\n  setTableData() {\n    // generate scoped and formatted data for data-table component\n    const keys = scopeDataKeys(this, chartAccessors, 'pie-chart');\n    if (this.showPercentage) {\n      const label =\n        this.dataKeyNames && (this.dataKeyNames[`${this.valueAccessor}`] || this.dataKeyNames[`${this.valueAccessor}%`])\n          ? this.dataKeyNames[`${this.valueAccessor}%`] || this.dataKeyNames[`${this.valueAccessor}`] + ' (%)'\n          : `${this.valueAccessor}%`;\n      keys[label] = '0[.][0][0]%';\n      this.preppedData.forEach(i => {\n        i[label] = i[`${this.valueAccessor}`] / i.getSum();\n      });\n    }\n    this.tableData = getScopedData(this.preppedData, keys);\n    this.tableColumns = Object.keys(keys);\n  }\n\n  setSubTitleElements() {\n    setSubTitle({\n      root: this.subTitleG,\n      subTitle: this.subTitle\n    });\n  }\n\n  setColors() {\n    const colorFromProps =\n      this.colors && this.colors.length\n        ? convertVisaColor(this.colors)\n        : getColors(this.colorPalette, this.preppedData.length - 1);\n    if (!this.colors || !this.colors.length) {\n      colorFromProps.push(visaColors.base_grey);\n    }\n    this.preparedColors = colorFromProps;\n  }\n\n  setTextures() {\n    const colorsArray = this.preparedColors.range ? this.preparedColors.range() : this.preparedColors;\n    if (this.accessibility.hideTextures || colorsArray.length > 6) {\n      this.colorArr = this.preparedColors;\n    } else {\n      const textures = convertColorsToTextures({\n        colors: colorsArray,\n        rootSVG: this.svg.node(),\n        id: this.chartID,\n        scheme: 'categorical',\n        disableTransitions: !this.duration\n      });\n      this.colorArr = this.preparedColors.range ? this.preparedColors.copy().range(textures) : textures;\n    }\n  }\n\n  setStrokes() {\n    this.strokes = buildStrokes({\n      root: this.svg.node(),\n      id: this.chartID,\n      colors: this.preparedColors.range ? this.preparedColors.range() : this.preparedColors,\n      clickStyle: this.clickStyle,\n      hoverStyle: this.hoverStyle,\n      stacked: true\n    });\n  }\n\n  setInnerRatio() {\n    this.innerRatio = this.innerRatio === 0 || this.innerRatio ? this.innerRatio : PieChartDefaultValues.innerRatio;\n  }\n\n  setTestingAttributes() {\n    if (this.unitTest) {\n      select(this.pieChartEl)\n        .select('.visa-viz-d3-pie-container')\n        .attr('data-testid', 'chart-container');\n      select(this.pieChartEl)\n        .select('.pie-main-title')\n        .attr('data-testid', 'main-title');\n      select(this.pieChartEl)\n        .select('.pie-sub-title')\n        .attr('data-testid', 'sub-title');\n      this.svg.attr('data-testid', 'root-svg');\n      this.root.attr('data-testid', 'margin-container');\n      this.rootG.attr('data-testid', 'padding-container');\n      // this.legendG.attr('data-testid', 'legend-container'); // pie does not have a legend yet?\n      this.tooltipG.attr('data-testid', 'tooltip-container');\n      this.pieG.attr('data-testid', 'pie-group');\n      this.labelG.attr('data-testid', 'dataLabel-group');\n      this.refLabelG.attr('data-testid', 'refDataLabel-group');\n      this.edgeG.attr('data-testid', 'edgeLine-group');\n      this.rootG.select('.pie-center-title-group').attr('data-testid', 'centerTitle-group');\n      this.svg.select('defs').attr('data-testid', 'pattern-defs');\n\n      this.updatingLabels.attr('data-testid', 'dataLabel').attr('data-id', d => `label-${d[this.ordinalAccessor]}`);\n      this.updatingLabelsNotes\n        .attr('data-testid', 'dataLabel-note')\n        .attr('data-id', d => `label-note-${d[this.ordinalAccessor]}`);\n      this.updatingEdges\n        .attr('data-testid', 'pie-edge-line')\n        .attr('data-id', d => `pie-edge-line-${d[this.ordinalAccessor]}`);\n      this.update.attr('data-testid', 'pie').attr('data-id', d => `pie-${d[this.ordinalAccessor]}`);\n\n      // reference lines do not have global selections\n      this.references.selectAll('.arc-ref').attr('data-testid', 'reference-arc-line');\n      this.updatingRefLabels\n        .attr('data-testid', 'refDataLabel')\n        .attr('data-id', d => `ref-label-${d[this.ordinalAccessor]}`);\n      this.updatingRefLabelsNotes\n        .attr('data-testid', 'refDataLabel-note')\n        .attr('data-id', d => `ref-label-note-${d[this.ordinalAccessor]}`);\n    } else {\n      select(this.pieChartEl)\n        .select('.visa-viz-d3-pie-container')\n        .attr('data-testid', null);\n      select(this.pieChartEl)\n        .select('.pie-main-title')\n        .attr('data-testid', null);\n      select(this.pieChartEl)\n        .select('.pie-sub-title')\n        .attr('data-testid', null);\n      this.svg.attr('data-testid', null);\n      this.root.attr('data-testid', null);\n      this.rootG.attr('data-testid', null);\n      // this.legendG.attr('data-testid', null); //  pie does not have a legend yet?\n      this.tooltipG.attr('data-testid', null);\n      this.pieG.attr('data-testid', null);\n      this.labelG.attr('data-testid', null);\n      this.refLabelG.attr('data-testid', null);\n      this.edgeG.attr('data-testid', null);\n      this.rootG.select('.pie-center-title-group').attr('data-testid', null);\n      this.svg.select('defs').attr('data-testid', null);\n\n      this.updatingLabels.attr('data-testid', null).attr('data-id', null);\n      this.updatingLabelsNotes.attr('data-testid', null).attr('data-id', null);\n      this.updatingEdges.attr('data-testid', null).attr('data-id', null);\n      this.update.attr('data-testid', null).attr('data-id', null);\n\n      // reference lines do not have global selections\n      this.references.selectAll('.arc-ref').attr('data-testid', null);\n      this.updatingRefLabels.attr('data-testid', null).attr('data-id', null);\n      this.updatingRefLabelsNotes.attr('data-testid', null).attr('data-id', null);\n    }\n  }\n\n  renderRootElements() {\n    this.svg = select(this.pieChartEl)\n      .select('.visa-viz-d3-pie-container')\n      .append('svg')\n      .style('isolation', 'isolate')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('viewBox', '0 0 ' + this.width + ' ' + this.height);\n\n    this.root = this.svg.append('g').attr('id', 'visa-viz-margin-container-g-' + this.chartID);\n\n    this.rootG = this.root.append('g').attr('id', 'visa-viz-padding-container-g-' + this.chartID);\n\n    this.pieG = this.rootG.append('g').attr('class', 'pie-group');\n\n    this.labelG = this.rootG.append('g').attr('class', 'pie-dataLabel-group');\n\n    this.refLabelG = this.rootG.append('g').attr('class', 'pie-dataLabel-group');\n\n    this.edgeG = this.rootG.append('g').attr('class', 'pie-edge-line-group');\n\n    this.subTitleG = select(this.pieChartEl).select('.pie-sub-title');\n\n    this.tooltipG = select(this.pieChartEl).select('.pie-tooltip');\n\n    this.references = this.rootG.append('g').attr('class', 'pie-reference-line-group');\n  }\n\n  reSetRoot() {\n    const changeSvg = prepareRenderChange({\n      selection: this.svg,\n      duration: this.duration,\n      namespace: 'root_reset',\n      easing: easeCircleIn\n    });\n\n    changeSvg\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('viewBox', '0 0 ' + this.width + ' ' + this.height);\n\n    const changeRoot = prepareRenderChange({\n      selection: this.root,\n      duration: this.duration,\n      namespace: 'root_reset',\n      easing: easeCircleIn\n    });\n\n    changeRoot.attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n    const changeRootG = prepareRenderChange({\n      selection: this.rootG,\n      duration: this.duration,\n      namespace: 'root_reset',\n      easing: easeCircleIn\n    });\n\n    changeRootG.attr('transform', `translate(${this.padding.left + this.radius}, ${this.padding.top + this.radius})`);\n\n    setAccessibilityDescriptionWidth(this.chartID, this.width);\n  }\n\n  setGlobalSelections() {\n    const dataBoundToGeometries = this.pieG.selectAll('.arc').data(this.pieData, d => {\n      d[this.ordinalAccessor] = d.data[this.ordinalAccessor];\n      return d[this.ordinalAccessor];\n    });\n\n    this.enter = dataBoundToGeometries.enter().append('path');\n    this.exit = dataBoundToGeometries.exit();\n    this.update = dataBoundToGeometries.merge(this.enter);\n\n    this.exitSize = this.exit.size();\n    this.enterSize = this.enter.size();\n\n    const dataBoundToLabels = this.labelG.selectAll('.pie-dataLabel-highlight').data(this.pieData);\n    this.enteringLabels = dataBoundToLabels.enter().append('text');\n    this.exitingLabels = dataBoundToLabels.exit();\n    this.updatingLabels = dataBoundToLabels.merge(this.enteringLabels);\n\n    const dataBoundToLabelsNotes = this.labelG.selectAll('.pie-dataLabel-note').data(this.pieData);\n    this.enteringLabelsNotes = dataBoundToLabelsNotes.enter().append('text');\n    this.exitingLabelsNotes = dataBoundToLabelsNotes.exit();\n    this.updatingLabelsNotes = dataBoundToLabelsNotes.merge(this.enteringLabelsNotes);\n\n    const dataBoundToRefLabels = this.refLabelG.selectAll('.pie-dataLabel-highlight').data(this.refData);\n    this.enteringRefLabels = dataBoundToRefLabels.enter().append('text');\n    this.exitingRefLabels = dataBoundToRefLabels.exit();\n    this.updatingRefLabels = dataBoundToRefLabels.merge(this.enteringRefLabels);\n\n    const dataBoundToRefLabelsNotes = this.refLabelG.selectAll('.pie-dataLabel-note').data(this.refData);\n    this.enteringRefLabelsNotes = dataBoundToRefLabelsNotes.enter().append('text');\n    this.exitingRefLabelsNotes = dataBoundToRefLabelsNotes.exit();\n    this.updatingRefLabelsNotes = dataBoundToRefLabelsNotes.merge(this.enteringRefLabelsNotes);\n\n    const dataBoundToEdges = this.edgeG.selectAll('.edge-line').data(this.pieData);\n    this.enteringEdges = dataBoundToEdges.enter().append('path');\n    this.exitingEdges = dataBoundToEdges.exit();\n    this.updatingEdges = dataBoundToEdges.merge(this.enteringEdges);\n  }\n\n  updateInteractionState() {\n    removeHoverStrokes(this.svg.node());\n    // we created an \"opacity\" transition namespace in update's transition\n    // we override it here to instantly display opacity state (below)\n\n    // we use this.update and this.labelCurrent from setGlobalSelection here\n    // the lifecycle state does not matter (enter/update/exit)\n    // since interaction state can happen at any time\n    this.update\n      .attr('opacity', d =>\n        checkInteraction(\n          d.data,\n          1,\n          this.hoverOpacity,\n          this.hoverHighlight,\n          this.clickHighlight,\n          this.innerInteractionKeys\n        )\n      )\n      .attr('fill', (d, i) => {\n        return this.clickHighlight &&\n          this.clickHighlight.length > 0 &&\n          checkClicked(d.data, this.clickHighlight, this.innerInteractionKeys) &&\n          this.clickStyle.color\n          ? visaColors[this.clickStyle.color] || this.clickStyle.color\n          : this.hoverHighlight &&\n            checkHovered(d.data, this.hoverHighlight, this.innerInteractionKeys) &&\n            this.hoverStyle.color\n          ? visaColors[this.hoverStyle.color] || this.hoverStyle.color\n          : this.preppedData.length === 2 && i === 1\n          ? this.preparedColors[i]\n          : this.colorArr[i] || this.colorArr[0];\n      })\n      .attr('filter', (d, i, n) => {\n        if (!this.accessibility.hideStrokes && !select(n[i]).classed('geometryIsMoving')) {\n          const clicked =\n            this.clickHighlight &&\n            this.clickHighlight.length > 0 &&\n            checkClicked(d.data, this.clickHighlight, this.innerInteractionKeys);\n          const hovered = this.hoverHighlight && checkHovered(d.data, this.hoverHighlight, this.innerInteractionKeys);\n          const baseColor = this.preparedColors[i];\n          const state = clicked ? 'click' : hovered && !select(n[i]).classed('geometryIsMoving') ? 'hover' : 'rest';\n          const color =\n            clicked && this.clickStyle.color\n              ? visaColors[this.clickStyle.color] || this.clickStyle.color\n              : clicked\n              ? baseColor\n              : hovered && this.hoverStyle.color\n              ? visaColors[this.hoverStyle.color] || this.hoverStyle.color\n              : baseColor;\n          if (state === 'hover') {\n            drawHoverStrokes({\n              inputElement: n[i],\n              id: this.chartID,\n              key: d[this.ordinalAccessor], // this must match whatever is used to bind the data, otherwise i\n              strokeWidth: this.hoverStyle.strokeWidth,\n              fill: color\n            });\n          }\n          return this.strokes[state + color];\n        }\n        return null;\n      });\n\n    retainAccessFocus({\n      parentGNode: this.rootG.node()\n    });\n  }\n\n  setLabelOpacity() {\n    const labelOpacity = this.dataLabel.visible ? 1 : 0;\n    const noteOpacity = this.showLabelNote ? 1 : 0;\n    // for this we can combine the labels and notes selections\n    const tempLabels = this.updatingLabels.merge(this.updatingRefLabels);\n    const tempNotes = this.updatingLabelsNotes.merge(this.updatingRefLabelsNotes);\n\n    tempLabels\n      .attr('data-use-dx', true) // need to add this for remove piece of collision below\n      .attr('data-use-dy', true)\n      .attr('opacity', (d, i, n) => {\n        const prevOpacity = +select(n[i]).attr('opacity');\n        const styleVisibility = select(n[i]).style('visibility');\n        const targetOpacity =\n          checkInteraction(\n            d.data,\n            labelOpacity,\n            this.hoverOpacity,\n            this.hoverHighlight,\n            this.clickHighlight,\n            this.innerInteractionKeys\n          ) < 1\n            ? 0\n            : 1;\n        if ((targetOpacity === 1 && styleVisibility === 'hidden') || prevOpacity !== targetOpacity) {\n          if (targetOpacity === 1) {\n            select(n[i])\n              .classed('collision-added', true)\n              .style('visibility', null);\n          } else {\n            select(n[i]).classed('collision-removed', true);\n          }\n        }\n        return targetOpacity;\n      });\n    // addStrokeUnder(tempLabels, 'white');\n\n    tempNotes\n      .attr('data-use-dx', true) // need to add this for remove piece of collision below\n      .attr('data-use-dy', true)\n      .attr('opacity', (d, i, n) => {\n        const prevOpacity = +select(n[i]).attr('opacity');\n        const styleVisibility = select(n[i]).style('visibility');\n        const targetOpacity =\n          checkInteraction(\n            d.data,\n            noteOpacity,\n            this.hoverOpacity,\n            this.hoverHighlight,\n            this.clickHighlight,\n            this.innerInteractionKeys\n          ) < 1\n            ? 0\n            : 1;\n        if ((targetOpacity === 1 && styleVisibility === 'hidden') || prevOpacity !== targetOpacity) {\n          if (targetOpacity === 1) {\n            select(n[i])\n              .classed('collision-added', true)\n              .style('visibility', null);\n          } else {\n            select(n[i]).classed('collision-removed', true);\n          }\n        }\n        return targetOpacity;\n      });\n    // addStrokeUnder(tempNotes, 'white');\n\n    if (this.dataLabel.collisionHideOnly) {\n      const labelsAdded = tempLabels.filter((_, i, n) => select(n[i]).classed('collision-added'));\n      const labelsRemoved = tempLabels.filter((_, i, n) => select(n[i]).classed('collision-removed'));\n      const notesAdded = tempNotes.filter((_, i, n) => select(n[i]).classed('collision-added'));\n      const notesRemoved = tempNotes.filter((_, i, n) => select(n[i]).classed('collision-removed'));\n      const validPositions = ['middle']; // , 'left', 'right'];\n      const offsets = [1]; //,1,1];\n\n      // we can now remove labels as well if we need to...\n      if (labelsRemoved.size() > 0) {\n        this.bitmaps = resolveLabelCollision({\n          bitmaps: this.bitmaps,\n          labelSelection: labelsRemoved,\n          avoidMarks: [],\n          validPositions: ['middle'],\n          offsets: [1],\n          accessors: ['key'],\n          size: [roundTo(this.width, 0), roundTo(this.height, 0)],\n          hideOnly: false,\n          removeOnly: true\n        });\n\n        // remove temporary class now\n        labelsRemoved.classed('collision-removed', false);\n      }\n\n      if (notesRemoved.size() > 0) {\n        this.bitmaps = resolveLabelCollision({\n          bitmaps: this.bitmaps,\n          labelSelection: notesRemoved,\n          avoidMarks: [],\n          validPositions: ['middle'],\n          offsets: [1],\n          accessors: ['key'],\n          size: [roundTo(this.width, 0), roundTo(this.height, 0)],\n          hideOnly: false,\n          removeOnly: true\n        });\n\n        // remove temporary class now\n        notesRemoved.classed('collision-removed', false);\n      }\n\n      // we can now add labels as well if we need to...\n      if (labelsAdded.size() > 0) {\n        this.bitmaps = resolveLabelCollision({\n          bitmaps: this.bitmaps,\n          labelSelection: labelsAdded,\n          avoidMarks: [],\n          validPositions,\n          offsets,\n          accessors: [this.ordinalAccessor],\n          size: [roundTo(this.width, 0), roundTo(this.height, 0)], // we need the whole width and height for pie\n          hideOnly: this.dataLabel.visible && this.dataLabel.collisionHideOnly,\n          suppressMarkDraw: true\n        });\n\n        // remove temporary class now\n        labelsAdded.classed('collision-added', false);\n      }\n\n      // we can now add labels as well if we need to...\n      if (notesAdded.size() > 0) {\n        this.bitmaps = resolveLabelCollision({\n          bitmaps: this.bitmaps,\n          labelSelection: notesAdded,\n          avoidMarks: [],\n          validPositions,\n          offsets,\n          accessors: [this.ordinalAccessor],\n          size: [roundTo(this.width, 0), roundTo(this.height, 0)], // we need the whole width and height for pie\n          hideOnly: this.dataLabel.visible && this.dataLabel.collisionHideOnly,\n          suppressMarkDraw: true\n        });\n\n        // remove temporary class now\n        notesAdded.classed('collision-added', false);\n      }\n    }\n  }\n\n  checkLabelColorAgainstBackground(group) {\n    const placement = group === 'RefLabels' ? 'edge' : this.dataLabel.placement;\n\n    this.updatingLabels.attr('fill', (d, i, n) => this.textTreatmentHandler(d, i, n, placement));\n  }\n\n  textTreatmentHandler = (d, i, n, specifiedPlacement?) => {\n    const placement = specifiedPlacement || this.dataLabel.placement;\n    const bgColor =\n      this.clickHighlight &&\n      this.clickHighlight.length > 0 &&\n      checkClicked(d.data, this.clickHighlight, this.innerInteractionKeys) &&\n      this.clickStyle.color\n        ? visaColors[this.clickStyle.color] || this.clickStyle.color\n        : this.hoverHighlight &&\n          checkHovered(d.data, this.hoverHighlight, this.innerInteractionKeys) &&\n          this.hoverStyle.color\n        ? visaColors[this.hoverStyle.color] || this.hoverStyle.color\n        : this.preparedColors[i];\n\n    const color = placement === 'inside' ? autoTextColor(bgColor) : visaColors.dark_text;\n    const me = select(n[i]);\n    me.attr(\n      'filter',\n      !me.classed('textIsMoving')\n        ? createTextStrokeFilter({\n            root: this.svg.node(),\n            id: this.chartID,\n            color: placement === 'inside' ? bgColor : '#ffffff'\n          })\n        : null\n    );\n    return color;\n  };\n\n  enterGeometries() {\n    this.enter.interrupt();\n\n    this.enter\n      .attr('class', 'arc')\n      .classed('entering', true)\n      .attr('opacity', 0)\n      .on('click', !this.suppressEvents ? (d, i, n) => this.onClickHandler(d.data, n[i]) : null)\n      .on('mouseover', !this.suppressEvents ? (d, i, n) => this.onHoverHandler(d.data, n[i]) : null)\n      .on('mouseout', !this.suppressEvents ? () => this.onMouseOutHandler() : null)\n      .attr('cursor', !this.suppressEvents ? this.cursor : null)\n      .each((_d, i, n) => {\n        initializeElementAccess(n[i]);\n      });\n    this.update.order();\n  }\n\n  updateGeometries() {\n    this.update.interrupt();\n\n    // opacity\n    this.update\n      .transition('opacity')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', d =>\n        checkInteraction(\n          d.data,\n          1,\n          this.hoverOpacity,\n          this.hoverHighlight,\n          this.clickHighlight,\n          this.innerInteractionKeys\n        )\n      );\n  }\n\n  exitGeometries() {\n    this.exit.interrupt();\n\n    this.exit\n      .transition('exit')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', 0)\n      [this.duration ? 'attrTween' : 'attr']('d', (_d, i, n) => {\n        const end = {\n          startAngle: 0,\n          endAngle: 0,\n          innerRadius: this.innerRadius,\n          outerRadius: this.outerRadius\n        };\n        if (!this.duration) {\n          return this.arc(end);\n        }\n        const me = n[i];\n        const interpolator = interpolate(me._current, end);\n        return t => {\n          me._current = interpolator(t);\n          return this.arc(me._current);\n        };\n      });\n\n    // We use this.update instead of this.exit to ensure the functions at the end\n    // of our lifecycle run, even though we are removing the exiting elements from\n    // inside this transition's endAll.\n    // (If we put this in this.exit, it will only run if elements exit.\n    // We want this to run every lifecycle.)\n    this.update\n      .transition('accessibilityAfterExit')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .call(transitionEndAll, () => {\n        // before we exit geometries, we need to check if a focus exists or not\n        const focusDidExist = checkAccessFocus(this.rootG.node());\n        // then we must remove the exiting elements\n        this.exit.remove();\n        // then our util can count geometries\n        this.setChartCountAccessibility();\n        // our group's label should update with new counts too\n        this.setGroupAccessibilityID();\n        // since items exited, labels must receive updated values\n        this.setGeometryAriaLabels();\n        // and also make sure the user's focus isn't lost\n        retainAccessFocus({\n          parentGNode: this.rootG.node(),\n          focusDidExist\n          // recursive: true\n        });\n      });\n  }\n\n  drawGeometries() {\n    this.update\n      .classed('geometryIsMoving', (d, i, n) => {\n        const geometryIsUpdating = checkAttributeTransitions(select(n[i]), [\n          {\n            attr: 'd',\n            newValue: this.arc({\n              startAngle: d.startAngle,\n              endAngle: d.endAngle,\n              innerRadius: this.innerRadius,\n              outerRadius: this.outerRadius\n            })\n          }\n        ]);\n        return geometryIsUpdating;\n      })\n      .attr('data-translate-x', this.radius + this.padding.left + this.margin.left)\n      .attr('data-translate-y', this.radius + this.padding.top + this.margin.top)\n      // .attr('data-fill', this.dataLabel.placement !== 'inside') // we don't need fill anymore\n      // if we bring back placement we may need it again\n      .attr('data-d', (d, i, n) => {\n        const me = n[i];\n        let inner = 'inner';\n        let arcPadding = 0;\n        if (this.dataLabel.placement !== 'inside') {\n          inner = 'outer';\n          arcPadding = this.labelOffset;\n        }\n        const end = {\n          startAngle: d.startAngle,\n          endAngle: d.endAngle,\n          innerRadius: this.innerRadius,\n          outerRadius: this.outerRadius\n        };\n        const labelEnd = {\n          startAngle: d.startAngle,\n          endAngle: d.endAngle,\n          innerRadius: this[inner + 'Radius'] + arcPadding,\n          outerRadius: this.outerRadius + arcPadding\n        };\n        // data-fake-x/y is used to pass the outer label placement\n        // without that effecting how the bitmap understands\n        // the pie geometetry itself\n        select(me)\n          .attr('data-fake-x', this.arc.centroid(labelEnd)[0])\n          .attr('data-fake-y', this.arc.centroid(labelEnd)[1])\n          .attr('data-r', 1);\n        return this.arc(end);\n      })\n      .transition('update')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      [this.duration ? 'attrTween' : 'attr']('d', (d, i, n) => {\n        const me = n[i];\n        let start = me._current;\n        const end = {\n          startAngle: d.startAngle,\n          endAngle: d.endAngle,\n          innerRadius: this.innerRadius,\n          outerRadius: this.outerRadius\n        };\n        if (select(n[i]).classed('entering')) {\n          start = {\n            startAngle: 0,\n            endAngle: 0,\n            innerRadius: this.innerRadius,\n            outerRadius: this.outerRadius\n          };\n          select(n[i]).classed('entering', false);\n        }\n        const interpolator = interpolate(start, end);\n        if (!this.duration) {\n          me._current = interpolator(1);\n          return this.arc(end);\n        }\n        return t => {\n          me._current = interpolator(t);\n          return this.arc(me._current);\n        };\n      })\n      .call(transitionEndAll, () => {\n        this.update.classed('geometryIsMoving', false);\n        this.updateInteractionState();\n\n        // we must make sure if geometries move, that our focus indicator does too\n        retainAccessFocus({\n          parentGNode: this.rootG.node()\n          // focusDidExist // this only matters for exiting selections\n          // recursive: true // this only matters for\n        });\n\n        // now we can emit the event that transitions are complete\n        this.transitionEndEvent.emit({ chartID: this.chartID });\n      });\n  }\n\n  setSelectedClass() {\n    this.update\n      .classed('highlight', d => {\n        const selected = checkInteraction(d.data, true, false, '', this.clickHighlight, this.innerInteractionKeys);\n        return this.clickHighlight && this.clickHighlight.length ? selected : false;\n      })\n      .each((d, i, n) => {\n        let selected = checkInteraction(d.data, true, false, '', this.clickHighlight, this.innerInteractionKeys);\n        selected = this.clickHighlight && this.clickHighlight.length ? selected : false;\n        const selectable = this.accessibility.elementsAreInterface;\n        setElementInteractionAccessState(n[i], selected, selectable);\n      });\n  }\n\n  drawReferenceLines() {\n    const currentRefPie = this.references.selectAll('.arc-ref').data(this.refData);\n    const enterRefPie = currentRefPie\n      .enter()\n      .append('path')\n      .attr('opacity', 0)\n      .attr('class', 'arc-ref')\n      .attr('fill', 'none')\n      .attr('stroke-width', 0)\n      .classed('entering', true)\n      .each((_d, i, n) => {\n        initializeElementAccess(n[i]);\n      });\n\n    const exitRefPie = currentRefPie.exit();\n    exitRefPie\n      .transition('exit')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', 0)\n      [this.duration ? 'attrTween' : 'attr']('d', (_, i, n) => {\n        const me = n[i];\n        const start = me._current;\n        const end = {\n          startAngle: 0,\n          endAngle: 0,\n          innerRadius: Math.max(0, this.innerRadius - 5),\n          outerRadius: this.outerRadius + 5\n        };\n        const interpolator = interpolate(start, end);\n        if (!this.duration) {\n          return this.arc(end);\n        }\n        return t => {\n          me._current = interpolator(t);\n          return this.arc(me._current);\n        };\n      })\n      .remove();\n\n    this.updateRefPie = currentRefPie.merge(enterRefPie).classed('ignore', (_, i) => (i === 0 ? false : true));\n\n    this.updateRefPie\n      .attr('opacity', this.referenceStyle.opacity)\n      .attr('stroke-dasharray', this.referenceStyle.dashed)\n      .transition('update')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('stroke-width', this.innerRatio !== 0 ? 3 : 0)\n      .attr(this.innerRatio !== 0 ? 'fill' : 'stroke', 'rgba(0,0,0,0)')\n      .attr(this.innerRatio !== 0 ? 'stroke' : 'fill', (_, i) => {\n        // d.fill = this.colorArr[i];\n        return (\n          visaColors[this.referenceStyle.color] || this.referenceStyle.color || this.preparedColors[i]\n        ); /* refIsLarger ? this.colorArr[i] :*/\n      })\n      [this.duration ? 'attrTween' : 'attr']('d', (d, i, n) => {\n        const end = {\n          startAngle: d.endAngle,\n          endAngle: d.endAngle,\n          innerRadius: Math.max(0, this.innerRadius - 5),\n          outerRadius: this.outerRadius + 5\n        };\n        const me = n[i];\n        let start = me._current;\n        if (select(me).classed('entering')) {\n          start = {\n            startAngle: 0,\n            endAngle: 0,\n            innerRadius: Math.max(0, this.innerRadius - 5),\n            outerRadius: this.outerRadius + 5\n          };\n          select(me).classed('entering', false);\n        }\n        const interpolator = interpolate(start, end);\n        if (!this.duration) {\n          me._current = interpolator(1);\n          return this.arc(end);\n        }\n        return t => {\n          me._current = interpolator(t);\n          return this.arc(me._current);\n        };\n      });\n  }\n\n  enterLabels(group) {\n    const placement = group === 'RefLabels' ? 'edge' : this.dataLabel.placement;\n    const labelOpacity = this.dataLabel.visible ? 1 : 0;\n    const noteOpacity = this.showLabelNote ? 1 : 0;\n\n    this['entering' + group]\n      .attr('class', 'pie-dataLabel-highlight')\n      .attr('opacity', 0)\n      .attr('opacity', d =>\n        checkInteraction(\n          d.data,\n          labelOpacity,\n          this.hoverOpacity,\n          this.hoverHighlight,\n          this.clickHighlight,\n          this.innerInteractionKeys\n        ) < 1\n          ? 0\n          : Number.EPSILON\n      )\n      .classed('entering', true)\n      .attr('fill', (d, i, n) => this.textTreatmentHandler(d, i, n, placement))\n      .attr('cursor', !this.suppressEvents && group !== 'RefLabels' ? this.cursor : null)\n      .on(\n        'click',\n        !this.suppressEvents && group !== 'RefLabels' ? (d, i, n) => this.onClickHandler(d.data, n[i]) : null\n      )\n      .on(\n        'mouseover',\n        !this.suppressEvents && group !== 'RefLabels' ? (d, i, n) => this.onHoverHandler(d.data, n[i]) : null\n      )\n      .on('mouseout', !this.suppressEvents && group !== 'RefLabels' ? () => this.onMouseOutHandler() : null);\n\n    this['entering' + group + 'Notes']\n      .attr('class', 'pie-dataLabel-note')\n      .attr('opacity', 0)\n      .attr('opacity', d =>\n        checkInteraction(\n          d.data,\n          noteOpacity,\n          this.hoverOpacity,\n          this.hoverHighlight,\n          this.clickHighlight,\n          this.innerInteractionKeys\n        ) < 1\n          ? 0\n          : Number.EPSILON\n      )\n      .classed('entering', true)\n      .attr('cursor', !this.suppressEvents && group !== 'RefLabels' ? this.cursor : null)\n      .on(\n        'click',\n        !this.suppressEvents && group !== 'RefLabels' ? (d, i, n) => this.onClickHandler(d.data, n[i]) : null\n      )\n      .on(\n        'mouseover',\n        !this.suppressEvents && group !== 'RefLabels' ? (d, i, n) => this.onHoverHandler(d.data, n[i]) : null\n      )\n      .on('mouseout', !this.suppressEvents && group !== 'RefLabels' ? () => this.onMouseOutHandler() : null);\n  }\n\n  updateLabels(group) {\n    this.updatingLabels.interrupt();\n    const labelOpacity = this.dataLabel.visible ? 1 : 0;\n    const noteOpacity = this.showLabelNote ? 1 : 0;\n\n    this['updating' + group]\n      .transition('opacity')\n      .ease(easeCircleIn)\n      .duration(this.duration)\n      .attr('opacity', d =>\n        checkInteraction(\n          d.data,\n          labelOpacity,\n          this.hoverOpacity,\n          this.hoverHighlight,\n          this.clickHighlight,\n          this.innerInteractionKeys\n        ) < 1\n          ? 0\n          : 1\n      );\n\n    this['updating' + group + 'Notes']\n      .transition('opacity')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', d =>\n        checkInteraction(\n          d.data,\n          noteOpacity,\n          this.hoverOpacity,\n          this.hoverHighlight,\n          this.clickHighlight,\n          this.innerInteractionKeys\n        ) < 1\n          ? 0\n          : 1\n      );\n  }\n\n  exitLabels(group) {\n    const placement = group === 'RefLabels' ? 'edge' : this.dataLabel.placement;\n\n    this['exiting' + group]\n      .transition('exit')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', 0)\n      [this.duration ? 'attrTween' : 'attr']('x', (d, i, n) => {\n        const me = n[i];\n        let inner = 'inner';\n        let arcPadding = 0;\n        if (placement !== 'inside') {\n          inner = 'outer';\n          arcPadding = this.labelOffset;\n        }\n        const end = {\n          startAngle: 0,\n          start: 0,\n          endAngle: 0,\n          innerRadius: this[inner + 'Radius'] + arcPadding,\n          outerRadius: this.outerRadius + arcPadding\n        };\n        if (!this.duration) {\n          select(me).attr('y', this.arc.centroid(end)[1]);\n          select(me).text(\n            placement === 'edge' && i === this.preppedData.length - 1 && group !== 'RefLabels'\n              ? ''\n              : this.showPercentage\n              ? formatStats((d.endAngle - d.startAngle) / (2 * Math.PI), '0.0%')\n              : this.dataLabel.format\n              ? formatStats(d.data[this.valueAccessor], this.dataLabel.format)\n              : d.data[this.valueAccessor]\n          );\n          return this.arc.centroid(end)[0];\n        }\n        const interpolator = interpolate(me._current, end);\n        return t => {\n          me._current = interpolator(t);\n          select(me).attr('y', this.arc.centroid(me._current)[1]);\n          select(me).text(\n            placement === 'edge' && i === this.preppedData.length - 1 && group !== 'RefLabels'\n              ? ''\n              : this.showPercentage\n              ? formatStats((me._current.endAngle - me._current.start) / (2 * Math.PI), '0.[0]%')\n              : this.dataLabel.format\n              ? formatStats(me._current.value, this.dataLabel.format)\n              : me._current.value\n          );\n          return this.arc.centroid(me._current)[0];\n        };\n      })\n      .remove();\n\n    this['exiting' + group + 'Notes']\n      .transition('exit')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', 0)\n      [this.duration ? 'attrTween' : 'attr']('x', (_d, i, n) => {\n        const me = n[i];\n        let inner = 'inner';\n        let arcPadding = 0;\n        if (placement !== 'inside') {\n          inner = 'outer';\n          arcPadding = this.labelOffset;\n        }\n        const end = {\n          value: 0,\n          startAngle: 0,\n          endAngle: 0,\n          innerRadius: this[inner + 'Radius'] + arcPadding,\n          outerRadius: this.outerRadius + arcPadding\n        };\n        if (!this.duration) {\n          select(me).attr('y', this.arc.centroid(end)[1]);\n          return this.arc.centroid(end)[0];\n        }\n        const interpolator = interpolate(me._current, end);\n        return t => {\n          me._current = interpolator(t);\n          select(me).attr('y', this.arc.centroid(me._current)[1]);\n          return this.arc.centroid(me._current)[0];\n        };\n      })\n      .remove();\n  }\n\n  drawDataLabels(group) {\n    const placement = group === 'RefLabels' ? 'edge' : this.dataLabel.placement;\n\n    // for the first call only to this do we create the base bitmap, all other stuff just adds to it\n    if (group === 'Labels' && this.dataLabel.visible && this.dataLabel.collisionHideOnly) {\n      let titleRoot = this.rootG.select('.pie-center-title-group').selectAll('text');\n      this.bitmaps = resolveLabelCollision({\n        labelSelection: select('.empty-stuff-vcc-do-not-use'),\n        avoidMarks: [titleRoot, this.updatingEdges, this.update],\n        validPositions: ['middle'],\n        offsets: [1],\n        accessors: [this.ordinalAccessor],\n        size: [roundTo(this.width, 0), roundTo(this.height, 0)] // we need the whole width and height for pie\n      });\n    }\n\n    this['updating' + group]\n      .style('visibility', (_, i, n) =>\n        this.dataLabel.placement === 'auto' || this.dataLabel.collisionHideOnly\n          ? select(n[i]).style('visibility')\n          : null\n      )\n      .transition('update')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      [this.duration ? 'attrTween' : 'attr']('x', (d, i, n) => {\n        const me = n[i];\n        let start = me._current;\n        let innerRadius = 'innerRadius';\n        let arcPadding = 0;\n        let startAngle = 'startAngle';\n        if (placement !== 'inside') {\n          innerRadius = 'outerRadius';\n          arcPadding = this.labelOffset;\n        }\n        if (placement === 'edge') {\n          startAngle = 'endAngle';\n        }\n\n        const end = {\n          value: d.data[this.valueAccessor],\n          start: d.startAngle,\n          startAngle: d[startAngle],\n          endAngle: d.endAngle,\n          innerRadius: this[innerRadius] + arcPadding,\n          outerRadius: this.outerRadius + arcPadding\n        };\n        select(me)\n          .attr('data-use-dx', true)\n          .attr('data-use-dy', true)\n          .attr('data-translate-x', this.radius + this.padding.left + this.margin.left)\n          .attr('data-translate-y', this.radius + this.padding.top + this.margin.top)\n          .attr('data-x', this.arc.centroid(end)[0])\n          .attr('data-y', this.arc.centroid(end)[1])\n          .attr('data-r', 1)\n          .attr('dx', 0)\n          .attr('dy', placement === 'inside' ? '0.1em' : 0)\n          .attr(\n            'text-anchor',\n            placement === 'inside'\n              ? 'middle'\n              : placement === 'edge'\n              ? d.endAngle < Math.PI\n                ? 'start'\n                : 'end'\n              : d.startAngle + (d.endAngle - d.startAngle) / 2 < Math.PI\n              ? 'start'\n              : 'end'\n          )\n          .text(\n            // we need text end point to determine if we can fit label (gets reset by interpolation below)\n            placement === 'edge' && i === this.preppedData.length - 1 && group !== 'RefLabels'\n              ? ''\n              : this.showPercentage\n              ? formatStats((d.endAngle - d.startAngle) / (2 * Math.PI), '0.0%')\n              : this.dataLabel.format\n              ? formatStats(d.data[this.valueAccessor], this.dataLabel.format)\n              : d.data[this.valueAccessor]\n          );\n\n        if (select(me).classed('entering')) {\n          start = {\n            value: d.data[this.valueAccessor],\n            start: d.startAngle,\n            startAngle: 0,\n            endAngle: 0,\n            innerRadius: this[innerRadius] + arcPadding,\n            outerRadius: this.outerRadius + arcPadding\n          };\n          select(me).classed('entering', false);\n        }\n        const interpolator = interpolate(start, end);\n        if (this.dataLabel.visible && this.dataLabel.collisionHideOnly) {\n          const validPositions = ['middle']; // , 'left', 'right'];\n          const offsets = [1]; //,1,1];\n          this.bitmaps = resolveLabelCollision({\n            bitmaps: this.bitmaps,\n            labelSelection: select(me), // highlightLabels,\n            avoidMarks: [],\n            validPositions,\n            offsets,\n            accessors: [this.ordinalAccessor],\n            size: [roundTo(this.width, 0), roundTo(this.height, 0)], // we need the whole width and height for pie\n            hideOnly: this.dataLabel.visible && this.dataLabel.collisionHideOnly\n          });\n        }\n        if (!this.duration) {\n          me._current = interpolator(1);\n          select(me).attr('y', this.arc.centroid(end)[1]);\n          select(me).text(\n            placement === 'edge' && i === this.preppedData.length - 1 && group !== 'RefLabels'\n              ? ''\n              : this.showPercentage\n              ? formatStats((d.endAngle - d.startAngle) / (2 * Math.PI), '0.0%')\n              : this.dataLabel.format\n              ? formatStats(d.data[this.valueAccessor], this.dataLabel.format)\n              : d.data[this.valueAccessor]\n          );\n          return this.arc.centroid(end)[0];\n        }\n        return t => {\n          me._current = interpolator(t);\n          select(me).attr('y', this.arc.centroid(me._current)[1]);\n          select(me).text(\n            placement === 'edge' && i === this.preppedData.length - 1 && group !== 'RefLabels'\n              ? ''\n              : this.showPercentage\n              ? formatStats((me._current.endAngle - me._current.start) / (2 * Math.PI), '0.0%')\n              : this.dataLabel.format\n              ? formatStats(me._current.value, this.dataLabel.format)\n              : me._current.value\n          );\n          // addStrokeUnder(select(me), 'white');\n          return this.arc.centroid(me._current)[0];\n        };\n      })\n      .call(transitionEndAll, () => {\n        // addStrokeUnder(this['updating' + group], 'white');\n      });\n\n    this['updating' + group + 'Notes']\n      .style('visibility', (_, i, n) =>\n        this.dataLabel.placement === 'auto' || this.dataLabel.collisionHideOnly\n          ? select(n[i]).style('visibility')\n          : null\n      )\n      .transition('update')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      [this.duration ? 'attrTween' : 'attr']('x', (d, i, n) => {\n        const me = n[i];\n        let start = me._current;\n        const startAngle = placement === 'edge' ? 'endAngle' : 'startAngle';\n        if (select(n[i]).classed('entering')) {\n          start = {\n            startAngle: 0,\n            endAngle: 0,\n            innerRadius: this.outerRadius + this.labelOffset,\n            outerRadius: this.outerRadius + this.labelOffset\n          };\n          select(n[i]).classed('entering', false);\n        }\n        const end = {\n          startAngle: d[startAngle],\n          endAngle: d.endAngle,\n          innerRadius: this.outerRadius + this.labelOffset,\n          outerRadius: this.outerRadius + this.labelOffset\n        };\n        select(me)\n          .attr('data-use-dx', true)\n          .attr('data-use-dy', true)\n          .attr('data-translate-x', this.radius + this.padding.left + this.margin.left)\n          .attr('data-translate-y', this.radius + this.padding.top + this.margin.top + 5) // 10 is spacer to get algo to work for note\n          .attr('data-x', this.arc.centroid(end)[0])\n          .attr('data-y', this.arc.centroid(end)[1])\n          .attr('dx', 0) // can I move this here? was in a seperate update\n          .text(\n            placement === 'edge' && i === this.preppedData.length - 1 && group !== 'RefLabels'\n              ? ''\n              : d.data[this.ordinalAccessor]\n          ) // can I move this here? was in a seperate update\n          .attr('dy', placement === 'inside' ? 0 : '1.4em')\n          .attr(\n            'text-anchor',\n            placement === 'edge'\n              ? d.endAngle < Math.PI\n                ? 'start'\n                : 'end'\n              : d.startAngle + (d.endAngle - d.startAngle) / 2 < Math.PI\n              ? 'start'\n              : 'end'\n          );\n        const interpolator = interpolate(start, end);\n        if (this.showLabelNote && this.dataLabel.visible && this.dataLabel.collisionHideOnly) {\n          const validPositions = ['middle']; // , 'left', 'right'];\n          const offsets = [1]; //,1,1];\n          this.bitmaps = resolveLabelCollision({\n            bitmaps: this.bitmaps,\n            labelSelection: select(me), // highlightLabels,\n            avoidMarks: [],\n            validPositions,\n            offsets,\n            accessors: [this.ordinalAccessor],\n            size: [roundTo(this.width, 0), roundTo(this.height, 0)], // we need the whole width and height for pie\n            hideOnly: this.showLabelNote && this.dataLabel.visible && this.dataLabel.collisionHideOnly\n          });\n        }\n        if (!this.duration) {\n          me._current = interpolator(1);\n          select(me).attr('y', this.arc.centroid(end)[1]);\n          return this.arc.centroid(end)[0];\n        }\n        return t => {\n          me._current = interpolator(t);\n          select(me).attr('y', this.arc.centroid(me._current)[1]);\n          // addStrokeUnder(select(me), 'white');\n          return this.arc.centroid(me._current)[0];\n        };\n      })\n      .call(transitionEndAll, () => {\n        // addStrokeUnder(this['updating' + group + 'Notes'], 'white');\n      });\n  }\n\n  drawCenterTitle() {\n    let titleRoot = this.rootG.select('.pie-center-title-group');\n\n    if (this.defaults) {\n      titleRoot = this.rootG\n        .append('g')\n        .attr('class', 'pie-center-title-group')\n        .style('opacity', 1);\n\n      titleRoot\n        .append('text')\n        .attr('class', 'visa-ui-header--1 visa-viz-title')\n        .attr('text-anchor', 'middle')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('fill', visaColors.dark_text);\n\n      titleRoot\n        .append('text')\n        .attr('class', 'visa-ui-text--body visa-viz-subtitle')\n        .attr('text-anchor', 'middle')\n        .attr('x', 0)\n        .attr('fill', visaColors.dark_text);\n    }\n    titleRoot\n      .select('.visa-viz-title')\n      .text(this.centerTitle)\n      .attr('data-fill', true)\n      .attr('data-width', (_, i, n) => {\n        if (this.dataLabel.visible && this.dataLabel.collisionHideOnly) {\n          const textElement = n[i];\n          const style = getComputedStyle(textElement);\n          const fontSize = parseFloat(style.fontSize);\n          const textWidth = getTextWidth(textElement.textContent, fontSize, true, style.fontFamily);\n          const textHeight = Math.max(fontSize - 1, 1); // clone.getBBox().height;\n          select(textElement)\n            .attr('data-x', 0)\n            .attr('data-y', -textHeight / 2)\n            .attr('data-height', textHeight)\n            .attr('data-translate-x', this.radius + this.padding.left + this.margin.left)\n            .attr('data-translate-y', this.radius + this.padding.top + this.margin.top);\n          return textWidth;\n        }\n      });\n    titleRoot\n      .select('.visa-viz-subtitle')\n      .attr('data-x', 0)\n      .attr('data-y', this.centerTitle ? 20 : 10)\n      .attr('y', this.centerTitle ? 20 : 10)\n      .text(this.centerSubTitle)\n      .attr('data-fill', true)\n      .attr('data-width', (_, i, n) => {\n        if (this.dataLabel.visible && this.dataLabel.collisionHideOnly) {\n          const textElement = n[i];\n          const style = getComputedStyle(textElement);\n          const fontSize = parseFloat(style.fontSize);\n          const textWidth = getTextWidth(textElement.textContent, fontSize, true, style.fontFamily);\n          const textHeight = Math.max(fontSize - 1, 1); // clone.getBBox().height;\n          select(textElement)\n            .attr('data-x', 0)\n            .attr('data-y', (this.centerTitle ? 20 : 10) - textHeight / 2)\n            .attr('data-height', textHeight)\n            .attr('data-translate-x', this.radius + this.padding.left + this.margin.left)\n            .attr('data-translate-y', this.radius + this.padding.top + this.margin.top);\n          return textWidth;\n        }\n      });\n\n    const filter = createTextStrokeFilter({\n      root: this.svg.node(),\n      id: this.chartID,\n      color: '#ffffff'\n    });\n    titleRoot.attr('filter', filter);\n\n    // addStrokeUnder(titleRoot.select('.visa-viz-title'), 'white');\n    // addStrokeUnder(titleRoot.select('.visa-viz-subtitle'), 'white');\n  }\n\n  enterEdgeLine() {\n    this.enteringEdges\n      .attr('class', 'edge-line')\n      .attr('opacity', 0)\n      .classed('entering', true)\n      .attr('stroke-width', 1)\n      .attr('stroke', visaColors.dark_text)\n      .attr('fill', 'none');\n  }\n\n  updateEdgeLine(group) {\n    let edgeOpacity = 1;\n    if (!(this.showEdgeLine || this.dataLabel.placement === 'edge')) {\n      edgeOpacity = 0;\n    }\n\n    this.updatingEdges\n      .transition('edgeOpacity')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', (_, i) => (group === 'refEdges' && i !== 0 ? 0 : edgeOpacity));\n  }\n\n  exitEdgeLine() {\n    this.exitingEdges\n      .transition('exit')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', 0)\n      [this.duration ? 'attrTween' : 'attr']('d', (_, i, n) => {\n        const me = n[i];\n        const end = {\n          startAngle: 0,\n          endAngle: 0,\n          innerRadius: (this.radius + this.radius * this.innerRatio) / 2,\n          outerRadius: (this.radius + this.radius * this.innerRatio) / 2\n        };\n        if (!this.duration) {\n          return this.arc(end);\n        }\n        const interpolator = interpolate(me._current, end);\n        return t => {\n          me._current = interpolator(t);\n          return this.arc(me._current);\n        };\n      })\n      .remove();\n  }\n\n  drawEdgeLine() {\n    this.updatingEdges\n      .attr('data-translate-x', this.radius + this.padding.left + this.margin.left)\n      .attr('data-translate-y', this.radius + this.padding.top + this.margin.top)\n      .attr('data-d', (d, i, n) => {\n        const me = n[i];\n        const end = {\n          startAngle: d.endAngle,\n          endAngle: d.endAngle,\n          innerRadius: Math.max(0, this.innerRadius - 5),\n          outerRadius: this.outerRadius + 5\n        };\n        select(me)\n          .attr('data-fake-x', this.arc.centroid(end)[0])\n          .attr('data-fake-y', this.arc.centroid(end)[1]);\n        return this.arc(end);\n      })\n      .transition('update')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      [this.duration ? 'attrTween' : 'attr']('d', (d, i, n) => {\n        const me = n[i];\n        let start = me._current;\n        if (select(me).classed('entering')) {\n          start = {\n            startAngle: 0,\n            endAngle: 0,\n            innerRadius: Math.max(0, this.innerRadius - 5),\n            outerRadius: this.outerRadius + 5\n          };\n          select(me).classed('entering', false);\n        }\n        const end = {\n          startAngle: d.endAngle,\n          endAngle: d.endAngle,\n          innerRadius: Math.max(0, this.innerRadius - 5),\n          outerRadius: this.outerRadius + 5\n        };\n        const interpolator = interpolate(start, end);\n        if (!this.duration) {\n          me._current = interpolator(1);\n          return this.arc(end);\n        }\n        return t => {\n          me._current = interpolator(t);\n          return this.arc(me._current);\n        };\n      });\n  }\n\n  drawAnnotations() {\n    annotate({\n      source: this.rootG.node(),\n      data: this.annotations,\n      // xScale: this.x,\n      // xAccessor: this.ordinalAccessor,\n      // yScale: this.y,\n      // yAccessor: this.valueAccessor\n      width: this.width,\n      height: this.height,\n      padding: this.padding,\n      margin: this.margin,\n      bitmaps: this.bitmaps\n    });\n  }\n\n  setAnnotationAccessibility() {\n    // console.log('---------this.refArr', this.refArr);\n    setAccessAnnotation(this.getLanguageString(), this.pieChartEl, this.annotations, this.refArr);\n  }\n\n  // new accessibility functions added here\n  setTagLevels() {\n    this.topLevel = findTagLevel(this.highestHeadingLevel);\n    this.bottomLevel = findTagLevel(this.highestHeadingLevel, 3);\n  }\n\n  setChartDescriptionWrapper() {\n    initializeDescriptionRoot({\n      language: this.getLanguageString(),\n      rootEle: this.pieChartEl,\n      title: this.accessibility.title || this.mainTitle,\n      chartTag: 'pie-chart',\n      uniqueID: this.chartID,\n      highestHeadingLevel: this.highestHeadingLevel,\n      redraw: this.shouldRedrawWrapper,\n      disableKeyNav:\n        this.suppressEvents &&\n        this.accessibility.elementsAreInterface === false &&\n        this.accessibility.keyboardNavConfig &&\n        this.accessibility.keyboardNavConfig.disabled,\n      hideDataTable: this.accessibility.hideDataTableButton\n    });\n    this.shouldRedrawWrapper = false;\n  }\n\n  setParentSVGAccessibility() {\n    setAccessibilityController({\n      chartTag: 'pie-chart',\n      language: this.getLanguageString(),\n      node: this.svg.node(),\n      title: this.accessibility.title || this.mainTitle,\n      description: this.subTitle,\n      uniqueID: this.chartID,\n      geomType: 'slice',\n      includeKeyNames: this.accessibility.includeDataKeyNames,\n      dataKeys: scopeDataKeys(this, chartAccessors, 'pie-chart'),\n      dataKeyNames: this.dataKeyNames,\n      // groupAccessor: this.groupAccessor // pie chart does not include these\n      groupName: 'pie',\n      disableKeyNav:\n        this.suppressEvents &&\n        this.accessibility.elementsAreInterface === false &&\n        this.accessibility.keyboardNavConfig &&\n        this.accessibility.keyboardNavConfig.disabled,\n      // groupKeys: [], // pie chart does not include these\n      // nested: '', // pie chart does not include these\n      // recursive: true // pie chart does not include these\n      normalized: this.showPercentage, // adds percentage to aria-label\n      valueAccessor: this.valueAccessor\n    });\n  }\n\n  setGeometryAccessibilityAttributes() {\n    this.update.each((_d, i, n) => {\n      initializeElementAccess(n[i]);\n    });\n    this.updateRefPie.each((_d, i, n) => {\n      initializeElementAccess(n[i]);\n    });\n  }\n\n  setGeometryAriaLabels() {\n    const keys = scopeDataKeys(this, chartAccessors, 'pie-chart');\n    this.update.each((_d, i, n) => {\n      setElementFocusHandler({\n        chartTag: 'pie-chart',\n        language: this.getLanguageString(),\n        node: n[i],\n        geomType: 'slice',\n        includeKeyNames: this.accessibility.includeDataKeyNames,\n        dataKeys: keys,\n        dataKeyNames: this.dataKeyNames,\n        groupName: 'pie',\n        uniqueID: this.chartID,\n        disableKeyNav:\n          this.suppressEvents &&\n          this.accessibility.elementsAreInterface === false &&\n          this.accessibility.keyboardNavConfig &&\n          this.accessibility.keyboardNavConfig.disabled,\n        normalized: this.showPercentage,\n        valueAccessor: this.valueAccessor\n      });\n      setElementAccessID({\n        node: n[i],\n        uniqueID: this.chartID\n      });\n    });\n    this.updateRefPie.each((_d, i, n) => {\n      setElementFocusHandler({\n        node: n[i],\n        geomType: 'slice',\n        includeKeyNames: this.accessibility.includeDataKeyNames,\n        dataKeys: keys,\n        groupName: 'pie',\n        uniqueID: this.chartID,\n        disableKeyNav:\n          this.suppressEvents &&\n          this.accessibility.elementsAreInterface === false &&\n          this.accessibility.keyboardNavConfig &&\n          this.accessibility.keyboardNavConfig.disabled,\n        normalized: this.showPercentage,\n        valueAccessor: this.valueAccessor\n      });\n      setElementAccessID({\n        node: n[i],\n        uniqueID: this.chartID\n      });\n    });\n  }\n\n  setGroupAccessibilityAttributes() {\n    // if a component's <g> elements can enter/exit, this will need to be called in the\n    // lifecycle more than just initially, like how setGeometryAccessibilityAttributes works\n    initializeElementAccess(this.pieG.node());\n  }\n\n  setGroupAccessibilityID() {\n    this.pieG.each((_, i, n) => {\n      setElementAccessID({\n        node: n[i],\n        uniqueID: this.chartID\n      });\n    });\n  }\n\n  setChartAccessibilityTitle() {\n    setAccessTitle(this.getLanguageString(), this.pieChartEl, this.accessibility.title || this.mainTitle);\n  }\n\n  setChartAccessibilitySubtitle() {\n    setAccessSubtitle(this.getLanguageString(), this.pieChartEl, this.subTitle);\n  }\n\n  setChartAccessibilityLongDescription() {\n    setAccessLongDescription(this.getLanguageString(), this.pieChartEl, this.accessibility.longDescription);\n  }\n\n  setChartAccessibilityExecutiveSummary() {\n    setAccessExecutiveSummary(this.getLanguageString(), this.pieChartEl, this.accessibility.executiveSummary);\n  }\n\n  setChartAccessibilityPurpose() {\n    setAccessPurpose(this.getLanguageString(), this.pieChartEl, this.accessibility.purpose);\n  }\n\n  setChartAccessibilityContext() {\n    setAccessContext(this.getLanguageString(), this.pieChartEl, this.accessibility.contextExplanation);\n  }\n\n  setChartAccessibilityStatisticalNotes() {\n    setAccessStatistics(this.getLanguageString(), this.pieChartEl, this.accessibility.statisticalNotes);\n  }\n\n  setChartCountAccessibility() {\n    setAccessChartCounts({\n      rootEle: this.pieChartEl,\n      parentGNode: this.pieG.node(), // pass the wrapper to <g> or geometries here, should be single node selection\n      chartTag: 'pie-chart',\n      geomType: 'slice',\n      groupName: 'pie'\n      // recursive: true // pie chart doesn't use this, so it is omitted\n    });\n  }\n\n  setChartAccessibilityStructureNotes() {\n    setAccessStructure(this.getLanguageString(), this.pieChartEl, this.accessibility.structureNotes);\n  }\n\n  onChangeHandler() {\n    if (this.accessibility && typeof this.accessibility.onChangeFunc === 'function') {\n      const d = {\n        updated: this.updated,\n        added: this.enterSize,\n        removed: this.exitSize\n      };\n      this.accessibility.onChangeFunc(d);\n    }\n    this.updated = false;\n    this.enterSize = 0;\n    this.exitSize = 0;\n  }\n\n  updateCursor() {\n    this.update.attr('cursor', !this.suppressEvents ? this.cursor : null);\n    this.updatingLabels.attr('cursor', !this.suppressEvents ? this.cursor : null);\n  }\n\n  bindInteractivity() {\n    this.update\n      .on('click', !this.suppressEvents ? (d, i, n) => this.onClickHandler(d.data, n[i]) : null)\n      .on('mouseover', !this.suppressEvents ? (d, i, n) => this.onHoverHandler(d.data, n[i]) : null)\n      .on('mouseout', !this.suppressEvents ? () => this.onMouseOutHandler() : null);\n\n    this.updatingLabels\n      .on('click', !this.suppressEvents ? (d, i, n) => this.onClickHandler(d.data, n[i]) : null)\n      .on('mouseover', !this.suppressEvents ? (d, i, n) => this.onHoverHandler(d.data, n[i]) : null)\n      .on('mouseout', !this.suppressEvents ? () => this.onMouseOutHandler() : null);\n    this.updatingLabelsNotes\n      .on('click', !this.suppressEvents ? (d, i, n) => this.onClickHandler(d.data, n[i]) : null)\n      .on('mouseover', !this.suppressEvents ? (d, i, n) => this.onHoverHandler(d.data, n[i]) : null)\n      .on('mouseout', !this.suppressEvents ? () => this.onMouseOutHandler() : null);\n  }\n\n  onClickHandler(d, n) {\n    this.clickEvent.emit({ data: d, target: n });\n  }\n\n  onHoverHandler(d, n) {\n    overrideTitleTooltip(this.chartID, true);\n    this.hoverEvent.emit({ data: d, target: n });\n    if (this.showTooltip) {\n      this.eventsTooltip({ data: d, evt: event, isToShow: true });\n    }\n  }\n\n  onMouseOutHandler() {\n    overrideTitleTooltip(this.chartID, false);\n    this.mouseOutEvent.emit();\n    if (this.showTooltip) {\n      this.eventsTooltip({ isToShow: false });\n    }\n  }\n\n  // set initial style (instead of copying css class across the lib)\n  setTooltipInitialStyle() {\n    initTooltipStyle(this.tooltipG);\n  }\n\n  // tooltip\n  eventsTooltip({ data, evt, isToShow }: { data?: any; evt?: any; isToShow: boolean }) {\n    drawTooltip({\n      root: this.tooltipG,\n      data,\n      event: evt,\n      isToShow,\n      tooltipLabel: this.tooltipLabel,\n      dataLabel: this.dataLabel,\n      dataKeyNames: this.dataKeyNames,\n      ordinalAccessor: this.ordinalAccessor,\n      valueAccessor: this.valueAccessor,\n      chartType: 'pie',\n      normalized: this.showPercentage\n    });\n  }\n\n  render() {\n    this.drawStartEvent.emit({ chartID: this.chartID });\n    // everything between this comment and the third should eventually\n    // be moved into componentWillUpdate (if the Stencil bug is fixed)\n    this.init();\n    if (this.shouldSetLocalizationConfig) {\n      this.setLocalizationConfig();\n      this.shouldSetLocalizationConfig = false;\n    }\n    if (this.shouldSetTagLevels) {\n      this.setTagLevels();\n      this.shouldSetTagLevels = false;\n    }\n    if (this.shouldUpdateScales) {\n      this.prepareScales();\n      this.shouldUpdateScales = false;\n    }\n    if (this.shouldUpdateData) {\n      this.prepareData();\n      this.shouldUpdateData = false;\n    }\n    if (this.shouldUpdateLayout) {\n      this.setLayoutData();\n      this.shouldUpdateLayout = false;\n    }\n    if (this.shouldSetPieRadius) {\n      this.setPieRadius();\n      this.shouldSetPieRadius = false;\n    }\n    if (this.shouldUpdateInnerRatio) {\n      this.setInnerRatio();\n      this.shouldUpdateInnerRatio = false;\n    }\n    if (this.shouldValidateInteractionKeys) {\n      this.validateInteractionKeys();\n      this.shouldValidateInteractionKeys = false;\n    }\n    if (this.shouldUpdateTableData) {\n      this.setTableData();\n      this.shouldUpdateTableData = false;\n    }\n    if (this.shouldValidate) {\n      this.shouldValidateAccessibilityProps();\n      this.shouldValidateLocalizationProps();\n      this.shouldValidateLocalizationProps();\n      this.shouldValidate = false;\n    }\n    if (this.shouldSetColors) {\n      this.setColors();\n      this.shouldSetColors = false;\n    }\n    // Everything between this comment and the first should eventually\n    // be moved into componentWillUpdate (if the Stencil bug is fixed)\n\n    return (\n      <div class=\"o-layout is--vertical\">\n        <div class=\"o-layout--chart\">\n          <this.topLevel class=\"pie-main-title vcl-main-title\">{this.mainTitle}</this.topLevel>\n          <this.bottomLevel class=\"visa-ui-text--instructions pie-sub-title vcl-sub-title\" />\n          <keyboard-instructions\n            uniqueID={this.chartID}\n            geomType={'slice'}\n            groupName={'pie'} // taken from initializeDescriptionRoot, on bar this should be \"bar group\", stacked bar is \"stack\", and clustered is \"cluster\"\n            language={this.getLanguageString()}\n            chartTag={'pie-chart'}\n            width={this.width - (this.margin ? this.margin.right || 0 : 0)}\n            isInteractive={this.accessibility.elementsAreInterface}\n            hasCousinNavigation={false} // pie-chart doesn't have a group accessor\n            disabled={\n              this.suppressEvents &&\n              this.accessibility.elementsAreInterface === false &&\n              this.accessibility.keyboardNavConfig &&\n              this.accessibility.keyboardNavConfig.disabled\n            } // the chart is \"simple\"\n          />\n          <div class=\"visa-viz-d3-pie-container\" />\n          <div class=\"pie-tooltip vcl-tooltip\" style={{ display: this.showTooltip ? 'block' : 'none' }} />\n          <data-table\n            uniqueID={this.chartID}\n            isCompact\n            language={this.getLanguageString()}\n            tableColumns={this.tableColumns}\n            dataKeyNames={this.dataKeyNames}\n            data={this.tableData}\n            padding={this.padding}\n            margin={this.margin}\n            hideDataTable={this.accessibility.hideDataTableButton}\n            unitTest={this.unitTest}\n          />\n        </div>\n        {/* <canvas id=\"bitmap-render\" /> */}\n      </div>\n    );\n  }\n\n  private init() {\n    const keys = Object.keys(PieChartDefaultValues);\n    let i = 0;\n    const exceptions = {\n      showLabelNote: {\n        exception: false\n      },\n      innerRatio: {\n        exception: 0\n      },\n      showPercentage: {\n        exception: false\n      },\n      showTooltip: {\n        exception: false\n      },\n      mainTitle: {\n        exception: ''\n      },\n      subTitle: {\n        exception: ''\n      },\n      hoverOpacity: {\n        exception: 0\n      }\n    };\n    for (i = 0; i < keys.length; i++) {\n      const exception = !exceptions[keys[i]] ? false : this[keys[i]] === exceptions[keys[i]].exception;\n      this[keys[i]] = this[keys[i]] || exception ? this[keys[i]] : PieChartDefaultValues[keys[i]];\n    }\n  }\n}\n\n// incorporate OSS licenses into build\nwindow['VisaChartsLibOSSLicenses'] = getLicenses(); // tslint:disable-line no-string-literal\n"],"mappings":"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","ignoreList":[]}