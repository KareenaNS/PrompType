import{w as withPath,a as array,c as constant}from"./array-c45d2fb9.js";import{x,y}from"./point-7945b9d0.js";import{e as epsilon}from"./math-e6fa2f69.js";function Linear(t){this._context=t}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,i){t=+t,i=+i;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:this._context.lineTo(t,i);break}}};function curveLinear(t){return new Linear(t)}function line(t,i){var s=constant(true),n=null,h=curveLinear,a=null,e=withPath(r);t=typeof t==="function"?t:t===undefined?x:constant(t);i=typeof i==="function"?i:i===undefined?y:constant(i);function r(r){var o,u=(r=array(r)).length,c,f=false,l;if(n==null)a=h(l=e());for(o=0;o<=u;++o){if(!(o<u&&s(c=r[o],o,r))===f){if(f=!f)a.lineStart();else a.lineEnd()}if(f)a.point(+t(c,o,r),+i(c,o,r))}if(l)return a=null,l+""||null}r.x=function(i){return arguments.length?(t=typeof i==="function"?i:constant(+i),r):t};r.y=function(t){return arguments.length?(i=typeof t==="function"?t:constant(+t),r):i};r.defined=function(t){return arguments.length?(s=typeof t==="function"?t:constant(!!t),r):s};r.curve=function(t){return arguments.length?(h=t,n!=null&&(a=h(n)),r):h};r.context=function(t){return arguments.length?(t==null?n=a=null:a=h(n=t),r):n};return r}function point$1(t,i,s){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-i),t._y2+t._k*(t._y1-s),t._x2,t._y2)}function Cardinal(t,i){this._context=t;this._k=(1-i)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$1(this,this._x1,this._y1);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,i){t=+t,i=+i;switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;this._x1=t,this._y1=i;break;case 2:this._point=3;default:point$1(this,t,i);break}this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=i}};function point(t,i,s){var n=t._x1,h=t._y1,a=t._x2,e=t._y2;if(t._l01_a>epsilon){var r=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,o=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*r-t._x0*t._l12_2a+t._x2*t._l01_2a)/o;h=(h*r-t._y0*t._l12_2a+t._y2*t._l01_2a)/o}if(t._l23_a>epsilon){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*u+t._x1*t._l23_2a-i*t._l12_2a)/c;e=(e*u+t._y1*t._l23_2a-s*t._l12_2a)/c}t._context.bezierCurveTo(n,h,a,e,t._x2,t._y2)}function CatmullRom(t,i){this._context=t;this._alpha=i}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN;this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}if(this._line||this._line!==0&&this._point===1)this._context.closePath();this._line=1-this._line},point:function(t,i){t=+t,i=+i;if(this._point){var s=this._x2-t,n=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+n*n,this._alpha))}switch(this._point){case 0:this._point=1;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3;default:point(this,t,i);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a;this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a;this._x0=this._x1,this._x1=this._x2,this._x2=t;this._y0=this._y1,this._y1=this._y2,this._y2=i}};var curveCatmullRom=function t(i){function s(t){return i?new CatmullRom(t,i):new Cardinal(t,0)}s.alpha=function(i){return t(+i)};return s}(.5);export{curveCatmullRom as a,curveLinear as c,line as l};
//# sourceMappingURL=catmullRom-a266b0f3.js.map