{"version":3,"names":["quantize","x0","x1","n","domain","range","unknown","scale","x","bisect","rescale","i","Array","_","arguments","length","slice","call","invertExtent","y","indexOf","NaN","thresholds","copy","initRange","apply","linearish"],"sources":["node_modules/d3-scale/src/quantize.js"],"sourcesContent":["import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\nimport {initRange} from \"./init\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1],\n      unknown;\n\n  function scale(x) {\n    return x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : scale;\n  };\n\n  scale.thresholds = function() {\n    return domain.slice();\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(linearish(scale), arguments);\n}\n"],"mappings":"mKAKe,SAASA,IACtB,IAAIC,EAAK,EACLC,EAAK,EACLC,EAAI,EACJC,EAAS,CAAC,IACVC,EAAQ,CAAC,EAAG,GACZC,EAEJ,SAASC,EAAMC,GACb,OAAOA,GAAKA,EAAIH,EAAMI,EAAOL,EAAQI,EAAG,EAAGL,IAAMG,CACrD,CAEE,SAASI,IACP,IAAIC,GAAK,EACTP,EAAS,IAAIQ,MAAMT,GACnB,QAASQ,EAAIR,EAAGC,EAAOO,KAAOA,EAAI,GAAKT,GAAMS,EAAIR,GAAKF,IAAOE,EAAI,GACjE,OAAOI,CACX,CAEEA,EAAMH,OAAS,SAASS,GACtB,OAAOC,UAAUC,QAAUd,GAAMY,EAAE,GAAIX,GAAMW,EAAE,GAAIH,KAAa,CAACT,EAAIC,EACzE,EAEEK,EAAMF,MAAQ,SAASQ,GACrB,OAAOC,UAAUC,QAAUZ,GAAKE,EAAQW,EAAMC,KAAKJ,IAAIE,OAAS,EAAGL,KAAaL,EAAMW,OAC1F,EAEET,EAAMW,aAAe,SAASC,GAC5B,IAAIR,EAAIN,EAAMe,QAAQD,GACtB,OAAOR,EAAI,EAAI,CAACU,IAAKA,KACfV,EAAI,EAAI,CAACV,EAAIG,EAAO,IACpBO,GAAKR,EAAI,CAACC,EAAOD,EAAI,GAAID,GACzB,CAACE,EAAOO,EAAI,GAAIP,EAAOO,GACjC,EAEEJ,EAAMD,QAAU,SAASO,GACvB,OAAOC,UAAUC,QAAUT,EAAUO,EAAGN,GAASA,CACrD,EAEEA,EAAMe,WAAa,WACjB,OAAOlB,EAAOY,OAClB,EAEET,EAAMgB,KAAO,WACX,OAAOvB,IACFI,OAAO,CAACH,EAAIC,IACZG,MAAMA,GACNC,QAAQA,EACjB,EAEE,OAAOkB,EAAUC,MAAMC,EAAUnB,GAAQO,UAC3C,C","ignoreList":[]}