{"version":3,"names":["arcInnerRadius","d","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x0","y0","x1","y1","x2","y2","x3","y3","x10","y10","x32","y32","t","epsilon","cornerTangents","r1","rc","cw","x01","y01","lo","sqrt","ox","oy","x11","y11","x00","y00","dx","dy","d2","r","D","max","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","arc","cornerRadius","constant","padRadius","context","path","withPath","buffer","r0","apply","this","arguments","a0","halfPi","a1","da","abs","moveTo","tau","cos","sin","a01","a11","a00","a10","da0","da1","ap","rp","min","rc0","rc1","t0","t1","p0","asin","p1","oc","pi","ax","ay","bx","by","kc","acos","lc","atan2","lineTo","closePath","centroid","a","_","length","descending","b","NaN","identity","pie","value","sortValues","sort","data","i","n","array","j","k","sum","index","Array","arcs","Math","p","pa","v","propDefaultValues","Utils","PieChartDefaultValues","mainTitle","subTitle","text","centerTitle","centerSubTitle","height","width","margin","top","bottom","right","left","padding","localization","ordinalAccessor","valueAccessor","innerRatio","showEdgeLine","showPercentage","showLabelNote","labelOffset","accessibility","animationConfig","highestHeadingLevel","colorPalette","colorPaletteSequential","sortOrder","sortOrderAsc","hoverStyle","clickStyle","referenceStyle","hoverOpacity","cursor","showTooltip","dataLabel","dataLabelNormalizedOut","tooltipLabel","annotations","suppressEvents","clickHighlight","pieChartCss","PieChartStyle0","getGlobalInstances","configLocalization","getActiveLanguageString","checkAttributeTransitions","createTextStrokeFilter","drawHoverStrokes","removeHoverStrokes","buildStrokes","convertColorsToTextures","initializeDescriptionRoot","initializeElementAccess","setElementFocusHandler","setElementAccessID","setAccessibilityController","hideNonessentialGroups","setAccessTitle","setAccessSubtitle","setAccessLongDescription","setAccessExecutiveSummary","setAccessPurpose","setAccessContext","setAccessStatistics","setAccessChartCounts","setAccessStructure","setAccessAnnotation","retainAccessFocus","checkAccessFocus","setElementInteractionAccessState","setAccessibilityDescriptionWidth","autoTextColor","annotate","chartAccessors","checkInteraction","checkClicked","checkHovered","convertVisaColor","drawTooltip","formatStats","getColors","getLicenses","getPadding","getScopedData","initTooltipStyle","transitionEndAll","overrideTitleTooltip","scopeDataKeys","visaColors","validateAccessibilityProps","validateLocalizationProps","findTagLevel","prepareRenderChange","roundTo","getTextWidth","resolveLabelCollision","setSubTitle","PieChart","exports","shouldValidateAccessibility","shouldValidateLocalization","updated","shouldValidate","shouldUpdateCenterTitle","shouldUpdateTableData","shouldResetRoot","shouldUpdateLabels","shouldUpdateAnnotations","shouldUpdateData","shouldSetColors","shouldSetSubTitle","shouldUpdateCursor","shouldUpdateGeometries","shouldUpdateEdgeLines","shouldUpdateInnerRatio","shouldUpdateLayout","shouldSetPieRadius","shouldPrepareChartData","shouldUpdateReferenceLines","shouldValidateInteractionKeys","shouldSetGlobalSelections","shouldSetTestingAttributes","shouldEnterUpdateExit","shouldBindInteractivity","shouldSetSelectionClass","shouldDrawInteractionState","shouldSetLabelOpacity","shouldCheckLabelColor","shouldUpdateScales","shouldUpdateDescriptionWrapper","shouldSetChartAccessibilityTitle","shouldSetChartAccessibilitySubtitle","shouldSetChartAccessibilityLongDescription","shouldSetChartAccessibilityExecutiveSummary","shouldSetChartAccessibilityStatisticalNotes","shouldSetChartAccessibilityStructureNotes","shouldSetParentSVGAccessibility","shouldSetGeometryAccessibilityAttributes","shouldSetGeometryAriaLabels","shouldSetGroupAccessibilityAttributes","shouldSetGroupAccessibilityLabel","shouldSetChartAccessibilityPurpose","shouldSetChartAccessibilityContext","shouldRedrawWrapper","shouldSetTagLevels","shouldSetChartAccessibilityCount","shouldSetAnnotationAccessibility","shouldSetTextures","shouldSetStrokes","shouldSetLocalizationConfig","strokes","topLevel","bottomLevel","textTreatmentHandler","specifiedPlacement","placement","_this","bgColor","innerInteractionKeys","color","hoverHighlight","preparedColors","dark_text","me","select","attr","classed","root","svg","node","id","chartID","class_1","prototype","titleWatcher","_newVal","_oldVal","subtitleWatcher","headingWatcher","centerTitleWatcher","layoutWatcher","dataWatcher","idWatcher","newVal","console","error","ordinalAccessorWatcher","interactionKeys","valueAccessorWatcher","sortWatcher","paletteWatcher","colorsWatcher","innerRatioWatcher","showEdgeLineWatcher","referenceWatcher","hoverOpacityWatcher","cursorWatcher","showPercentageWatcher","showTooltipWatcher","tooltipLabelWatcher","labelWatcher","newPlacementVal","oldPlacementVal","newVisibleVal","visible","oldVisibleVal","labelNoteWatcher","labelOffsetWatcher","localizationWatcher","newLanguage","language","oldLanguage","newNumeralLocale","numeralLocale","oldNumeralLocale","accessibilityWatcher","newTitle","title","oldTitle","newExecutiveSummary","executiveSummary","oldExecutiveSummary","newPurpose","purpose","oldPurpose","newLongDescription","longDescription","oldLongDescription","newContext","contextExplanation","oldContext","newStatisticalNotes","statisticalNotes","oldStatisticalNotes","newStructureNotes","structureNotes","oldStructureNotes","newincludeDataKeyNames","includeDataKeyNames","oldincludeDataKeyNames","newElementDescriptionAccessor","elementDescriptionAccessor","oldElementDescriptionAccessor","newTextures","hideTextures","oldTextures","newSmallValue","showSmallLabels","oldSmallValue","newStrokes","hideStrokes","oldStrokes","newKeyNav","keyboardNavConfig","disabled","oldKeyNav","newInterface","elementsAreInterface","oldInterface","annotationsWatcher","referenceDataWatcher","suppressWatcher","clickStyleWatcher","hoverStyleWatcher","clickWatcher","hoverWatcher","interactionWatcher","dataKeyNamesWatcher","unitTestWatcher","componentWillLoad","uniqueID","uuid","initialLoadEvent","emit","Promise","resolve","duration","pieChartEl","setLocalizationConfig","setTagLevels","prepareScales","prepareData","setLayoutData","setPieRadius","validateInteractionKeys","setTableData","shouldValidateAccessibilityProps","shouldValidateLocalizationProps","setColors","componentWillUpdate","componentDidLoad","defaults","renderRootElements","setTooltipInitialStyle","setChartDescriptionWrapper","setChartAccessibilityTitle","setChartAccessibilitySubtitle","setChartAccessibilityLongDescription","setChartAccessibilityExecutiveSummary","setChartAccessibilityPurpose","setChartAccessibilityContext","setChartAccessibilityStatisticalNotes","setChartAccessibilityStructureNotes","setParentSVGAccessibility","reSetRoot","setTextures","setStrokes","setSubTitleElements","setGlobalSelections","setTestingAttributes","setInnerRatio","enterGeometries","updateGeometries","exitGeometries","enterLabels","updateLabels","exitLabels","enterEdgeLine","updateEdgeLine","exitEdgeLine","drawGeometries","drawEdgeLine","drawReferenceLines","drawCenterTitle","drawDataLabels","setChartCountAccessibility","setGeometryAccessibilityAttributes","setGeometryAriaLabels","setSelectedClass","updateCursor","bindInteractivity","drawAnnotations","setAnnotationAccessibility","onChangeHandler","pieG","setGroupAccessibilityAttributes","setGroupAccessibilityID","then","initialLoadEndEvent","componentDidUpdate","updateInteractionState","setLabelOpacity","checkLabelColorAgainstBackground","drawEndEvent","windowInstances","languageString","i18Next","languageObject","getResourceBundle","numeralObject","numeral","localeData","skipValidation","Object","assign","disableValidation","NORMALIZED","onClickEvent","undefined","clickEvent","misc","normalized","hasOwnProperty","getLanguageString","innerHeight","innerWidth","innerPaddedHeight","innerPaddedWidth","radius","preppedData","__spreadArray","Number","dataSum_1","map","parseFloat","getSum","refArr","referenceData","dataTotal_1","forEach","refPrep","push","_c","refPie","pieData","refData","_a","_b","keys","label_1","dataKeyNames","concat","tableData","tableColumns","subTitleG","colorFromProps","colors","base_grey","colorsArray","range","colorArr","textures","rootSVG","scheme","disableTransitions","copy","stacked","unitTest","rootG","tooltipG","labelG","refLabelG","edgeG","updatingLabels","updatingLabelsNotes","updatingEdges","update","references","selectAll","updatingRefLabels","updatingRefLabelsNotes","append","style","changeSvg","selection","namespace","easing","easeCircleIn","changeRoot","changeRootG","dataBoundToGeometries","enter","exit","merge","exitSize","size","enterSize","dataBoundToLabels","enteringLabels","exitingLabels","dataBoundToLabelsNotes","enteringLabelsNotes","exitingLabelsNotes","dataBoundToRefLabels","enteringRefLabels","exitingRefLabels","dataBoundToRefLabelsNotes","enteringRefLabelsNotes","exitingRefLabelsNotes","dataBoundToEdges","enteringEdges","exitingEdges","clicked","hovered","baseColor","state","inputElement","key","strokeWidth","fill","parentGNode","labelOpacity","noteOpacity","tempLabels","tempNotes","prevOpacity","styleVisibility","targetOpacity","collisionHideOnly","labelsAdded","filter","labelsRemoved","notesAdded","notesRemoved","validPositions","offsets","bitmaps","labelSelection","avoidMarks","accessors","hideOnly","removeOnly","suppressMarkDraw","group","interrupt","on","onClickHandler","onHoverHandler","onMouseOutHandler","each","_d","order","transition","ease","end","interpolator","interpolate","_current","call","focusDidExist","remove","geometryIsUpdating","newValue","inner","arcPadding","labelEnd","start","transitionEndEvent","selected","selectable","currentRefPie","enterRefPie","exitRefPie","updateRefPie","opacity","dashed","EPSILON","PI","format","titleRoot","textElement","getComputedStyle","fontSize","textWidth","textContent","fontFamily","textHeight","edgeOpacity","source","rootEle","chartTag","redraw","disableKeyNav","hideDataTable","hideDataTableButton","description","geomType","includeKeyNames","dataKeys","groupName","onChangeFunc","added","removed","target","hoverEvent","eventsTooltip","evt","event","isToShow","mouseOutEvent","chartType","render","drawStartEvent","init","h","class","isInteractive","hasCousinNavigation","display","isCompact","exceptions","exception","window"],"sources":["node_modules/d3-shape/src/arc.js","node_modules/d3-shape/src/descending.js","node_modules/d3-shape/src/identity.js","node_modules/d3-shape/src/pie.js","src/components/pie-chart/pie-chart-default-values.ts","src/components/pie-chart/pie-chart.scss?tag=pie-chart","src/components/pie-chart/pie-chart.tsx"],"sourcesContent":["import constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\nimport {withPath} from \"./path.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null,\n      path = withPath(arc);\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle. If this\n        // intersection fails, it’s probably because the arc is too small, so\n        // disable the corner radius entirely.\n        if (da < pi) {\n          if (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10)) {\n            var ax = x01 - oc[0],\n                ay = y01 - oc[1],\n                bx = x11 - oc[0],\n                by = y11 - oc[1],\n                kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n                lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n            rc0 = min(rc, (r0 - lc) / (kc - 1));\n            rc1 = min(rc, (r1 - lc) / (kc + 1));\n          } else {\n            rc0 = rc1 = 0;\n          }\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","/**\n * Copyright (c) 2020, 2021, 2022, 2023 Visa, Inc.\n *\n * This source code is licensed under the MIT license\n * https://github.com/visa/visa-chart-components/blob/master/LICENSE\n *\n **/\nimport Utils from '@visa/visa-charts-utils';\n\nconst { propDefaultValues } = Utils;\n\nexport class PieChartDefaultValues {\n  static readonly mainTitle = 'Pie Chart Title';\n  static readonly subTitle = propDefaultValues.subTitle.text;\n  static readonly centerTitle = '';\n  static readonly centerSubTitle = '';\n  static readonly height = 325;\n  static readonly width = 600;\n  static readonly margin = {\n    top: 600 * 0.05,\n    bottom: 600 * 0.05,\n    right: 600 * 0.05,\n    left: 600 * 0.05\n  };\n  static readonly padding = {\n    top: 20,\n    bottom: 50,\n    right: 70,\n    left: 70\n  };\n\n  static readonly localization = propDefaultValues.localization;\n\n  static readonly ordinalAccessor = 'label';\n  static readonly valueAccessor = 'value';\n  static readonly innerRatio = 0.7;\n  static readonly showEdgeLine = false;\n  static readonly showPercentage = true;\n  static readonly showLabelNote = true;\n  static readonly labelOffset = 25;\n\n  static readonly accessibility = propDefaultValues.accessibility;\n  static readonly animationConfig = propDefaultValues.animationConfig;\n  static readonly highestHeadingLevel = propDefaultValues.highestHeadingLevel;\n\n  static readonly colorPalette = propDefaultValues.colorPaletteSequential;\n  static readonly sortOrder = propDefaultValues.sortOrderAsc;\n\n  static readonly hoverStyle = propDefaultValues.hoverStyle;\n  static readonly clickStyle = propDefaultValues.clickStyle;\n  static readonly referenceStyle = propDefaultValues.referenceStyle;\n  static readonly hoverOpacity = propDefaultValues.hoverOpacity;\n  static readonly cursor = propDefaultValues.cursor;\n\n  static readonly showTooltip = propDefaultValues.showTooltip;\n  static readonly dataLabel = propDefaultValues.dataLabelNormalizedOut;\n  static readonly dataKeyNames;\n  static readonly tooltipLabel = propDefaultValues.tooltipLabel;\n  static readonly annotations = propDefaultValues.annotations;\n  static readonly suppressEvents = propDefaultValues.suppressEvents;\n  static readonly hoverHighlight;\n  static readonly clickHighlight = propDefaultValues.clickHighlight;\n}\n","/**\n * Copyright (c) 2020, 2021, 2023, 2024 Visa, Inc.\n *\n * This source code is licensed under the MIT license\n * https://github.com/visa/visa-chart-components/blob/master/LICENSE\n *\n **/\npie-chart {\n  .annotations {\n    pointer-events: none;\n    .handle {\n      pointer-events: all;\n    }\n  }\n\n  .screen-reader-info {\n    position: absolute;\n    left: -9999px;\n    top: auto;\n    width: 1px;\n    height: 1px;\n    overflow: hidden;\n  }\n\n  .data-table-link {\n    color: #767676;\n    text-decoration: none;\n    font-size: 12px;\n    margin-left: 5%;\n  }\n\n  .hidden {\n    display: none;\n  }\n\n  .pie-tooltip {\n    z-index: 1;\n  }\n\n  .arc {\n    text {\n      font: 0.625rem sans-serif;\n      text-anchor: middle;\n      cursor: default;\n    }\n  }\n\n  .pie-dataLabel-highlight {\n    font-size: 1.5rem;\n    font-weight: 300;\n  }\n  .pie-dataLabel-note {\n    font-size: 0.75rem;\n    fill: #767676;\n  }\n\n  .pie-center-title-group {\n    fill: #767676;\n    .visa-ui-header--1 {\n      font-size: 2rem;\n    }\n  }\n}\n","/**\n * Copyright (c) 2020, 2021, 2022, 2023 Visa, Inc.\n *\n * This source code is licensed under the MIT license\n * https://github.com/visa/visa-chart-components/blob/master/LICENSE\n *\n **/\nimport { Component, Element, Prop, Watch, h, Event, EventEmitter } from '@stencil/core';\nimport { select, event } from 'd3-selection';\nimport { arc, pie } from 'd3-shape';\nimport {\n  IBoxModelType,\n  ILocalizationType,\n  IHoverStyleType,\n  IClickStyleType,\n  IReferenceStyleType,\n  IDataLabelType,\n  ITooltipLabelType,\n  IAnimationConfig,\n  IAccessibilityType,\n  ISubTitleType\n} from '@visa/charts-types';\nimport { PieChartDefaultValues } from './pie-chart-default-values';\nimport { easeCircleIn } from 'd3-ease';\nimport { interpolate } from 'd3-interpolate';\nimport 'd3-transition';\nimport { v4 as uuid } from 'uuid';\nimport Utils from '@visa/visa-charts-utils';\n\nconst {\n  getGlobalInstances,\n  configLocalization,\n  getActiveLanguageString,\n  // verifyTextHasSpace,\n  checkAttributeTransitions,\n  createTextStrokeFilter,\n  drawHoverStrokes,\n  removeHoverStrokes,\n  buildStrokes,\n  convertColorsToTextures,\n  initializeDescriptionRoot,\n  initializeElementAccess,\n  setElementFocusHandler,\n  setElementAccessID,\n  setAccessibilityController,\n  hideNonessentialGroups,\n  setAccessTitle,\n  setAccessSubtitle,\n  setAccessLongDescription,\n  setAccessExecutiveSummary,\n  setAccessPurpose,\n  setAccessContext,\n  setAccessStatistics,\n  setAccessChartCounts,\n  setAccessStructure,\n  setAccessAnnotation,\n  retainAccessFocus,\n  checkAccessFocus,\n  setElementInteractionAccessState,\n  setAccessibilityDescriptionWidth,\n  autoTextColor,\n  annotate,\n  chartAccessors,\n  checkInteraction,\n  checkClicked,\n  checkHovered,\n  convertVisaColor,\n  drawTooltip,\n  formatStats,\n  getColors,\n  getLicenses,\n  getPadding,\n  getScopedData,\n  initTooltipStyle,\n  transitionEndAll,\n  overrideTitleTooltip,\n  scopeDataKeys,\n  visaColors,\n  validateAccessibilityProps,\n  validateLocalizationProps,\n  findTagLevel,\n  prepareRenderChange,\n  roundTo,\n  getTextWidth,\n  resolveLabelCollision,\n  setSubTitle\n} = Utils;\n@Component({\n  tag: 'pie-chart',\n  styleUrl: 'pie-chart.scss'\n})\nexport class PieChart {\n  @Event() clickEvent: EventEmitter;\n  @Event() hoverEvent: EventEmitter;\n  @Event() mouseOutEvent: EventEmitter;\n  @Event() initialLoadEvent: EventEmitter;\n  @Event() initialLoadEndEvent: EventEmitter;\n  @Event() drawStartEvent: EventEmitter;\n  @Event() drawEndEvent: EventEmitter;\n  @Event() transitionEndEvent: EventEmitter;\n\n  // Chart Attributes (1/7)\n  @Prop({ mutable: true }) localization: ILocalizationType = PieChartDefaultValues.localization;\n  @Prop({ mutable: true }) mainTitle: string = PieChartDefaultValues.mainTitle;\n  @Prop({ mutable: true }) subTitle: string | ISubTitleType = PieChartDefaultValues.subTitle;\n  @Prop({ mutable: true }) centerTitle: string = PieChartDefaultValues.centerTitle;\n  @Prop({ mutable: true }) centerSubTitle: string = PieChartDefaultValues.centerSubTitle;\n  @Prop({ mutable: true }) height: number = PieChartDefaultValues.height;\n  @Prop({ mutable: true }) width: number = PieChartDefaultValues.width;\n  @Prop({ mutable: true }) highestHeadingLevel: string | number = PieChartDefaultValues.highestHeadingLevel;\n\n  @Prop({ mutable: true }) margin: IBoxModelType = PieChartDefaultValues.margin;\n  @Prop({ mutable: true }) padding: IBoxModelType = PieChartDefaultValues.padding;\n\n  // Data (2/7)\n  @Prop() data: object[];\n  @Prop() uniqueID: string;\n  @Prop({ mutable: true }) ordinalAccessor: string = PieChartDefaultValues.ordinalAccessor;\n  @Prop({ mutable: true }) valueAccessor: string = PieChartDefaultValues.valueAccessor;\n  @Prop({ mutable: true }) sortOrder: string = PieChartDefaultValues.sortOrder;\n\n  // Color & Shape (4/7)\n  @Prop({ mutable: true }) colorPalette: string = PieChartDefaultValues.colorPalette;\n  @Prop({ mutable: true }) colors: string[];\n  @Prop({ mutable: true }) innerRatio: number = PieChartDefaultValues.innerRatio;\n  @Prop({ mutable: true }) showEdgeLine: boolean = PieChartDefaultValues.showEdgeLine;\n  @Prop({ mutable: true }) hoverStyle: IHoverStyleType = PieChartDefaultValues.hoverStyle;\n  @Prop({ mutable: true }) clickStyle: IClickStyleType = PieChartDefaultValues.clickStyle;\n  @Prop({ mutable: true }) referenceStyle: IReferenceStyleType = PieChartDefaultValues.referenceStyle;\n  @Prop({ mutable: true }) cursor: string = PieChartDefaultValues.cursor;\n  @Prop({ mutable: true }) hoverOpacity: number = PieChartDefaultValues.hoverOpacity;\n  @Prop({ mutable: true }) animationConfig: IAnimationConfig = PieChartDefaultValues.animationConfig;\n\n  // Data label (5/7)\n  @Prop({ mutable: true }) showPercentage: boolean = PieChartDefaultValues.showPercentage;\n  @Prop({ mutable: true }) showTooltip: boolean = PieChartDefaultValues.showTooltip;\n  @Prop({ mutable: true }) showLabelNote: boolean = PieChartDefaultValues.showLabelNote;\n  @Prop({ mutable: true }) labelOffset: number = PieChartDefaultValues.labelOffset;\n  @Prop({ mutable: true }) dataLabel: IDataLabelType = PieChartDefaultValues.dataLabel;\n  @Prop({ mutable: true }) dataKeyNames: object;\n  @Prop({ mutable: true }) tooltipLabel: ITooltipLabelType = PieChartDefaultValues.tooltipLabel;\n  @Prop({ mutable: true }) accessibility: IAccessibilityType = PieChartDefaultValues.accessibility;\n  @Prop({ mutable: true }) annotations: object[] = PieChartDefaultValues.annotations;\n\n  // Calculation (6/7)\n  @Prop() referenceData: object[];\n\n  // Interactivity (7/7)\n  @Prop({ mutable: true }) suppressEvents: boolean = PieChartDefaultValues.suppressEvents;\n  @Prop({ mutable: true }) hoverHighlight: object;\n  @Prop({ mutable: true }) clickHighlight: object[] = PieChartDefaultValues.clickHighlight;\n  @Prop({ mutable: true }) interactionKeys: string[];\n\n  // Testing (8/7)\n  @Prop() unitTest: boolean = false;\n  //  @Prop() debugMode: boolean = false;\n\n  @Element()\n  pieChartEl: HTMLElement;\n  shouldValidateAccessibility: boolean = true;\n  shouldValidateLocalization: boolean = true;\n  graphDataMerged: any;\n  preppedData: any;\n  svg: any;\n  root: any;\n  rootG: any;\n  arc: any;\n  edgeG: any;\n  current: any;\n  enter: any;\n  exit: any;\n  enteringLabels: any;\n  exitingLabels: any;\n  updatingLabels: any;\n  enteringRefLabels: any;\n  exitingRefLabels: any;\n  updatingRefLabels: any;\n  enteringLabelsNotes: any;\n  exitingLabelsNotes: any;\n  updatingLabelsNotes: any;\n  enteringRefLabelsNotes: any;\n  exitingRefLabelsNotes: any;\n  updatingRefLabelsNotes: any;\n  enteringEdges: any;\n  exitingEdges: any;\n  updatingEdges: any;\n  update: any;\n  updateRefPie: any;\n  duration: number;\n  defaults: boolean;\n  innerWidth: number;\n  innerHeight: number;\n  innerPaddedHeight: number;\n  innerPaddedWidth: number;\n  radius: number;\n  innerRadius: number;\n  outerRadius: number;\n  pie: any;\n  pieBackground: any;\n  pieG: any;\n  placement: string;\n  refArr: any;\n  edges: any;\n  refEdges: any;\n  pieData: any;\n  colorArr: any;\n  preparedColors: any;\n  refData: any;\n  labelsCurrent: any;\n  labelG: any;\n  tooltipG: any;\n  subTitleG: any;\n  references: any;\n  refLabelG: any;\n  refLabelsCurrent: any;\n  labelsCurrentNotes: any;\n  refLabelsCurrentNotes: any;\n  tableData: any;\n  tableColumns: any;\n  updated: boolean = true;\n  enterSize: number;\n  exitSize: number;\n  chartID: string;\n  innerInteractionKeys: any;\n  shouldValidate: boolean = false;\n  shouldUpdateCenterTitle: boolean = false;\n  shouldUpdateTableData: boolean = false;\n  shouldResetRoot: boolean = false;\n  shouldUpdateLabels: boolean = false;\n  shouldUpdateAnnotations: boolean = false;\n  shouldUpdateData: boolean = false;\n  shouldSetColors: boolean = false;\n  shouldSetSubTitle: boolean = false;\n  shouldUpdateCursor: boolean = false;\n  shouldUpdateGeometries: boolean = false;\n  shouldUpdateEdgeLines: boolean = false;\n  shouldUpdateInnerRatio: boolean = false;\n  shouldUpdateLayout: boolean = false;\n  shouldSetPieRadius: boolean = false;\n  shouldPrepareChartData: boolean = false;\n  shouldUpdateReferenceLines: boolean = false;\n  shouldValidateInteractionKeys: boolean = false;\n  shouldSetGlobalSelections: boolean = false;\n  shouldSetTestingAttributes: boolean = false;\n  shouldEnterUpdateExit: boolean = false;\n  shouldBindInteractivity: boolean = false;\n  shouldSetSelectionClass: boolean = false;\n  shouldDrawInteractionState: boolean = false;\n  shouldSetLabelOpacity: boolean = false;\n  shouldCheckLabelColor: boolean = false;\n  shouldUpdateScales: boolean = false;\n  shouldUpdateDescriptionWrapper: boolean = false;\n  shouldSetChartAccessibilityTitle: boolean = false;\n  shouldSetChartAccessibilitySubtitle: boolean = false;\n  shouldSetChartAccessibilityLongDescription: boolean = false;\n  shouldSetChartAccessibilityExecutiveSummary: boolean = false;\n  shouldSetChartAccessibilityStatisticalNotes: boolean = false;\n  shouldSetChartAccessibilityStructureNotes: boolean = false;\n  shouldSetParentSVGAccessibility: boolean = false;\n  shouldSetGeometryAccessibilityAttributes: boolean = false;\n  shouldSetGeometryAriaLabels: boolean = false;\n  shouldSetGroupAccessibilityAttributes: boolean = false;\n  shouldSetGroupAccessibilityLabel: boolean = false;\n  shouldSetChartAccessibilityPurpose: boolean = false;\n  shouldSetChartAccessibilityContext: boolean = false;\n  shouldRedrawWrapper: boolean = false;\n  shouldSetTagLevels: boolean = false;\n  shouldSetChartAccessibilityCount: boolean = false;\n  shouldSetAnnotationAccessibility: boolean = false;\n  shouldSetTextures: boolean = false;\n  shouldSetStrokes: boolean = false;\n  shouldSetLocalizationConfig: boolean = false;\n  strokes: any = {};\n  topLevel: string = 'h2';\n  bottomLevel: string = 'p';\n  bitmaps: any;\n\n  @Watch('mainTitle')\n  titleWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n    this.shouldUpdateDescriptionWrapper = true;\n    this.shouldSetChartAccessibilityTitle = true;\n    this.shouldSetParentSVGAccessibility = true;\n  }\n\n  @Watch('subTitle')\n  subtitleWatcher(_newVal, _oldVal) {\n    this.shouldSetSubTitle = true;\n    this.shouldSetChartAccessibilitySubtitle = true;\n    this.shouldSetParentSVGAccessibility = true;\n  }\n\n  @Watch('highestHeadingLevel')\n  headingWatcher(_newVal, _oldVal) {\n    this.shouldRedrawWrapper = true;\n    this.shouldSetTagLevels = true;\n    this.shouldSetChartAccessibilityCount = true;\n    this.shouldSetAnnotationAccessibility = true;\n    this.shouldUpdateDescriptionWrapper = true;\n    this.shouldSetSubTitle = true;\n    this.shouldSetChartAccessibilityTitle = true;\n    this.shouldSetChartAccessibilitySubtitle = true;\n    this.shouldSetChartAccessibilityLongDescription = true;\n    this.shouldSetChartAccessibilityContext = true;\n    this.shouldSetChartAccessibilityExecutiveSummary = true;\n    this.shouldSetChartAccessibilityPurpose = true;\n    this.shouldSetChartAccessibilityStatisticalNotes = true;\n    this.shouldSetChartAccessibilityStructureNotes = true;\n  }\n\n  @Watch('centerTitle')\n  @Watch('centerSubTitle')\n  centerTitleWatcher(_newVal, _oldVal) {\n    this.shouldUpdateCenterTitle = true;\n  }\n\n  @Watch('height')\n  @Watch('width')\n  @Watch('padding')\n  @Watch('margin')\n  layoutWatcher(_newVal, _oldVal) {\n    this.shouldUpdateLayout = true;\n    this.shouldUpdateData = true;\n    this.shouldResetRoot = true;\n    this.shouldUpdateGeometries = true;\n    this.shouldUpdateScales = true;\n    this.shouldSetPieRadius = true;\n    this.shouldSetGlobalSelections = true;\n    this.shouldEnterUpdateExit = true;\n    this.shouldUpdateLabels = true;\n    this.shouldUpdateEdgeLines = true;\n    this.shouldUpdateReferenceLines = true;\n    this.shouldUpdateAnnotations = true;\n  }\n\n  @Watch('data')\n  dataWatcher(_newVal, _oldVal) {\n    this.updated = true;\n    this.shouldUpdateData = true;\n    this.shouldSetGlobalSelections = true;\n    this.shouldSetTestingAttributes = true;\n    this.shouldEnterUpdateExit = true;\n    this.shouldDrawInteractionState = true;\n    this.shouldUpdateTableData = true;\n    this.shouldValidate = true;\n    this.shouldUpdateGeometries = true;\n    this.shouldUpdateEdgeLines = true;\n    this.shouldUpdateLabels = true;\n    this.shouldUpdateReferenceLines = true;\n    this.shouldUpdateAnnotations = true;\n    this.shouldSetGeometryAccessibilityAttributes = true;\n    this.shouldSetGeometryAriaLabels = true;\n    this.shouldSetTextures = true;\n    this.shouldSetStrokes = true;\n    this.shouldSetColors = true;\n    this.shouldCheckLabelColor = true;\n  }\n\n  @Watch('uniqueID')\n  idWatcher(newVal, _oldVal) {\n    console.error(\n      'Change detected in prop uniqueID from value ' +\n        _oldVal +\n        ' to value ' +\n        newVal +\n        '. This prop cannot be changed after component has loaded.'\n    );\n    // this.chartID = newVal || 'pie-chart-' + uuid();\n    // this.pieChartEl.id = this.chartID;\n    // this.shouldValidate = true;\n    // this.shouldUpdateDescriptionWrapper = true;\n    // this.shouldSetParentSVGAccessibility = true;\n    // this.shouldSetTextures = true;\n    // this.shouldCheckLabelColor = true;\n    // this.shouldDrawInteractionState = true;\n    // this.shouldSetStrokes = true;\n  }\n\n  @Watch('ordinalAccessor')\n  ordinalAccessorWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n    this.shouldUpdateData = true;\n    this.shouldSetGlobalSelections = true;\n    this.shouldUpdateTableData = true;\n    this.shouldUpdateGeometries = true;\n    this.shouldDrawInteractionState = true;\n    this.shouldUpdateEdgeLines = true;\n    this.shouldUpdateReferenceLines = true;\n    this.shouldSetGeometryAriaLabels = true;\n    this.shouldSetLabelOpacity = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetTextures = true;\n    this.shouldSetStrokes = true;\n    if (!(this.interactionKeys && this.interactionKeys.length)) {\n      this.shouldValidateInteractionKeys = true;\n      this.shouldSetSelectionClass = true;\n    }\n  }\n\n  @Watch('valueAccessor')\n  valueAccessorWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n    this.shouldUpdateData = true;\n    this.shouldUpdateScales = true;\n    this.shouldSetGlobalSelections = true;\n    this.shouldUpdateTableData = true;\n    this.shouldUpdateGeometries = true;\n    this.shouldUpdateEdgeLines = true;\n    this.shouldDrawInteractionState = true;\n    this.shouldSetLabelOpacity = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldUpdateLabels = true;\n    this.shouldUpdateReferenceLines = true;\n    this.shouldUpdateAnnotations = true;\n    this.shouldSetGeometryAriaLabels = true;\n  }\n\n  @Watch('sortOrder')\n  sortWatcher(_newVal, _oldVal) {\n    this.updated = true;\n    this.shouldUpdateData = true;\n    this.shouldSetGlobalSelections = true;\n    this.shouldSetTestingAttributes = true;\n    this.shouldEnterUpdateExit = true;\n    this.shouldDrawInteractionState = true;\n    this.shouldUpdateTableData = true;\n    this.shouldUpdateGeometries = true;\n    this.shouldUpdateEdgeLines = true;\n    this.shouldUpdateLabels = true;\n    this.shouldUpdateReferenceLines = true;\n    this.shouldUpdateAnnotations = true;\n    this.shouldSetGeometryAccessibilityAttributes = true;\n    this.shouldSetGeometryAriaLabels = true;\n  }\n\n  @Watch('colorPalette')\n  paletteWatcher(_newVal, _oldVal) {\n    this.shouldSetColors = true;\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetTextures = true;\n    this.shouldSetStrokes = true;\n  }\n\n  @Watch('colors')\n  colorsWatcher(_newVal, _oldVal) {\n    this.shouldSetColors = true;\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetTextures = true;\n    this.shouldSetStrokes = true;\n  }\n\n  @Watch('innerRatio')\n  innerRatioWatcher(_newVal, _oldVal) {\n    this.shouldSetPieRadius = true;\n    this.shouldUpdateData = true;\n    this.shouldUpdateInnerRatio = true;\n    this.shouldUpdateGeometries = true;\n    this.shouldUpdateEdgeLines = true;\n    this.shouldUpdateReferenceLines = true;\n  }\n\n  @Watch('showEdgeLine')\n  showEdgeLineWatcher(_newVal, _oldVal) {\n    this.shouldUpdateEdgeLines = true;\n  }\n\n  @Watch('referenceStyle')\n  referenceWatcher(_newVal, _oldVal) {\n    this.shouldUpdateReferenceLines = true;\n  }\n\n  @Watch('hoverOpacity')\n  hoverOpacityWatcher(_newVal, _oldVal) {\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetLabelOpacity = true;\n  }\n\n  @Watch('cursor')\n  cursorWatcher(_newVal, _oldVal) {\n    this.shouldUpdateCursor = true;\n  }\n\n  @Watch('showPercentage')\n  showPercentageWatcher(_newVal, _oldVal) {\n    this.shouldUpdateLabels = true;\n    this.shouldSetGeometryAriaLabels = true;\n    this.shouldUpdateTableData = true;\n  }\n\n  @Watch('showTooltip')\n  showTooltipWatcher(_newVal, _oldVal) {\n    this.shouldDrawInteractionState = true;\n  }\n\n  @Watch('tooltipLabel')\n  tooltipLabelWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n    this.shouldUpdateTableData = true;\n    this.shouldSetParentSVGAccessibility = true;\n    this.shouldSetGeometryAriaLabels = true;\n  }\n\n  @Watch('dataLabel')\n  labelWatcher(_newVal, _oldVal) {\n    this.shouldUpdateLabels = true;\n    this.shouldValidate = true;\n    this.shouldUpdateTableData = true;\n    const newPlacementVal = _newVal && _newVal.placement ? _newVal.placement : false;\n    const oldPlacementVal = _oldVal && _oldVal.placement ? _oldVal.placement : false;\n    const newVisibleVal = _newVal && _newVal.visible;\n    const oldVisibleVal = _oldVal && _oldVal.visible;\n    if (newVisibleVal !== oldVisibleVal) {\n      this.shouldSetLabelOpacity = true;\n    }\n    if (newPlacementVal !== oldPlacementVal) {\n      this.shouldSetLabelOpacity = true;\n      this.shouldCheckLabelColor = true;\n    }\n  }\n\n  @Watch('showLabelNote')\n  labelNoteWatcher(_newVal, _oldVal) {\n    this.shouldSetLabelOpacity = true;\n    this.shouldUpdateLabels = true;\n  }\n\n  @Watch('labelOffset')\n  labelOffsetWatcher(_newVal, _oldVal) {\n    this.shouldUpdateLabels = true;\n  }\n\n  @Watch('localization')\n  localizationWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n\n    // language\n    const newLanguage = _newVal && _newVal.language ? _newVal.language : false;\n    const oldLanguage = _oldVal && _oldVal.language ? _oldVal.language : false;\n    if (newLanguage !== oldLanguage) {\n      this.shouldSetLocalizationConfig = true;\n      this.shouldUpdateTableData = true;\n      this.shouldCheckLabelColor = true;\n      this.shouldRedrawWrapper = true;\n      this.shouldUpdateDescriptionWrapper = true;\n      this.shouldSetChartAccessibilityCount = true;\n      this.shouldUpdateDescriptionWrapper = true;\n      this.shouldSetGeometryAriaLabels = true;\n      this.shouldSetParentSVGAccessibility = true;\n    }\n\n    // numeralLocale\n    const newNumeralLocale = _newVal && _newVal.numeralLocale ? _newVal.numeralLocale : false;\n    const oldNumeralLocale = _oldVal && _oldVal.numeralLocale ? _oldVal.numeralLocale : false;\n    if (newNumeralLocale !== oldNumeralLocale) {\n      this.shouldSetLocalizationConfig = true;\n      this.shouldUpdateTableData = true;\n      this.shouldCheckLabelColor = true;\n      this.shouldRedrawWrapper = true;\n      this.shouldUpdateDescriptionWrapper = true;\n      this.shouldSetChartAccessibilityCount = true;\n      this.shouldUpdateDescriptionWrapper = true;\n      this.shouldSetGeometryAriaLabels = true;\n      this.shouldSetParentSVGAccessibility = true;\n    }\n  }\n\n  @Watch('accessibility')\n  accessibilityWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n    const newTitle = _newVal && _newVal.title ? _newVal.title : false;\n    const oldTitle = _oldVal && _oldVal.title ? _oldVal.title : false;\n    if (newTitle !== oldTitle) {\n      this.shouldUpdateDescriptionWrapper = true;\n      this.shouldSetChartAccessibilityTitle = true;\n      this.shouldSetParentSVGAccessibility = true;\n    }\n    const newExecutiveSummary = _newVal && _newVal.executiveSummary ? _newVal.executiveSummary : false;\n    const oldExecutiveSummary = _oldVal && _oldVal.executiveSummary ? _oldVal.executiveSummary : false;\n    if (newExecutiveSummary !== oldExecutiveSummary) {\n      this.shouldSetChartAccessibilityExecutiveSummary = true;\n    }\n    const newPurpose = _newVal && _newVal.purpose ? _newVal.purpose : false;\n    const oldPurpose = _oldVal && _oldVal.purpose ? _oldVal.purpose : false;\n    if (newPurpose !== oldPurpose) {\n      this.shouldSetChartAccessibilityPurpose = true;\n    }\n    const newLongDescription = _newVal && _newVal.longDescription ? _newVal.longDescription : false;\n    const oldLongDescription = _oldVal && _oldVal.longDescription ? _oldVal.longDescription : false;\n    if (newLongDescription !== oldLongDescription) {\n      this.shouldSetChartAccessibilityLongDescription = true;\n    }\n    const newContext = _newVal && _newVal.contextExplanation ? _newVal.contextExplanation : false;\n    const oldContext = _oldVal && _oldVal.contextExplanation ? _oldVal.contextExplanation : false;\n    if (newContext !== oldContext) {\n      this.shouldSetChartAccessibilityContext = true;\n    }\n    const newStatisticalNotes = _newVal && _newVal.statisticalNotes ? _newVal.statisticalNotes : false;\n    const oldStatisticalNotes = _oldVal && _oldVal.statisticalNotes ? _oldVal.statisticalNotes : false;\n    if (newStatisticalNotes !== oldStatisticalNotes) {\n      this.shouldSetChartAccessibilityStatisticalNotes = true;\n    }\n    const newStructureNotes = _newVal && _newVal.structureNotes ? _newVal.structureNotes : false;\n    const oldStructureNotes = _oldVal && _oldVal.structureNotes ? _oldVal.structureNotes : false;\n    if (newStructureNotes !== oldStructureNotes) {\n      this.shouldSetChartAccessibilityStructureNotes = true;\n    }\n    const newincludeDataKeyNames = _newVal && _newVal.includeDataKeyNames;\n    const oldincludeDataKeyNames = _oldVal && _oldVal.includeDataKeyNames;\n    const newElementDescriptionAccessor =\n      _newVal && _newVal.elementDescriptionAccessor ? _newVal.elementDescriptionAccessor : false;\n    const oldElementDescriptionAccessor =\n      _oldVal && _oldVal.elementDescriptionAccessor ? _oldVal.elementDescriptionAccessor : false;\n    if (\n      newincludeDataKeyNames !== oldincludeDataKeyNames ||\n      newElementDescriptionAccessor !== oldElementDescriptionAccessor\n    ) {\n      if (newincludeDataKeyNames !== oldincludeDataKeyNames) {\n        // this one is tricky because it needs to run after the lifecycle\n        // AND it could run in the off-chance this prop is changed\n        this.shouldSetGroupAccessibilityLabel = true;\n      }\n      this.shouldSetGeometryAriaLabels = true;\n      this.shouldSetParentSVGAccessibility = true;\n    }\n    const newTextures = _newVal && _newVal.hideTextures ? _newVal.hideTextures : false;\n    const oldTextures = _oldVal && _oldVal.hideTextures ? _oldVal.hideTextures : false;\n    if (newTextures !== oldTextures) {\n      this.shouldSetTextures = true;\n      this.shouldDrawInteractionState = true;\n    }\n    const newSmallValue = _newVal && _newVal.showSmallLabels ? _newVal.showSmallLabels : false;\n    const oldSmallValue = _oldVal && _oldVal.showSmallLabels ? _oldVal.showSmallLabels : false;\n    if (newSmallValue !== oldSmallValue) {\n      this.shouldSetLabelOpacity = true;\n    }\n    const newStrokes = _newVal && _newVal.hideStrokes ? _newVal.hideStrokes : false;\n    const oldStrokes = _oldVal && _oldVal.hideStrokes ? _oldVal.hideStrokes : false;\n    if (newStrokes !== oldStrokes) {\n      this.shouldSetStrokes = true;\n      this.shouldDrawInteractionState = true;\n    }\n    const newKeyNav =\n      _newVal && _newVal.keyboardNavConfig && _newVal.keyboardNavConfig.disabled\n        ? _newVal.keyboardNavConfig.disabled\n        : false;\n    const oldKeyNav =\n      _oldVal && _oldVal.keyboardNavConfig && _oldVal.keyboardNavConfig.disabled\n        ? _oldVal.keyboardNavConfig.disabled\n        : false;\n    const newInterface = _newVal && _newVal.elementsAreInterface ? _newVal.elementsAreInterface : false;\n    const oldInterface = _oldVal && _oldVal.elementsAreInterface ? _oldVal.elementsAreInterface : false;\n    if (newKeyNav !== oldKeyNav || newInterface !== oldInterface) {\n      this.shouldSetGeometryAriaLabels = true;\n      this.shouldSetParentSVGAccessibility = true;\n      this.shouldUpdateDescriptionWrapper = true;\n      this.shouldRedrawWrapper = true;\n      this.shouldSetChartAccessibilityTitle = true;\n      this.shouldSetChartAccessibilitySubtitle = true;\n      this.shouldSetChartAccessibilityLongDescription = true;\n      this.shouldSetChartAccessibilityContext = true;\n      this.shouldSetChartAccessibilityExecutiveSummary = true;\n      this.shouldSetChartAccessibilityPurpose = true;\n      this.shouldSetChartAccessibilityStatisticalNotes = true;\n      this.shouldSetChartAccessibilityStructureNotes = true;\n    }\n    if (newInterface !== oldInterface) {\n      this.shouldSetSelectionClass = true;\n    }\n  }\n\n  @Watch('annotations')\n  annotationsWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n    this.shouldUpdateAnnotations = true;\n    this.shouldSetAnnotationAccessibility = true;\n  }\n\n  @Watch('referenceData')\n  referenceDataWatcher(_newVal, _oldVal) {\n    this.shouldValidate = true;\n    this.shouldUpdateReferenceLines = true;\n    this.shouldUpdateTableData = true;\n    this.shouldSetAnnotationAccessibility = true;\n  }\n\n  @Watch('suppressEvents')\n  suppressWatcher(_newVal, _oldVal) {\n    this.shouldBindInteractivity = true;\n    this.shouldUpdateCursor = true;\n    this.shouldSetGeometryAriaLabels = true;\n    this.shouldSetParentSVGAccessibility = true;\n    this.shouldUpdateDescriptionWrapper = true;\n    this.shouldRedrawWrapper = true;\n    this.shouldValidate = true;\n    this.shouldSetSubTitle = true;\n    this.shouldSetChartAccessibilityTitle = true;\n    this.shouldSetChartAccessibilitySubtitle = true;\n    this.shouldSetChartAccessibilityLongDescription = true;\n    this.shouldSetChartAccessibilityContext = true;\n    this.shouldSetChartAccessibilityExecutiveSummary = true;\n    this.shouldSetChartAccessibilityPurpose = true;\n    this.shouldSetChartAccessibilityStatisticalNotes = true;\n    this.shouldSetChartAccessibilityStructureNotes = true;\n  }\n\n  @Watch('clickStyle')\n  clickStyleWatcher(_newVal, _oldVal) {\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetLabelOpacity = true;\n    this.shouldSetStrokes = true;\n  }\n  @Watch('hoverStyle')\n  hoverStyleWatcher(_newVal, _oldVal) {\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetLabelOpacity = true;\n    this.shouldSetStrokes = true;\n  }\n\n  @Watch('clickHighlight')\n  clickWatcher(_newVal, _oldVal) {\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetLabelOpacity = true;\n    this.shouldSetSelectionClass = true;\n  }\n\n  @Watch('hoverHighlight')\n  hoverWatcher(_newVal, _oldVal) {\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetLabelOpacity = true;\n  }\n\n  @Watch('interactionKeys')\n  interactionWatcher(_newVal, _oldVal) {\n    this.shouldValidateInteractionKeys = true;\n    this.shouldDrawInteractionState = true;\n    this.shouldCheckLabelColor = true;\n    this.shouldSetLabelOpacity = true;\n    this.shouldSetSelectionClass = true;\n    this.shouldSetGeometryAriaLabels = true;\n    this.shouldUpdateTableData = true;\n  }\n\n  @Watch('dataKeyNames')\n  dataKeyNamesWatcher(_newVal, _oldVal) {\n    this.shouldSetParentSVGAccessibility = true;\n    this.shouldSetGroupAccessibilityLabel = true;\n    this.shouldSetGeometryAriaLabels = true;\n    this.shouldUpdateTableData = true;\n  }\n\n  @Watch('unitTest')\n  unitTestWatcher(_newVal, _oldVal) {\n    this.shouldSetTestingAttributes = true;\n  }\n\n  componentWillLoad() {\n    const chartID = this.uniqueID || 'pie-chart-' + uuid();\n    this.initialLoadEvent.emit({ chartID: chartID });\n    // contrary to componentWillUpdate, this method appears safe to use for\n    // any calculations we need. Keeping them here reduces future refactor,\n    // since componentWillUpdate should eventually mirror this method\n    return new Promise(resolve => {\n      this.duration = 0;\n      this.chartID = chartID;\n      this.pieChartEl.id = this.chartID;\n      this.setLocalizationConfig();\n      this.setTagLevels();\n      this.prepareScales();\n      this.prepareData();\n      this.setLayoutData();\n      this.setPieRadius();\n      this.validateInteractionKeys();\n      this.setTableData();\n      this.shouldValidateAccessibilityProps();\n      this.shouldValidateLocalizationProps();\n      this.setColors();\n      resolve('component will load');\n    });\n  }\n\n  componentWillUpdate() {\n    // NEVER put items in this method (until stencil bug is resolved)\n    // All items that belong here are currently at the top of componentDidUpdate\n    // see: https://github.com/ionic-team/stencil/issues/2061#issuecomment-578282178\n    return new Promise(resolve => {\n      resolve('component will update');\n    });\n  }\n\n  componentDidLoad() {\n    return new Promise(resolve => {\n      this.defaults = true;\n      this.shouldValidateAccessibilityProps();\n      this.shouldValidateLocalizationProps();\n      this.renderRootElements();\n      this.setTooltipInitialStyle();\n      this.setChartDescriptionWrapper();\n      this.setChartAccessibilityTitle();\n      this.setChartAccessibilitySubtitle();\n      this.setChartAccessibilityLongDescription();\n      this.setChartAccessibilityExecutiveSummary();\n      this.setChartAccessibilityPurpose();\n      this.setChartAccessibilityContext();\n      this.setChartAccessibilityStatisticalNotes();\n      this.setChartAccessibilityStructureNotes();\n      this.setParentSVGAccessibility();\n      this.reSetRoot();\n      this.setTextures();\n      this.setStrokes();\n      this.setSubTitleElements();\n      this.setGlobalSelections();\n      this.setTestingAttributes();\n      this.setColors();\n      this.setInnerRatio();\n      this.enterGeometries();\n      this.updateGeometries();\n      this.exitGeometries();\n      this.enterLabels('Labels');\n      this.updateLabels('Labels');\n      this.exitLabels('Labels');\n      this.enterEdgeLine();\n      this.updateEdgeLine('Edges');\n      this.exitEdgeLine();\n      this.enterLabels('RefLabels');\n      this.updateLabels('RefLabels');\n      this.exitLabels('RefLabels');\n      this.drawGeometries();\n      this.drawEdgeLine();\n      this.drawReferenceLines();\n      this.drawCenterTitle();\n      this.drawDataLabels('Labels');\n      this.drawDataLabels('RefLabels');\n      this.setChartCountAccessibility();\n      this.setGeometryAccessibilityAttributes();\n      this.setGeometryAriaLabels();\n      this.setSelectedClass();\n      // this.updateInteractionState();\n      // this.setLabelOpacity();\n      // this.checkLabelColorAgainstBackground();\n      this.updateCursor();\n      this.bindInteractivity();\n      this.drawAnnotations();\n      this.setAnnotationAccessibility();\n      this.onChangeHandler();\n      hideNonessentialGroups(this.root.node(), this.pieG.node());\n      this.setGroupAccessibilityAttributes();\n      this.setGroupAccessibilityID();\n      this.defaults = false;\n      resolve('component did load');\n    }).then(() => this.initialLoadEndEvent.emit({ chartID: this.chartID }));\n  }\n\n  componentDidUpdate() {\n    return new Promise(resolve => {\n      this.duration = !this.animationConfig || !this.animationConfig.disabled ? 750 : 0;\n      if (this.shouldUpdateDescriptionWrapper) {\n        this.setChartDescriptionWrapper();\n        this.shouldUpdateDescriptionWrapper = false;\n      }\n      if (this.shouldSetChartAccessibilityCount) {\n        this.setChartCountAccessibility();\n        this.shouldSetChartAccessibilityCount = false;\n      }\n      if (this.shouldSetChartAccessibilityTitle) {\n        this.setChartAccessibilityTitle();\n        this.shouldSetChartAccessibilityTitle = false;\n      }\n      if (this.shouldSetChartAccessibilitySubtitle) {\n        this.setChartAccessibilitySubtitle();\n        this.shouldSetChartAccessibilitySubtitle = false;\n      }\n      if (this.shouldSetChartAccessibilityLongDescription) {\n        this.setChartAccessibilityLongDescription();\n        this.shouldSetChartAccessibilityLongDescription = false;\n      }\n      if (this.shouldSetChartAccessibilityExecutiveSummary) {\n        this.setChartAccessibilityExecutiveSummary();\n        this.shouldSetChartAccessibilityExecutiveSummary = false;\n      }\n      if (this.shouldSetChartAccessibilityPurpose) {\n        this.setChartAccessibilityPurpose();\n        this.shouldSetChartAccessibilityPurpose = false;\n      }\n      if (this.shouldSetChartAccessibilityContext) {\n        this.setChartAccessibilityContext();\n        this.shouldSetChartAccessibilityContext = false;\n      }\n      if (this.shouldSetChartAccessibilityStatisticalNotes) {\n        this.setChartAccessibilityStatisticalNotes();\n        this.shouldSetChartAccessibilityStatisticalNotes = false;\n      }\n      if (this.shouldSetChartAccessibilityStructureNotes) {\n        this.setChartAccessibilityStructureNotes();\n        this.shouldSetChartAccessibilityStructureNotes = false;\n      }\n      if (this.shouldSetParentSVGAccessibility) {\n        this.setParentSVGAccessibility();\n        this.shouldSetParentSVGAccessibility = false;\n      }\n      if (this.shouldResetRoot) {\n        this.reSetRoot();\n        this.shouldResetRoot = false;\n      }\n      if (this.shouldSetTextures) {\n        this.setTextures();\n        this.shouldSetTextures = false;\n      }\n      if (this.shouldSetStrokes) {\n        this.setStrokes();\n        this.shouldSetStrokes = false;\n      }\n      if (this.shouldSetGlobalSelections) {\n        this.setGlobalSelections();\n        this.shouldSetGlobalSelections = false;\n      }\n      if (this.shouldSetTestingAttributes) {\n        this.setTestingAttributes();\n        this.shouldSetTestingAttributes = false;\n      }\n      if (this.shouldSetSubTitle) {\n        this.setSubTitleElements();\n        this.shouldSetSubTitle = false;\n      }\n      if (this.shouldEnterUpdateExit) {\n        this.enterGeometries();\n        this.updateGeometries();\n        this.exitGeometries();\n        this.enterEdgeLine();\n        this.updateEdgeLine('Edges');\n        this.exitEdgeLine();\n        this.enterLabels('Labels');\n        this.updateLabels('Labels');\n        this.exitLabels('Labels');\n        this.enterLabels('RefLabels');\n        this.updateLabels('RefLabels');\n        this.exitLabels('RefLabels');\n        this.shouldEnterUpdateExit = false;\n      }\n      if (this.shouldUpdateReferenceLines) {\n        this.drawReferenceLines();\n        this.shouldUpdateReferenceLines = false;\n      }\n      if (this.shouldUpdateGeometries) {\n        this.drawGeometries();\n        this.shouldUpdateGeometries = false;\n      }\n      if (this.shouldUpdateEdgeLines) {\n        this.updateEdgeLine('Edges');\n        this.drawEdgeLine();\n        this.shouldUpdateEdgeLines = false;\n      }\n      if (this.shouldUpdateCenterTitle) {\n        this.drawCenterTitle();\n        this.shouldUpdateCenterTitle = false;\n      }\n      if (this.shouldUpdateLabels) {\n        this.drawDataLabels('Labels');\n        this.drawDataLabels('RefLabels');\n        this.shouldUpdateLabels = false;\n      }\n      if (this.shouldSetGeometryAccessibilityAttributes) {\n        this.setGeometryAccessibilityAttributes();\n        this.shouldSetGeometryAccessibilityAttributes = false;\n      }\n      if (this.shouldSetGeometryAriaLabels) {\n        this.setGeometryAriaLabels();\n        this.shouldSetGeometryAriaLabels = false;\n      }\n      if (this.shouldSetGroupAccessibilityLabel) {\n        this.setGroupAccessibilityID();\n        this.shouldSetGroupAccessibilityLabel = false;\n      }\n      if (this.shouldDrawInteractionState) {\n        this.updateInteractionState();\n        this.shouldDrawInteractionState = false;\n      }\n      if (this.shouldSetLabelOpacity) {\n        this.setLabelOpacity();\n        this.shouldSetLabelOpacity = false;\n      }\n      if (this.shouldCheckLabelColor) {\n        this.checkLabelColorAgainstBackground('Labels');\n        this.checkLabelColorAgainstBackground('RefLabels');\n        this.shouldCheckLabelColor = false;\n      }\n      if (this.shouldSetSelectionClass) {\n        this.setSelectedClass();\n        this.shouldSetSelectionClass = false;\n      }\n      if (this.shouldUpdateCursor) {\n        this.updateCursor();\n        this.shouldUpdateCursor = false;\n      }\n      if (this.shouldBindInteractivity) {\n        this.bindInteractivity();\n        this.shouldBindInteractivity = false;\n      }\n      if (this.shouldUpdateAnnotations) {\n        this.drawAnnotations();\n        this.shouldUpdateAnnotations = false;\n      }\n      if (this.shouldSetAnnotationAccessibility) {\n        this.setAnnotationAccessibility();\n        this.shouldSetAnnotationAccessibility = false;\n      }\n      this.onChangeHandler();\n      resolve('component did update');\n    }).then(() => this.drawEndEvent.emit({ chartID: this.chartID }));\n  }\n\n  shouldValidateLocalizationProps() {\n    const windowInstances = getGlobalInstances();\n    const languageString = windowInstances.i18Next.language;\n    const languageObject = windowInstances.i18Next.getResourceBundle(languageString);\n    const numeralObject = windowInstances.numeral.localeData();\n    if (this.shouldValidateLocalization && !this.localization.skipValidation) {\n      this.shouldValidateLocalization = false;\n      validateLocalizationProps(this.chartID, {\n        ...this.localization,\n        language: languageObject,\n        numeralLocale: numeralObject\n      });\n    }\n  }\n\n  shouldValidateAccessibilityProps() {\n    if (this.shouldValidateAccessibility && !this.accessibility.disableValidation) {\n      this.shouldValidateAccessibility = false;\n      const NORMALIZED = 'normalized';\n      validateAccessibilityProps(this.chartID, this.accessibility, {\n        annotations: this.annotations,\n        data: this.data,\n        uniqueID: this.uniqueID,\n        context: {\n          mainTitle: this.mainTitle,\n          onClickEvent: this.suppressEvents ? undefined : this.clickEvent.emit,\n          tooltipLabel: this.tooltipLabel,\n          dataLabel: this.dataLabel,\n          valueAccessor: this.valueAccessor\n        },\n        misc: {\n          normalized: this.hasOwnProperty(NORMALIZED) ? this[NORMALIZED] : false\n        }\n      });\n    }\n  }\n\n  validateInteractionKeys() {\n    this.innerInteractionKeys =\n      // this.interactionKeys ? '' : (this.interactionKeys = [this.ordinalAccessor]);\n      this.interactionKeys && this.interactionKeys.length ? this.interactionKeys : [this.ordinalAccessor];\n  }\n\n  getLanguageString() {\n    return getActiveLanguageString(this.localization);\n  }\n\n  setLocalizationConfig() {\n    configLocalization(this.localization);\n  }\n\n  setLayoutData() {\n    this.padding = typeof this.padding === 'string' ? getPadding(this.padding) : this.padding;\n\n    this.innerHeight = this.height - this.margin.top - this.margin.bottom;\n    this.innerWidth = this.width - this.margin.left - this.margin.right;\n\n    this.innerPaddedHeight = this.innerHeight - this.padding.top - this.padding.bottom;\n    this.innerPaddedWidth = this.innerWidth - this.padding.left - this.padding.right;\n  }\n\n  setPieRadius() {\n    this.radius = Math.min(this.innerPaddedWidth, this.innerPaddedHeight) / 2;\n\n    // this.pieData.forEach(d => {\n    //   this.innerRadius = this.radius * this.innerRatio;\n    //   this.outerRadius = this.radius;\n    // });\n\n    this.innerRadius = this.radius * this.innerRatio;\n    this.outerRadius = this.radius;\n  }\n\n  prepareData() {\n    if (this.data) {\n      if (this.sortOrder === 'asc') {\n        this.preppedData = [...this.data].sort((a, b) => Number(a[this.valueAccessor]) - Number(b[this.valueAccessor]));\n      } else if (this.sortOrder === 'desc') {\n        this.preppedData = [...this.data].sort((a, b) => Number(b[this.valueAccessor]) - Number(a[this.valueAccessor]));\n      } else {\n        this.preppedData = this.data;\n      }\n      let dataSum = 0;\n      this.preppedData.map(d => {\n        d[this.valueAccessor] = parseFloat(d[this.valueAccessor]);\n        dataSum += d[this.valueAccessor];\n        d.getSum = () => dataSum; // sum(this.preppedData, d => parseFloat(d[this.valueAccessor]));\n        // d['rowSum'] = sum(this.preppedData, d => parseFloat(d[this.valueAccessor]));\n      });\n    }\n\n    this.refArr = [];\n    if (this.referenceData && this.referenceData.length) {\n      let dataTotal = 0;\n      this.preppedData.map(k => (dataTotal += k[this.valueAccessor]));\n      this.referenceData.forEach(d => {\n        const refPrep = [];\n        refPrep.push(d);\n        refPrep.push({\n          [this.ordinalAccessor]: '',\n          [this.valueAccessor]: dataTotal - d[this.valueAccessor]\n        });\n        const refPie = this.pie(refPrep);\n        this.refArr.push({ ...refPie[0] });\n      });\n    }\n\n    this.pieData = this.pie(this.preppedData);\n    this.refData = this.refArr;\n  }\n\n  prepareScales() {\n    this.pie = pie()\n      .value(data => {\n        return data[this.valueAccessor];\n      })\n      .sort((_a, _b) => null);\n\n    this.arc = arc();\n  }\n\n  setTableData() {\n    // generate scoped and formatted data for data-table component\n    const keys = scopeDataKeys(this, chartAccessors, 'pie-chart');\n    if (this.showPercentage) {\n      const label =\n        this.dataKeyNames && (this.dataKeyNames[`${this.valueAccessor}`] || this.dataKeyNames[`${this.valueAccessor}%`])\n          ? this.dataKeyNames[`${this.valueAccessor}%`] || this.dataKeyNames[`${this.valueAccessor}`] + ' (%)'\n          : `${this.valueAccessor}%`;\n      keys[label] = '0[.][0][0]%';\n      this.preppedData.forEach(i => {\n        i[label] = i[`${this.valueAccessor}`] / i.getSum();\n      });\n    }\n    this.tableData = getScopedData(this.preppedData, keys);\n    this.tableColumns = Object.keys(keys);\n  }\n\n  setSubTitleElements() {\n    setSubTitle({\n      root: this.subTitleG,\n      subTitle: this.subTitle\n    });\n  }\n\n  setColors() {\n    const colorFromProps =\n      this.colors && this.colors.length\n        ? convertVisaColor(this.colors)\n        : getColors(this.colorPalette, this.preppedData.length - 1);\n    if (!this.colors || !this.colors.length) {\n      colorFromProps.push(visaColors.base_grey);\n    }\n    this.preparedColors = colorFromProps;\n  }\n\n  setTextures() {\n    const colorsArray = this.preparedColors.range ? this.preparedColors.range() : this.preparedColors;\n    if (this.accessibility.hideTextures || colorsArray.length > 6) {\n      this.colorArr = this.preparedColors;\n    } else {\n      const textures = convertColorsToTextures({\n        colors: colorsArray,\n        rootSVG: this.svg.node(),\n        id: this.chartID,\n        scheme: 'categorical',\n        disableTransitions: !this.duration\n      });\n      this.colorArr = this.preparedColors.range ? this.preparedColors.copy().range(textures) : textures;\n    }\n  }\n\n  setStrokes() {\n    this.strokes = buildStrokes({\n      root: this.svg.node(),\n      id: this.chartID,\n      colors: this.preparedColors.range ? this.preparedColors.range() : this.preparedColors,\n      clickStyle: this.clickStyle,\n      hoverStyle: this.hoverStyle,\n      stacked: true\n    });\n  }\n\n  setInnerRatio() {\n    this.innerRatio = this.innerRatio === 0 || this.innerRatio ? this.innerRatio : PieChartDefaultValues.innerRatio;\n  }\n\n  setTestingAttributes() {\n    if (this.unitTest) {\n      select(this.pieChartEl)\n        .select('.visa-viz-d3-pie-container')\n        .attr('data-testid', 'chart-container');\n      select(this.pieChartEl)\n        .select('.pie-main-title')\n        .attr('data-testid', 'main-title');\n      select(this.pieChartEl)\n        .select('.pie-sub-title')\n        .attr('data-testid', 'sub-title');\n      this.svg.attr('data-testid', 'root-svg');\n      this.root.attr('data-testid', 'margin-container');\n      this.rootG.attr('data-testid', 'padding-container');\n      // this.legendG.attr('data-testid', 'legend-container'); // pie does not have a legend yet?\n      this.tooltipG.attr('data-testid', 'tooltip-container');\n      this.pieG.attr('data-testid', 'pie-group');\n      this.labelG.attr('data-testid', 'dataLabel-group');\n      this.refLabelG.attr('data-testid', 'refDataLabel-group');\n      this.edgeG.attr('data-testid', 'edgeLine-group');\n      this.rootG.select('.pie-center-title-group').attr('data-testid', 'centerTitle-group');\n      this.svg.select('defs').attr('data-testid', 'pattern-defs');\n\n      this.updatingLabels.attr('data-testid', 'dataLabel').attr('data-id', d => `label-${d[this.ordinalAccessor]}`);\n      this.updatingLabelsNotes\n        .attr('data-testid', 'dataLabel-note')\n        .attr('data-id', d => `label-note-${d[this.ordinalAccessor]}`);\n      this.updatingEdges\n        .attr('data-testid', 'pie-edge-line')\n        .attr('data-id', d => `pie-edge-line-${d[this.ordinalAccessor]}`);\n      this.update.attr('data-testid', 'pie').attr('data-id', d => `pie-${d[this.ordinalAccessor]}`);\n\n      // reference lines do not have global selections\n      this.references.selectAll('.arc-ref').attr('data-testid', 'reference-arc-line');\n      this.updatingRefLabels\n        .attr('data-testid', 'refDataLabel')\n        .attr('data-id', d => `ref-label-${d[this.ordinalAccessor]}`);\n      this.updatingRefLabelsNotes\n        .attr('data-testid', 'refDataLabel-note')\n        .attr('data-id', d => `ref-label-note-${d[this.ordinalAccessor]}`);\n    } else {\n      select(this.pieChartEl)\n        .select('.visa-viz-d3-pie-container')\n        .attr('data-testid', null);\n      select(this.pieChartEl)\n        .select('.pie-main-title')\n        .attr('data-testid', null);\n      select(this.pieChartEl)\n        .select('.pie-sub-title')\n        .attr('data-testid', null);\n      this.svg.attr('data-testid', null);\n      this.root.attr('data-testid', null);\n      this.rootG.attr('data-testid', null);\n      // this.legendG.attr('data-testid', null); //  pie does not have a legend yet?\n      this.tooltipG.attr('data-testid', null);\n      this.pieG.attr('data-testid', null);\n      this.labelG.attr('data-testid', null);\n      this.refLabelG.attr('data-testid', null);\n      this.edgeG.attr('data-testid', null);\n      this.rootG.select('.pie-center-title-group').attr('data-testid', null);\n      this.svg.select('defs').attr('data-testid', null);\n\n      this.updatingLabels.attr('data-testid', null).attr('data-id', null);\n      this.updatingLabelsNotes.attr('data-testid', null).attr('data-id', null);\n      this.updatingEdges.attr('data-testid', null).attr('data-id', null);\n      this.update.attr('data-testid', null).attr('data-id', null);\n\n      // reference lines do not have global selections\n      this.references.selectAll('.arc-ref').attr('data-testid', null);\n      this.updatingRefLabels.attr('data-testid', null).attr('data-id', null);\n      this.updatingRefLabelsNotes.attr('data-testid', null).attr('data-id', null);\n    }\n  }\n\n  renderRootElements() {\n    this.svg = select(this.pieChartEl)\n      .select('.visa-viz-d3-pie-container')\n      .append('svg')\n      .style('isolation', 'isolate')\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('viewBox', '0 0 ' + this.width + ' ' + this.height);\n\n    this.root = this.svg.append('g').attr('id', 'visa-viz-margin-container-g-' + this.chartID);\n\n    this.rootG = this.root.append('g').attr('id', 'visa-viz-padding-container-g-' + this.chartID);\n\n    this.pieG = this.rootG.append('g').attr('class', 'pie-group');\n\n    this.labelG = this.rootG.append('g').attr('class', 'pie-dataLabel-group');\n\n    this.refLabelG = this.rootG.append('g').attr('class', 'pie-dataLabel-group');\n\n    this.edgeG = this.rootG.append('g').attr('class', 'pie-edge-line-group');\n\n    this.subTitleG = select(this.pieChartEl).select('.pie-sub-title');\n\n    this.tooltipG = select(this.pieChartEl).select('.pie-tooltip');\n\n    this.references = this.rootG.append('g').attr('class', 'pie-reference-line-group');\n  }\n\n  reSetRoot() {\n    const changeSvg = prepareRenderChange({\n      selection: this.svg,\n      duration: this.duration,\n      namespace: 'root_reset',\n      easing: easeCircleIn\n    });\n\n    changeSvg\n      .attr('width', this.width)\n      .attr('height', this.height)\n      .attr('viewBox', '0 0 ' + this.width + ' ' + this.height);\n\n    const changeRoot = prepareRenderChange({\n      selection: this.root,\n      duration: this.duration,\n      namespace: 'root_reset',\n      easing: easeCircleIn\n    });\n\n    changeRoot.attr('transform', `translate(${this.margin.left}, ${this.margin.top})`);\n\n    const changeRootG = prepareRenderChange({\n      selection: this.rootG,\n      duration: this.duration,\n      namespace: 'root_reset',\n      easing: easeCircleIn\n    });\n\n    changeRootG.attr('transform', `translate(${this.padding.left + this.radius}, ${this.padding.top + this.radius})`);\n\n    setAccessibilityDescriptionWidth(this.chartID, this.width);\n  }\n\n  setGlobalSelections() {\n    const dataBoundToGeometries = this.pieG.selectAll('.arc').data(this.pieData, d => {\n      d[this.ordinalAccessor] = d.data[this.ordinalAccessor];\n      return d[this.ordinalAccessor];\n    });\n\n    this.enter = dataBoundToGeometries.enter().append('path');\n    this.exit = dataBoundToGeometries.exit();\n    this.update = dataBoundToGeometries.merge(this.enter);\n\n    this.exitSize = this.exit.size();\n    this.enterSize = this.enter.size();\n\n    const dataBoundToLabels = this.labelG.selectAll('.pie-dataLabel-highlight').data(this.pieData);\n    this.enteringLabels = dataBoundToLabels.enter().append('text');\n    this.exitingLabels = dataBoundToLabels.exit();\n    this.updatingLabels = dataBoundToLabels.merge(this.enteringLabels);\n\n    const dataBoundToLabelsNotes = this.labelG.selectAll('.pie-dataLabel-note').data(this.pieData);\n    this.enteringLabelsNotes = dataBoundToLabelsNotes.enter().append('text');\n    this.exitingLabelsNotes = dataBoundToLabelsNotes.exit();\n    this.updatingLabelsNotes = dataBoundToLabelsNotes.merge(this.enteringLabelsNotes);\n\n    const dataBoundToRefLabels = this.refLabelG.selectAll('.pie-dataLabel-highlight').data(this.refData);\n    this.enteringRefLabels = dataBoundToRefLabels.enter().append('text');\n    this.exitingRefLabels = dataBoundToRefLabels.exit();\n    this.updatingRefLabels = dataBoundToRefLabels.merge(this.enteringRefLabels);\n\n    const dataBoundToRefLabelsNotes = this.refLabelG.selectAll('.pie-dataLabel-note').data(this.refData);\n    this.enteringRefLabelsNotes = dataBoundToRefLabelsNotes.enter().append('text');\n    this.exitingRefLabelsNotes = dataBoundToRefLabelsNotes.exit();\n    this.updatingRefLabelsNotes = dataBoundToRefLabelsNotes.merge(this.enteringRefLabelsNotes);\n\n    const dataBoundToEdges = this.edgeG.selectAll('.edge-line').data(this.pieData);\n    this.enteringEdges = dataBoundToEdges.enter().append('path');\n    this.exitingEdges = dataBoundToEdges.exit();\n    this.updatingEdges = dataBoundToEdges.merge(this.enteringEdges);\n  }\n\n  updateInteractionState() {\n    removeHoverStrokes(this.svg.node());\n    // we created an \"opacity\" transition namespace in update's transition\n    // we override it here to instantly display opacity state (below)\n\n    // we use this.update and this.labelCurrent from setGlobalSelection here\n    // the lifecycle state does not matter (enter/update/exit)\n    // since interaction state can happen at any time\n    this.update\n      .attr('opacity', d =>\n        checkInteraction(\n          d.data,\n          1,\n          this.hoverOpacity,\n          this.hoverHighlight,\n          this.clickHighlight,\n          this.innerInteractionKeys\n        )\n      )\n      .attr('fill', (d, i) => {\n        return this.clickHighlight &&\n          this.clickHighlight.length > 0 &&\n          checkClicked(d.data, this.clickHighlight, this.innerInteractionKeys) &&\n          this.clickStyle.color\n          ? visaColors[this.clickStyle.color] || this.clickStyle.color\n          : this.hoverHighlight &&\n            checkHovered(d.data, this.hoverHighlight, this.innerInteractionKeys) &&\n            this.hoverStyle.color\n          ? visaColors[this.hoverStyle.color] || this.hoverStyle.color\n          : this.preppedData.length === 2 && i === 1\n          ? this.preparedColors[i]\n          : this.colorArr[i] || this.colorArr[0];\n      })\n      .attr('filter', (d, i, n) => {\n        if (!this.accessibility.hideStrokes && !select(n[i]).classed('geometryIsMoving')) {\n          const clicked =\n            this.clickHighlight &&\n            this.clickHighlight.length > 0 &&\n            checkClicked(d.data, this.clickHighlight, this.innerInteractionKeys);\n          const hovered = this.hoverHighlight && checkHovered(d.data, this.hoverHighlight, this.innerInteractionKeys);\n          const baseColor = this.preparedColors[i];\n          const state = clicked ? 'click' : hovered && !select(n[i]).classed('geometryIsMoving') ? 'hover' : 'rest';\n          const color =\n            clicked && this.clickStyle.color\n              ? visaColors[this.clickStyle.color] || this.clickStyle.color\n              : clicked\n              ? baseColor\n              : hovered && this.hoverStyle.color\n              ? visaColors[this.hoverStyle.color] || this.hoverStyle.color\n              : baseColor;\n          if (state === 'hover') {\n            drawHoverStrokes({\n              inputElement: n[i],\n              id: this.chartID,\n              key: d[this.ordinalAccessor], // this must match whatever is used to bind the data, otherwise i\n              strokeWidth: this.hoverStyle.strokeWidth,\n              fill: color\n            });\n          }\n          return this.strokes[state + color];\n        }\n        return null;\n      });\n\n    retainAccessFocus({\n      parentGNode: this.rootG.node()\n    });\n  }\n\n  setLabelOpacity() {\n    const labelOpacity = this.dataLabel.visible ? 1 : 0;\n    const noteOpacity = this.showLabelNote ? 1 : 0;\n    // for this we can combine the labels and notes selections\n    const tempLabels = this.updatingLabels.merge(this.updatingRefLabels);\n    const tempNotes = this.updatingLabelsNotes.merge(this.updatingRefLabelsNotes);\n\n    tempLabels\n      .attr('data-use-dx', true) // need to add this for remove piece of collision below\n      .attr('data-use-dy', true)\n      .attr('opacity', (d, i, n) => {\n        const prevOpacity = +select(n[i]).attr('opacity');\n        const styleVisibility = select(n[i]).style('visibility');\n        const targetOpacity =\n          checkInteraction(\n            d.data,\n            labelOpacity,\n            this.hoverOpacity,\n            this.hoverHighlight,\n            this.clickHighlight,\n            this.innerInteractionKeys\n          ) < 1\n            ? 0\n            : 1;\n        if ((targetOpacity === 1 && styleVisibility === 'hidden') || prevOpacity !== targetOpacity) {\n          if (targetOpacity === 1) {\n            select(n[i])\n              .classed('collision-added', true)\n              .style('visibility', null);\n          } else {\n            select(n[i]).classed('collision-removed', true);\n          }\n        }\n        return targetOpacity;\n      });\n    // addStrokeUnder(tempLabels, 'white');\n\n    tempNotes\n      .attr('data-use-dx', true) // need to add this for remove piece of collision below\n      .attr('data-use-dy', true)\n      .attr('opacity', (d, i, n) => {\n        const prevOpacity = +select(n[i]).attr('opacity');\n        const styleVisibility = select(n[i]).style('visibility');\n        const targetOpacity =\n          checkInteraction(\n            d.data,\n            noteOpacity,\n            this.hoverOpacity,\n            this.hoverHighlight,\n            this.clickHighlight,\n            this.innerInteractionKeys\n          ) < 1\n            ? 0\n            : 1;\n        if ((targetOpacity === 1 && styleVisibility === 'hidden') || prevOpacity !== targetOpacity) {\n          if (targetOpacity === 1) {\n            select(n[i])\n              .classed('collision-added', true)\n              .style('visibility', null);\n          } else {\n            select(n[i]).classed('collision-removed', true);\n          }\n        }\n        return targetOpacity;\n      });\n    // addStrokeUnder(tempNotes, 'white');\n\n    if (this.dataLabel.collisionHideOnly) {\n      const labelsAdded = tempLabels.filter((_, i, n) => select(n[i]).classed('collision-added'));\n      const labelsRemoved = tempLabels.filter((_, i, n) => select(n[i]).classed('collision-removed'));\n      const notesAdded = tempNotes.filter((_, i, n) => select(n[i]).classed('collision-added'));\n      const notesRemoved = tempNotes.filter((_, i, n) => select(n[i]).classed('collision-removed'));\n      const validPositions = ['middle']; // , 'left', 'right'];\n      const offsets = [1]; //,1,1];\n\n      // we can now remove labels as well if we need to...\n      if (labelsRemoved.size() > 0) {\n        this.bitmaps = resolveLabelCollision({\n          bitmaps: this.bitmaps,\n          labelSelection: labelsRemoved,\n          avoidMarks: [],\n          validPositions: ['middle'],\n          offsets: [1],\n          accessors: ['key'],\n          size: [roundTo(this.width, 0), roundTo(this.height, 0)],\n          hideOnly: false,\n          removeOnly: true\n        });\n\n        // remove temporary class now\n        labelsRemoved.classed('collision-removed', false);\n      }\n\n      if (notesRemoved.size() > 0) {\n        this.bitmaps = resolveLabelCollision({\n          bitmaps: this.bitmaps,\n          labelSelection: notesRemoved,\n          avoidMarks: [],\n          validPositions: ['middle'],\n          offsets: [1],\n          accessors: ['key'],\n          size: [roundTo(this.width, 0), roundTo(this.height, 0)],\n          hideOnly: false,\n          removeOnly: true\n        });\n\n        // remove temporary class now\n        notesRemoved.classed('collision-removed', false);\n      }\n\n      // we can now add labels as well if we need to...\n      if (labelsAdded.size() > 0) {\n        this.bitmaps = resolveLabelCollision({\n          bitmaps: this.bitmaps,\n          labelSelection: labelsAdded,\n          avoidMarks: [],\n          validPositions,\n          offsets,\n          accessors: [this.ordinalAccessor],\n          size: [roundTo(this.width, 0), roundTo(this.height, 0)], // we need the whole width and height for pie\n          hideOnly: this.dataLabel.visible && this.dataLabel.collisionHideOnly,\n          suppressMarkDraw: true\n        });\n\n        // remove temporary class now\n        labelsAdded.classed('collision-added', false);\n      }\n\n      // we can now add labels as well if we need to...\n      if (notesAdded.size() > 0) {\n        this.bitmaps = resolveLabelCollision({\n          bitmaps: this.bitmaps,\n          labelSelection: notesAdded,\n          avoidMarks: [],\n          validPositions,\n          offsets,\n          accessors: [this.ordinalAccessor],\n          size: [roundTo(this.width, 0), roundTo(this.height, 0)], // we need the whole width and height for pie\n          hideOnly: this.dataLabel.visible && this.dataLabel.collisionHideOnly,\n          suppressMarkDraw: true\n        });\n\n        // remove temporary class now\n        notesAdded.classed('collision-added', false);\n      }\n    }\n  }\n\n  checkLabelColorAgainstBackground(group) {\n    const placement = group === 'RefLabels' ? 'edge' : this.dataLabel.placement;\n\n    this.updatingLabels.attr('fill', (d, i, n) => this.textTreatmentHandler(d, i, n, placement));\n  }\n\n  textTreatmentHandler = (d, i, n, specifiedPlacement?) => {\n    const placement = specifiedPlacement || this.dataLabel.placement;\n    const bgColor =\n      this.clickHighlight &&\n      this.clickHighlight.length > 0 &&\n      checkClicked(d.data, this.clickHighlight, this.innerInteractionKeys) &&\n      this.clickStyle.color\n        ? visaColors[this.clickStyle.color] || this.clickStyle.color\n        : this.hoverHighlight &&\n          checkHovered(d.data, this.hoverHighlight, this.innerInteractionKeys) &&\n          this.hoverStyle.color\n        ? visaColors[this.hoverStyle.color] || this.hoverStyle.color\n        : this.preparedColors[i];\n\n    const color = placement === 'inside' ? autoTextColor(bgColor) : visaColors.dark_text;\n    const me = select(n[i]);\n    me.attr(\n      'filter',\n      !me.classed('textIsMoving')\n        ? createTextStrokeFilter({\n            root: this.svg.node(),\n            id: this.chartID,\n            color: placement === 'inside' ? bgColor : '#ffffff'\n          })\n        : null\n    );\n    return color;\n  };\n\n  enterGeometries() {\n    this.enter.interrupt();\n\n    this.enter\n      .attr('class', 'arc')\n      .classed('entering', true)\n      .attr('opacity', 0)\n      .on('click', !this.suppressEvents ? (d, i, n) => this.onClickHandler(d.data, n[i]) : null)\n      .on('mouseover', !this.suppressEvents ? (d, i, n) => this.onHoverHandler(d.data, n[i]) : null)\n      .on('mouseout', !this.suppressEvents ? () => this.onMouseOutHandler() : null)\n      .attr('cursor', !this.suppressEvents ? this.cursor : null)\n      .each((_d, i, n) => {\n        initializeElementAccess(n[i]);\n      });\n    this.update.order();\n  }\n\n  updateGeometries() {\n    this.update.interrupt();\n\n    // opacity\n    this.update\n      .transition('opacity')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', d =>\n        checkInteraction(\n          d.data,\n          1,\n          this.hoverOpacity,\n          this.hoverHighlight,\n          this.clickHighlight,\n          this.innerInteractionKeys\n        )\n      );\n  }\n\n  exitGeometries() {\n    this.exit.interrupt();\n\n    this.exit\n      .transition('exit')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', 0)\n      [this.duration ? 'attrTween' : 'attr']('d', (_d, i, n) => {\n        const end = {\n          startAngle: 0,\n          endAngle: 0,\n          innerRadius: this.innerRadius,\n          outerRadius: this.outerRadius\n        };\n        if (!this.duration) {\n          return this.arc(end);\n        }\n        const me = n[i];\n        const interpolator = interpolate(me._current, end);\n        return t => {\n          me._current = interpolator(t);\n          return this.arc(me._current);\n        };\n      });\n\n    // We use this.update instead of this.exit to ensure the functions at the end\n    // of our lifecycle run, even though we are removing the exiting elements from\n    // inside this transition's endAll.\n    // (If we put this in this.exit, it will only run if elements exit.\n    // We want this to run every lifecycle.)\n    this.update\n      .transition('accessibilityAfterExit')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .call(transitionEndAll, () => {\n        // before we exit geometries, we need to check if a focus exists or not\n        const focusDidExist = checkAccessFocus(this.rootG.node());\n        // then we must remove the exiting elements\n        this.exit.remove();\n        // then our util can count geometries\n        this.setChartCountAccessibility();\n        // our group's label should update with new counts too\n        this.setGroupAccessibilityID();\n        // since items exited, labels must receive updated values\n        this.setGeometryAriaLabels();\n        // and also make sure the user's focus isn't lost\n        retainAccessFocus({\n          parentGNode: this.rootG.node(),\n          focusDidExist\n          // recursive: true\n        });\n      });\n  }\n\n  drawGeometries() {\n    this.update\n      .classed('geometryIsMoving', (d, i, n) => {\n        const geometryIsUpdating = checkAttributeTransitions(select(n[i]), [\n          {\n            attr: 'd',\n            newValue: this.arc({\n              startAngle: d.startAngle,\n              endAngle: d.endAngle,\n              innerRadius: this.innerRadius,\n              outerRadius: this.outerRadius\n            })\n          }\n        ]);\n        return geometryIsUpdating;\n      })\n      .attr('data-translate-x', this.radius + this.padding.left + this.margin.left)\n      .attr('data-translate-y', this.radius + this.padding.top + this.margin.top)\n      // .attr('data-fill', this.dataLabel.placement !== 'inside') // we don't need fill anymore\n      // if we bring back placement we may need it again\n      .attr('data-d', (d, i, n) => {\n        const me = n[i];\n        let inner = 'inner';\n        let arcPadding = 0;\n        if (this.dataLabel.placement !== 'inside') {\n          inner = 'outer';\n          arcPadding = this.labelOffset;\n        }\n        const end = {\n          startAngle: d.startAngle,\n          endAngle: d.endAngle,\n          innerRadius: this.innerRadius,\n          outerRadius: this.outerRadius\n        };\n        const labelEnd = {\n          startAngle: d.startAngle,\n          endAngle: d.endAngle,\n          innerRadius: this[inner + 'Radius'] + arcPadding,\n          outerRadius: this.outerRadius + arcPadding\n        };\n        // data-fake-x/y is used to pass the outer label placement\n        // without that effecting how the bitmap understands\n        // the pie geometetry itself\n        select(me)\n          .attr('data-fake-x', this.arc.centroid(labelEnd)[0])\n          .attr('data-fake-y', this.arc.centroid(labelEnd)[1])\n          .attr('data-r', 1);\n        return this.arc(end);\n      })\n      .transition('update')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      [this.duration ? 'attrTween' : 'attr']('d', (d, i, n) => {\n        const me = n[i];\n        let start = me._current;\n        const end = {\n          startAngle: d.startAngle,\n          endAngle: d.endAngle,\n          innerRadius: this.innerRadius,\n          outerRadius: this.outerRadius\n        };\n        if (select(n[i]).classed('entering')) {\n          start = {\n            startAngle: 0,\n            endAngle: 0,\n            innerRadius: this.innerRadius,\n            outerRadius: this.outerRadius\n          };\n          select(n[i]).classed('entering', false);\n        }\n        const interpolator = interpolate(start, end);\n        if (!this.duration) {\n          me._current = interpolator(1);\n          return this.arc(end);\n        }\n        return t => {\n          me._current = interpolator(t);\n          return this.arc(me._current);\n        };\n      })\n      .call(transitionEndAll, () => {\n        this.update.classed('geometryIsMoving', false);\n        this.updateInteractionState();\n\n        // we must make sure if geometries move, that our focus indicator does too\n        retainAccessFocus({\n          parentGNode: this.rootG.node()\n          // focusDidExist // this only matters for exiting selections\n          // recursive: true // this only matters for\n        });\n\n        // now we can emit the event that transitions are complete\n        this.transitionEndEvent.emit({ chartID: this.chartID });\n      });\n  }\n\n  setSelectedClass() {\n    this.update\n      .classed('highlight', d => {\n        const selected = checkInteraction(d.data, true, false, '', this.clickHighlight, this.innerInteractionKeys);\n        return this.clickHighlight && this.clickHighlight.length ? selected : false;\n      })\n      .each((d, i, n) => {\n        let selected = checkInteraction(d.data, true, false, '', this.clickHighlight, this.innerInteractionKeys);\n        selected = this.clickHighlight && this.clickHighlight.length ? selected : false;\n        const selectable = this.accessibility.elementsAreInterface;\n        setElementInteractionAccessState(n[i], selected, selectable);\n      });\n  }\n\n  drawReferenceLines() {\n    const currentRefPie = this.references.selectAll('.arc-ref').data(this.refData);\n    const enterRefPie = currentRefPie\n      .enter()\n      .append('path')\n      .attr('opacity', 0)\n      .attr('class', 'arc-ref')\n      .attr('fill', 'none')\n      .attr('stroke-width', 0)\n      .classed('entering', true)\n      .each((_d, i, n) => {\n        initializeElementAccess(n[i]);\n      });\n\n    const exitRefPie = currentRefPie.exit();\n    exitRefPie\n      .transition('exit')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', 0)\n      [this.duration ? 'attrTween' : 'attr']('d', (_, i, n) => {\n        const me = n[i];\n        const start = me._current;\n        const end = {\n          startAngle: 0,\n          endAngle: 0,\n          innerRadius: Math.max(0, this.innerRadius - 5),\n          outerRadius: this.outerRadius + 5\n        };\n        const interpolator = interpolate(start, end);\n        if (!this.duration) {\n          return this.arc(end);\n        }\n        return t => {\n          me._current = interpolator(t);\n          return this.arc(me._current);\n        };\n      })\n      .remove();\n\n    this.updateRefPie = currentRefPie.merge(enterRefPie).classed('ignore', (_, i) => (i === 0 ? false : true));\n\n    this.updateRefPie\n      .attr('opacity', this.referenceStyle.opacity)\n      .attr('stroke-dasharray', this.referenceStyle.dashed)\n      .transition('update')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('stroke-width', this.innerRatio !== 0 ? 3 : 0)\n      .attr(this.innerRatio !== 0 ? 'fill' : 'stroke', 'rgba(0,0,0,0)')\n      .attr(this.innerRatio !== 0 ? 'stroke' : 'fill', (_, i) => {\n        // d.fill = this.colorArr[i];\n        return (\n          visaColors[this.referenceStyle.color] || this.referenceStyle.color || this.preparedColors[i]\n        ); /* refIsLarger ? this.colorArr[i] :*/\n      })\n      [this.duration ? 'attrTween' : 'attr']('d', (d, i, n) => {\n        const end = {\n          startAngle: d.endAngle,\n          endAngle: d.endAngle,\n          innerRadius: Math.max(0, this.innerRadius - 5),\n          outerRadius: this.outerRadius + 5\n        };\n        const me = n[i];\n        let start = me._current;\n        if (select(me).classed('entering')) {\n          start = {\n            startAngle: 0,\n            endAngle: 0,\n            innerRadius: Math.max(0, this.innerRadius - 5),\n            outerRadius: this.outerRadius + 5\n          };\n          select(me).classed('entering', false);\n        }\n        const interpolator = interpolate(start, end);\n        if (!this.duration) {\n          me._current = interpolator(1);\n          return this.arc(end);\n        }\n        return t => {\n          me._current = interpolator(t);\n          return this.arc(me._current);\n        };\n      });\n  }\n\n  enterLabels(group) {\n    const placement = group === 'RefLabels' ? 'edge' : this.dataLabel.placement;\n    const labelOpacity = this.dataLabel.visible ? 1 : 0;\n    const noteOpacity = this.showLabelNote ? 1 : 0;\n\n    this['entering' + group]\n      .attr('class', 'pie-dataLabel-highlight')\n      .attr('opacity', 0)\n      .attr('opacity', d =>\n        checkInteraction(\n          d.data,\n          labelOpacity,\n          this.hoverOpacity,\n          this.hoverHighlight,\n          this.clickHighlight,\n          this.innerInteractionKeys\n        ) < 1\n          ? 0\n          : Number.EPSILON\n      )\n      .classed('entering', true)\n      .attr('fill', (d, i, n) => this.textTreatmentHandler(d, i, n, placement))\n      .attr('cursor', !this.suppressEvents && group !== 'RefLabels' ? this.cursor : null)\n      .on(\n        'click',\n        !this.suppressEvents && group !== 'RefLabels' ? (d, i, n) => this.onClickHandler(d.data, n[i]) : null\n      )\n      .on(\n        'mouseover',\n        !this.suppressEvents && group !== 'RefLabels' ? (d, i, n) => this.onHoverHandler(d.data, n[i]) : null\n      )\n      .on('mouseout', !this.suppressEvents && group !== 'RefLabels' ? () => this.onMouseOutHandler() : null);\n\n    this['entering' + group + 'Notes']\n      .attr('class', 'pie-dataLabel-note')\n      .attr('opacity', 0)\n      .attr('opacity', d =>\n        checkInteraction(\n          d.data,\n          noteOpacity,\n          this.hoverOpacity,\n          this.hoverHighlight,\n          this.clickHighlight,\n          this.innerInteractionKeys\n        ) < 1\n          ? 0\n          : Number.EPSILON\n      )\n      .classed('entering', true)\n      .attr('cursor', !this.suppressEvents && group !== 'RefLabels' ? this.cursor : null)\n      .on(\n        'click',\n        !this.suppressEvents && group !== 'RefLabels' ? (d, i, n) => this.onClickHandler(d.data, n[i]) : null\n      )\n      .on(\n        'mouseover',\n        !this.suppressEvents && group !== 'RefLabels' ? (d, i, n) => this.onHoverHandler(d.data, n[i]) : null\n      )\n      .on('mouseout', !this.suppressEvents && group !== 'RefLabels' ? () => this.onMouseOutHandler() : null);\n  }\n\n  updateLabels(group) {\n    this.updatingLabels.interrupt();\n    const labelOpacity = this.dataLabel.visible ? 1 : 0;\n    const noteOpacity = this.showLabelNote ? 1 : 0;\n\n    this['updating' + group]\n      .transition('opacity')\n      .ease(easeCircleIn)\n      .duration(this.duration)\n      .attr('opacity', d =>\n        checkInteraction(\n          d.data,\n          labelOpacity,\n          this.hoverOpacity,\n          this.hoverHighlight,\n          this.clickHighlight,\n          this.innerInteractionKeys\n        ) < 1\n          ? 0\n          : 1\n      );\n\n    this['updating' + group + 'Notes']\n      .transition('opacity')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', d =>\n        checkInteraction(\n          d.data,\n          noteOpacity,\n          this.hoverOpacity,\n          this.hoverHighlight,\n          this.clickHighlight,\n          this.innerInteractionKeys\n        ) < 1\n          ? 0\n          : 1\n      );\n  }\n\n  exitLabels(group) {\n    const placement = group === 'RefLabels' ? 'edge' : this.dataLabel.placement;\n\n    this['exiting' + group]\n      .transition('exit')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', 0)\n      [this.duration ? 'attrTween' : 'attr']('x', (d, i, n) => {\n        const me = n[i];\n        let inner = 'inner';\n        let arcPadding = 0;\n        if (placement !== 'inside') {\n          inner = 'outer';\n          arcPadding = this.labelOffset;\n        }\n        const end = {\n          startAngle: 0,\n          start: 0,\n          endAngle: 0,\n          innerRadius: this[inner + 'Radius'] + arcPadding,\n          outerRadius: this.outerRadius + arcPadding\n        };\n        if (!this.duration) {\n          select(me).attr('y', this.arc.centroid(end)[1]);\n          select(me).text(\n            placement === 'edge' && i === this.preppedData.length - 1 && group !== 'RefLabels'\n              ? ''\n              : this.showPercentage\n              ? formatStats((d.endAngle - d.startAngle) / (2 * Math.PI), '0.0%')\n              : this.dataLabel.format\n              ? formatStats(d.data[this.valueAccessor], this.dataLabel.format)\n              : d.data[this.valueAccessor]\n          );\n          return this.arc.centroid(end)[0];\n        }\n        const interpolator = interpolate(me._current, end);\n        return t => {\n          me._current = interpolator(t);\n          select(me).attr('y', this.arc.centroid(me._current)[1]);\n          select(me).text(\n            placement === 'edge' && i === this.preppedData.length - 1 && group !== 'RefLabels'\n              ? ''\n              : this.showPercentage\n              ? formatStats((me._current.endAngle - me._current.start) / (2 * Math.PI), '0.[0]%')\n              : this.dataLabel.format\n              ? formatStats(me._current.value, this.dataLabel.format)\n              : me._current.value\n          );\n          return this.arc.centroid(me._current)[0];\n        };\n      })\n      .remove();\n\n    this['exiting' + group + 'Notes']\n      .transition('exit')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', 0)\n      [this.duration ? 'attrTween' : 'attr']('x', (_d, i, n) => {\n        const me = n[i];\n        let inner = 'inner';\n        let arcPadding = 0;\n        if (placement !== 'inside') {\n          inner = 'outer';\n          arcPadding = this.labelOffset;\n        }\n        const end = {\n          value: 0,\n          startAngle: 0,\n          endAngle: 0,\n          innerRadius: this[inner + 'Radius'] + arcPadding,\n          outerRadius: this.outerRadius + arcPadding\n        };\n        if (!this.duration) {\n          select(me).attr('y', this.arc.centroid(end)[1]);\n          return this.arc.centroid(end)[0];\n        }\n        const interpolator = interpolate(me._current, end);\n        return t => {\n          me._current = interpolator(t);\n          select(me).attr('y', this.arc.centroid(me._current)[1]);\n          return this.arc.centroid(me._current)[0];\n        };\n      })\n      .remove();\n  }\n\n  drawDataLabels(group) {\n    const placement = group === 'RefLabels' ? 'edge' : this.dataLabel.placement;\n\n    // for the first call only to this do we create the base bitmap, all other stuff just adds to it\n    if (group === 'Labels' && this.dataLabel.visible && this.dataLabel.collisionHideOnly) {\n      let titleRoot = this.rootG.select('.pie-center-title-group').selectAll('text');\n      this.bitmaps = resolveLabelCollision({\n        labelSelection: select('.empty-stuff-vcc-do-not-use'),\n        avoidMarks: [titleRoot, this.updatingEdges, this.update],\n        validPositions: ['middle'],\n        offsets: [1],\n        accessors: [this.ordinalAccessor],\n        size: [roundTo(this.width, 0), roundTo(this.height, 0)] // we need the whole width and height for pie\n      });\n    }\n\n    this['updating' + group]\n      .style('visibility', (_, i, n) =>\n        this.dataLabel.placement === 'auto' || this.dataLabel.collisionHideOnly\n          ? select(n[i]).style('visibility')\n          : null\n      )\n      .transition('update')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      [this.duration ? 'attrTween' : 'attr']('x', (d, i, n) => {\n        const me = n[i];\n        let start = me._current;\n        let innerRadius = 'innerRadius';\n        let arcPadding = 0;\n        let startAngle = 'startAngle';\n        if (placement !== 'inside') {\n          innerRadius = 'outerRadius';\n          arcPadding = this.labelOffset;\n        }\n        if (placement === 'edge') {\n          startAngle = 'endAngle';\n        }\n\n        const end = {\n          value: d.data[this.valueAccessor],\n          start: d.startAngle,\n          startAngle: d[startAngle],\n          endAngle: d.endAngle,\n          innerRadius: this[innerRadius] + arcPadding,\n          outerRadius: this.outerRadius + arcPadding\n        };\n        select(me)\n          .attr('data-use-dx', true)\n          .attr('data-use-dy', true)\n          .attr('data-translate-x', this.radius + this.padding.left + this.margin.left)\n          .attr('data-translate-y', this.radius + this.padding.top + this.margin.top)\n          .attr('data-x', this.arc.centroid(end)[0])\n          .attr('data-y', this.arc.centroid(end)[1])\n          .attr('data-r', 1)\n          .attr('dx', 0)\n          .attr('dy', placement === 'inside' ? '0.1em' : 0)\n          .attr(\n            'text-anchor',\n            placement === 'inside'\n              ? 'middle'\n              : placement === 'edge'\n              ? d.endAngle < Math.PI\n                ? 'start'\n                : 'end'\n              : d.startAngle + (d.endAngle - d.startAngle) / 2 < Math.PI\n              ? 'start'\n              : 'end'\n          )\n          .text(\n            // we need text end point to determine if we can fit label (gets reset by interpolation below)\n            placement === 'edge' && i === this.preppedData.length - 1 && group !== 'RefLabels'\n              ? ''\n              : this.showPercentage\n              ? formatStats((d.endAngle - d.startAngle) / (2 * Math.PI), '0.0%')\n              : this.dataLabel.format\n              ? formatStats(d.data[this.valueAccessor], this.dataLabel.format)\n              : d.data[this.valueAccessor]\n          );\n\n        if (select(me).classed('entering')) {\n          start = {\n            value: d.data[this.valueAccessor],\n            start: d.startAngle,\n            startAngle: 0,\n            endAngle: 0,\n            innerRadius: this[innerRadius] + arcPadding,\n            outerRadius: this.outerRadius + arcPadding\n          };\n          select(me).classed('entering', false);\n        }\n        const interpolator = interpolate(start, end);\n        if (this.dataLabel.visible && this.dataLabel.collisionHideOnly) {\n          const validPositions = ['middle']; // , 'left', 'right'];\n          const offsets = [1]; //,1,1];\n          this.bitmaps = resolveLabelCollision({\n            bitmaps: this.bitmaps,\n            labelSelection: select(me), // highlightLabels,\n            avoidMarks: [],\n            validPositions,\n            offsets,\n            accessors: [this.ordinalAccessor],\n            size: [roundTo(this.width, 0), roundTo(this.height, 0)], // we need the whole width and height for pie\n            hideOnly: this.dataLabel.visible && this.dataLabel.collisionHideOnly\n          });\n        }\n        if (!this.duration) {\n          me._current = interpolator(1);\n          select(me).attr('y', this.arc.centroid(end)[1]);\n          select(me).text(\n            placement === 'edge' && i === this.preppedData.length - 1 && group !== 'RefLabels'\n              ? ''\n              : this.showPercentage\n              ? formatStats((d.endAngle - d.startAngle) / (2 * Math.PI), '0.0%')\n              : this.dataLabel.format\n              ? formatStats(d.data[this.valueAccessor], this.dataLabel.format)\n              : d.data[this.valueAccessor]\n          );\n          return this.arc.centroid(end)[0];\n        }\n        return t => {\n          me._current = interpolator(t);\n          select(me).attr('y', this.arc.centroid(me._current)[1]);\n          select(me).text(\n            placement === 'edge' && i === this.preppedData.length - 1 && group !== 'RefLabels'\n              ? ''\n              : this.showPercentage\n              ? formatStats((me._current.endAngle - me._current.start) / (2 * Math.PI), '0.0%')\n              : this.dataLabel.format\n              ? formatStats(me._current.value, this.dataLabel.format)\n              : me._current.value\n          );\n          // addStrokeUnder(select(me), 'white');\n          return this.arc.centroid(me._current)[0];\n        };\n      })\n      .call(transitionEndAll, () => {\n        // addStrokeUnder(this['updating' + group], 'white');\n      });\n\n    this['updating' + group + 'Notes']\n      .style('visibility', (_, i, n) =>\n        this.dataLabel.placement === 'auto' || this.dataLabel.collisionHideOnly\n          ? select(n[i]).style('visibility')\n          : null\n      )\n      .transition('update')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      [this.duration ? 'attrTween' : 'attr']('x', (d, i, n) => {\n        const me = n[i];\n        let start = me._current;\n        const startAngle = placement === 'edge' ? 'endAngle' : 'startAngle';\n        if (select(n[i]).classed('entering')) {\n          start = {\n            startAngle: 0,\n            endAngle: 0,\n            innerRadius: this.outerRadius + this.labelOffset,\n            outerRadius: this.outerRadius + this.labelOffset\n          };\n          select(n[i]).classed('entering', false);\n        }\n        const end = {\n          startAngle: d[startAngle],\n          endAngle: d.endAngle,\n          innerRadius: this.outerRadius + this.labelOffset,\n          outerRadius: this.outerRadius + this.labelOffset\n        };\n        select(me)\n          .attr('data-use-dx', true)\n          .attr('data-use-dy', true)\n          .attr('data-translate-x', this.radius + this.padding.left + this.margin.left)\n          .attr('data-translate-y', this.radius + this.padding.top + this.margin.top + 5) // 10 is spacer to get algo to work for note\n          .attr('data-x', this.arc.centroid(end)[0])\n          .attr('data-y', this.arc.centroid(end)[1])\n          .attr('dx', 0) // can I move this here? was in a seperate update\n          .text(\n            placement === 'edge' && i === this.preppedData.length - 1 && group !== 'RefLabels'\n              ? ''\n              : d.data[this.ordinalAccessor]\n          ) // can I move this here? was in a seperate update\n          .attr('dy', placement === 'inside' ? 0 : '1.4em')\n          .attr(\n            'text-anchor',\n            placement === 'edge'\n              ? d.endAngle < Math.PI\n                ? 'start'\n                : 'end'\n              : d.startAngle + (d.endAngle - d.startAngle) / 2 < Math.PI\n              ? 'start'\n              : 'end'\n          );\n        const interpolator = interpolate(start, end);\n        if (this.showLabelNote && this.dataLabel.visible && this.dataLabel.collisionHideOnly) {\n          const validPositions = ['middle']; // , 'left', 'right'];\n          const offsets = [1]; //,1,1];\n          this.bitmaps = resolveLabelCollision({\n            bitmaps: this.bitmaps,\n            labelSelection: select(me), // highlightLabels,\n            avoidMarks: [],\n            validPositions,\n            offsets,\n            accessors: [this.ordinalAccessor],\n            size: [roundTo(this.width, 0), roundTo(this.height, 0)], // we need the whole width and height for pie\n            hideOnly: this.showLabelNote && this.dataLabel.visible && this.dataLabel.collisionHideOnly\n          });\n        }\n        if (!this.duration) {\n          me._current = interpolator(1);\n          select(me).attr('y', this.arc.centroid(end)[1]);\n          return this.arc.centroid(end)[0];\n        }\n        return t => {\n          me._current = interpolator(t);\n          select(me).attr('y', this.arc.centroid(me._current)[1]);\n          // addStrokeUnder(select(me), 'white');\n          return this.arc.centroid(me._current)[0];\n        };\n      })\n      .call(transitionEndAll, () => {\n        // addStrokeUnder(this['updating' + group + 'Notes'], 'white');\n      });\n  }\n\n  drawCenterTitle() {\n    let titleRoot = this.rootG.select('.pie-center-title-group');\n\n    if (this.defaults) {\n      titleRoot = this.rootG\n        .append('g')\n        .attr('class', 'pie-center-title-group')\n        .style('opacity', 1);\n\n      titleRoot\n        .append('text')\n        .attr('class', 'visa-ui-header--1 visa-viz-title')\n        .attr('text-anchor', 'middle')\n        .attr('x', 0)\n        .attr('y', 0)\n        .attr('fill', visaColors.dark_text);\n\n      titleRoot\n        .append('text')\n        .attr('class', 'visa-ui-text--body visa-viz-subtitle')\n        .attr('text-anchor', 'middle')\n        .attr('x', 0)\n        .attr('fill', visaColors.dark_text);\n    }\n    titleRoot\n      .select('.visa-viz-title')\n      .text(this.centerTitle)\n      .attr('data-fill', true)\n      .attr('data-width', (_, i, n) => {\n        if (this.dataLabel.visible && this.dataLabel.collisionHideOnly) {\n          const textElement = n[i];\n          const style = getComputedStyle(textElement);\n          const fontSize = parseFloat(style.fontSize);\n          const textWidth = getTextWidth(textElement.textContent, fontSize, true, style.fontFamily);\n          const textHeight = Math.max(fontSize - 1, 1); // clone.getBBox().height;\n          select(textElement)\n            .attr('data-x', 0)\n            .attr('data-y', -textHeight / 2)\n            .attr('data-height', textHeight)\n            .attr('data-translate-x', this.radius + this.padding.left + this.margin.left)\n            .attr('data-translate-y', this.radius + this.padding.top + this.margin.top);\n          return textWidth;\n        }\n      });\n    titleRoot\n      .select('.visa-viz-subtitle')\n      .attr('data-x', 0)\n      .attr('data-y', this.centerTitle ? 20 : 10)\n      .attr('y', this.centerTitle ? 20 : 10)\n      .text(this.centerSubTitle)\n      .attr('data-fill', true)\n      .attr('data-width', (_, i, n) => {\n        if (this.dataLabel.visible && this.dataLabel.collisionHideOnly) {\n          const textElement = n[i];\n          const style = getComputedStyle(textElement);\n          const fontSize = parseFloat(style.fontSize);\n          const textWidth = getTextWidth(textElement.textContent, fontSize, true, style.fontFamily);\n          const textHeight = Math.max(fontSize - 1, 1); // clone.getBBox().height;\n          select(textElement)\n            .attr('data-x', 0)\n            .attr('data-y', (this.centerTitle ? 20 : 10) - textHeight / 2)\n            .attr('data-height', textHeight)\n            .attr('data-translate-x', this.radius + this.padding.left + this.margin.left)\n            .attr('data-translate-y', this.radius + this.padding.top + this.margin.top);\n          return textWidth;\n        }\n      });\n\n    const filter = createTextStrokeFilter({\n      root: this.svg.node(),\n      id: this.chartID,\n      color: '#ffffff'\n    });\n    titleRoot.attr('filter', filter);\n\n    // addStrokeUnder(titleRoot.select('.visa-viz-title'), 'white');\n    // addStrokeUnder(titleRoot.select('.visa-viz-subtitle'), 'white');\n  }\n\n  enterEdgeLine() {\n    this.enteringEdges\n      .attr('class', 'edge-line')\n      .attr('opacity', 0)\n      .classed('entering', true)\n      .attr('stroke-width', 1)\n      .attr('stroke', visaColors.dark_text)\n      .attr('fill', 'none');\n  }\n\n  updateEdgeLine(group) {\n    let edgeOpacity = 1;\n    if (!(this.showEdgeLine || this.dataLabel.placement === 'edge')) {\n      edgeOpacity = 0;\n    }\n\n    this.updatingEdges\n      .transition('edgeOpacity')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', (_, i) => (group === 'refEdges' && i !== 0 ? 0 : edgeOpacity));\n  }\n\n  exitEdgeLine() {\n    this.exitingEdges\n      .transition('exit')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      .attr('opacity', 0)\n      [this.duration ? 'attrTween' : 'attr']('d', (_, i, n) => {\n        const me = n[i];\n        const end = {\n          startAngle: 0,\n          endAngle: 0,\n          innerRadius: (this.radius + this.radius * this.innerRatio) / 2,\n          outerRadius: (this.radius + this.radius * this.innerRatio) / 2\n        };\n        if (!this.duration) {\n          return this.arc(end);\n        }\n        const interpolator = interpolate(me._current, end);\n        return t => {\n          me._current = interpolator(t);\n          return this.arc(me._current);\n        };\n      })\n      .remove();\n  }\n\n  drawEdgeLine() {\n    this.updatingEdges\n      .attr('data-translate-x', this.radius + this.padding.left + this.margin.left)\n      .attr('data-translate-y', this.radius + this.padding.top + this.margin.top)\n      .attr('data-d', (d, i, n) => {\n        const me = n[i];\n        const end = {\n          startAngle: d.endAngle,\n          endAngle: d.endAngle,\n          innerRadius: Math.max(0, this.innerRadius - 5),\n          outerRadius: this.outerRadius + 5\n        };\n        select(me)\n          .attr('data-fake-x', this.arc.centroid(end)[0])\n          .attr('data-fake-y', this.arc.centroid(end)[1]);\n        return this.arc(end);\n      })\n      .transition('update')\n      .duration(this.duration)\n      .ease(easeCircleIn)\n      [this.duration ? 'attrTween' : 'attr']('d', (d, i, n) => {\n        const me = n[i];\n        let start = me._current;\n        if (select(me).classed('entering')) {\n          start = {\n            startAngle: 0,\n            endAngle: 0,\n            innerRadius: Math.max(0, this.innerRadius - 5),\n            outerRadius: this.outerRadius + 5\n          };\n          select(me).classed('entering', false);\n        }\n        const end = {\n          startAngle: d.endAngle,\n          endAngle: d.endAngle,\n          innerRadius: Math.max(0, this.innerRadius - 5),\n          outerRadius: this.outerRadius + 5\n        };\n        const interpolator = interpolate(start, end);\n        if (!this.duration) {\n          me._current = interpolator(1);\n          return this.arc(end);\n        }\n        return t => {\n          me._current = interpolator(t);\n          return this.arc(me._current);\n        };\n      });\n  }\n\n  drawAnnotations() {\n    annotate({\n      source: this.rootG.node(),\n      data: this.annotations,\n      // xScale: this.x,\n      // xAccessor: this.ordinalAccessor,\n      // yScale: this.y,\n      // yAccessor: this.valueAccessor\n      width: this.width,\n      height: this.height,\n      padding: this.padding,\n      margin: this.margin,\n      bitmaps: this.bitmaps\n    });\n  }\n\n  setAnnotationAccessibility() {\n    // console.log('---------this.refArr', this.refArr);\n    setAccessAnnotation(this.getLanguageString(), this.pieChartEl, this.annotations, this.refArr);\n  }\n\n  // new accessibility functions added here\n  setTagLevels() {\n    this.topLevel = findTagLevel(this.highestHeadingLevel);\n    this.bottomLevel = findTagLevel(this.highestHeadingLevel, 3);\n  }\n\n  setChartDescriptionWrapper() {\n    initializeDescriptionRoot({\n      language: this.getLanguageString(),\n      rootEle: this.pieChartEl,\n      title: this.accessibility.title || this.mainTitle,\n      chartTag: 'pie-chart',\n      uniqueID: this.chartID,\n      highestHeadingLevel: this.highestHeadingLevel,\n      redraw: this.shouldRedrawWrapper,\n      disableKeyNav:\n        this.suppressEvents &&\n        this.accessibility.elementsAreInterface === false &&\n        this.accessibility.keyboardNavConfig &&\n        this.accessibility.keyboardNavConfig.disabled,\n      hideDataTable: this.accessibility.hideDataTableButton\n    });\n    this.shouldRedrawWrapper = false;\n  }\n\n  setParentSVGAccessibility() {\n    setAccessibilityController({\n      chartTag: 'pie-chart',\n      language: this.getLanguageString(),\n      node: this.svg.node(),\n      title: this.accessibility.title || this.mainTitle,\n      description: this.subTitle,\n      uniqueID: this.chartID,\n      geomType: 'slice',\n      includeKeyNames: this.accessibility.includeDataKeyNames,\n      dataKeys: scopeDataKeys(this, chartAccessors, 'pie-chart'),\n      dataKeyNames: this.dataKeyNames,\n      // groupAccessor: this.groupAccessor // pie chart does not include these\n      groupName: 'pie',\n      disableKeyNav:\n        this.suppressEvents &&\n        this.accessibility.elementsAreInterface === false &&\n        this.accessibility.keyboardNavConfig &&\n        this.accessibility.keyboardNavConfig.disabled,\n      // groupKeys: [], // pie chart does not include these\n      // nested: '', // pie chart does not include these\n      // recursive: true // pie chart does not include these\n      normalized: this.showPercentage, // adds percentage to aria-label\n      valueAccessor: this.valueAccessor\n    });\n  }\n\n  setGeometryAccessibilityAttributes() {\n    this.update.each((_d, i, n) => {\n      initializeElementAccess(n[i]);\n    });\n    this.updateRefPie.each((_d, i, n) => {\n      initializeElementAccess(n[i]);\n    });\n  }\n\n  setGeometryAriaLabels() {\n    const keys = scopeDataKeys(this, chartAccessors, 'pie-chart');\n    this.update.each((_d, i, n) => {\n      setElementFocusHandler({\n        chartTag: 'pie-chart',\n        language: this.getLanguageString(),\n        node: n[i],\n        geomType: 'slice',\n        includeKeyNames: this.accessibility.includeDataKeyNames,\n        dataKeys: keys,\n        dataKeyNames: this.dataKeyNames,\n        groupName: 'pie',\n        uniqueID: this.chartID,\n        disableKeyNav:\n          this.suppressEvents &&\n          this.accessibility.elementsAreInterface === false &&\n          this.accessibility.keyboardNavConfig &&\n          this.accessibility.keyboardNavConfig.disabled,\n        normalized: this.showPercentage,\n        valueAccessor: this.valueAccessor\n      });\n      setElementAccessID({\n        node: n[i],\n        uniqueID: this.chartID\n      });\n    });\n    this.updateRefPie.each((_d, i, n) => {\n      setElementFocusHandler({\n        node: n[i],\n        geomType: 'slice',\n        includeKeyNames: this.accessibility.includeDataKeyNames,\n        dataKeys: keys,\n        groupName: 'pie',\n        uniqueID: this.chartID,\n        disableKeyNav:\n          this.suppressEvents &&\n          this.accessibility.elementsAreInterface === false &&\n          this.accessibility.keyboardNavConfig &&\n          this.accessibility.keyboardNavConfig.disabled,\n        normalized: this.showPercentage,\n        valueAccessor: this.valueAccessor\n      });\n      setElementAccessID({\n        node: n[i],\n        uniqueID: this.chartID\n      });\n    });\n  }\n\n  setGroupAccessibilityAttributes() {\n    // if a component's <g> elements can enter/exit, this will need to be called in the\n    // lifecycle more than just initially, like how setGeometryAccessibilityAttributes works\n    initializeElementAccess(this.pieG.node());\n  }\n\n  setGroupAccessibilityID() {\n    this.pieG.each((_, i, n) => {\n      setElementAccessID({\n        node: n[i],\n        uniqueID: this.chartID\n      });\n    });\n  }\n\n  setChartAccessibilityTitle() {\n    setAccessTitle(this.getLanguageString(), this.pieChartEl, this.accessibility.title || this.mainTitle);\n  }\n\n  setChartAccessibilitySubtitle() {\n    setAccessSubtitle(this.getLanguageString(), this.pieChartEl, this.subTitle);\n  }\n\n  setChartAccessibilityLongDescription() {\n    setAccessLongDescription(this.getLanguageString(), this.pieChartEl, this.accessibility.longDescription);\n  }\n\n  setChartAccessibilityExecutiveSummary() {\n    setAccessExecutiveSummary(this.getLanguageString(), this.pieChartEl, this.accessibility.executiveSummary);\n  }\n\n  setChartAccessibilityPurpose() {\n    setAccessPurpose(this.getLanguageString(), this.pieChartEl, this.accessibility.purpose);\n  }\n\n  setChartAccessibilityContext() {\n    setAccessContext(this.getLanguageString(), this.pieChartEl, this.accessibility.contextExplanation);\n  }\n\n  setChartAccessibilityStatisticalNotes() {\n    setAccessStatistics(this.getLanguageString(), this.pieChartEl, this.accessibility.statisticalNotes);\n  }\n\n  setChartCountAccessibility() {\n    setAccessChartCounts({\n      rootEle: this.pieChartEl,\n      parentGNode: this.pieG.node(), // pass the wrapper to <g> or geometries here, should be single node selection\n      chartTag: 'pie-chart',\n      geomType: 'slice',\n      groupName: 'pie'\n      // recursive: true // pie chart doesn't use this, so it is omitted\n    });\n  }\n\n  setChartAccessibilityStructureNotes() {\n    setAccessStructure(this.getLanguageString(), this.pieChartEl, this.accessibility.structureNotes);\n  }\n\n  onChangeHandler() {\n    if (this.accessibility && typeof this.accessibility.onChangeFunc === 'function') {\n      const d = {\n        updated: this.updated,\n        added: this.enterSize,\n        removed: this.exitSize\n      };\n      this.accessibility.onChangeFunc(d);\n    }\n    this.updated = false;\n    this.enterSize = 0;\n    this.exitSize = 0;\n  }\n\n  updateCursor() {\n    this.update.attr('cursor', !this.suppressEvents ? this.cursor : null);\n    this.updatingLabels.attr('cursor', !this.suppressEvents ? this.cursor : null);\n  }\n\n  bindInteractivity() {\n    this.update\n      .on('click', !this.suppressEvents ? (d, i, n) => this.onClickHandler(d.data, n[i]) : null)\n      .on('mouseover', !this.suppressEvents ? (d, i, n) => this.onHoverHandler(d.data, n[i]) : null)\n      .on('mouseout', !this.suppressEvents ? () => this.onMouseOutHandler() : null);\n\n    this.updatingLabels\n      .on('click', !this.suppressEvents ? (d, i, n) => this.onClickHandler(d.data, n[i]) : null)\n      .on('mouseover', !this.suppressEvents ? (d, i, n) => this.onHoverHandler(d.data, n[i]) : null)\n      .on('mouseout', !this.suppressEvents ? () => this.onMouseOutHandler() : null);\n    this.updatingLabelsNotes\n      .on('click', !this.suppressEvents ? (d, i, n) => this.onClickHandler(d.data, n[i]) : null)\n      .on('mouseover', !this.suppressEvents ? (d, i, n) => this.onHoverHandler(d.data, n[i]) : null)\n      .on('mouseout', !this.suppressEvents ? () => this.onMouseOutHandler() : null);\n  }\n\n  onClickHandler(d, n) {\n    this.clickEvent.emit({ data: d, target: n });\n  }\n\n  onHoverHandler(d, n) {\n    overrideTitleTooltip(this.chartID, true);\n    this.hoverEvent.emit({ data: d, target: n });\n    if (this.showTooltip) {\n      this.eventsTooltip({ data: d, evt: event, isToShow: true });\n    }\n  }\n\n  onMouseOutHandler() {\n    overrideTitleTooltip(this.chartID, false);\n    this.mouseOutEvent.emit();\n    if (this.showTooltip) {\n      this.eventsTooltip({ isToShow: false });\n    }\n  }\n\n  // set initial style (instead of copying css class across the lib)\n  setTooltipInitialStyle() {\n    initTooltipStyle(this.tooltipG);\n  }\n\n  // tooltip\n  eventsTooltip({ data, evt, isToShow }: { data?: any; evt?: any; isToShow: boolean }) {\n    drawTooltip({\n      root: this.tooltipG,\n      data,\n      event: evt,\n      isToShow,\n      tooltipLabel: this.tooltipLabel,\n      dataLabel: this.dataLabel,\n      dataKeyNames: this.dataKeyNames,\n      ordinalAccessor: this.ordinalAccessor,\n      valueAccessor: this.valueAccessor,\n      chartType: 'pie',\n      normalized: this.showPercentage\n    });\n  }\n\n  render() {\n    this.drawStartEvent.emit({ chartID: this.chartID });\n    // everything between this comment and the third should eventually\n    // be moved into componentWillUpdate (if the Stencil bug is fixed)\n    this.init();\n    if (this.shouldSetLocalizationConfig) {\n      this.setLocalizationConfig();\n      this.shouldSetLocalizationConfig = false;\n    }\n    if (this.shouldSetTagLevels) {\n      this.setTagLevels();\n      this.shouldSetTagLevels = false;\n    }\n    if (this.shouldUpdateScales) {\n      this.prepareScales();\n      this.shouldUpdateScales = false;\n    }\n    if (this.shouldUpdateData) {\n      this.prepareData();\n      this.shouldUpdateData = false;\n    }\n    if (this.shouldUpdateLayout) {\n      this.setLayoutData();\n      this.shouldUpdateLayout = false;\n    }\n    if (this.shouldSetPieRadius) {\n      this.setPieRadius();\n      this.shouldSetPieRadius = false;\n    }\n    if (this.shouldUpdateInnerRatio) {\n      this.setInnerRatio();\n      this.shouldUpdateInnerRatio = false;\n    }\n    if (this.shouldValidateInteractionKeys) {\n      this.validateInteractionKeys();\n      this.shouldValidateInteractionKeys = false;\n    }\n    if (this.shouldUpdateTableData) {\n      this.setTableData();\n      this.shouldUpdateTableData = false;\n    }\n    if (this.shouldValidate) {\n      this.shouldValidateAccessibilityProps();\n      this.shouldValidateLocalizationProps();\n      this.shouldValidateLocalizationProps();\n      this.shouldValidate = false;\n    }\n    if (this.shouldSetColors) {\n      this.setColors();\n      this.shouldSetColors = false;\n    }\n    // Everything between this comment and the first should eventually\n    // be moved into componentWillUpdate (if the Stencil bug is fixed)\n\n    return (\n      <div class=\"o-layout is--vertical\">\n        <div class=\"o-layout--chart\">\n          <this.topLevel class=\"pie-main-title vcl-main-title\">{this.mainTitle}</this.topLevel>\n          <this.bottomLevel class=\"visa-ui-text--instructions pie-sub-title vcl-sub-title\" />\n          <keyboard-instructions\n            uniqueID={this.chartID}\n            geomType={'slice'}\n            groupName={'pie'} // taken from initializeDescriptionRoot, on bar this should be \"bar group\", stacked bar is \"stack\", and clustered is \"cluster\"\n            language={this.getLanguageString()}\n            chartTag={'pie-chart'}\n            width={this.width - (this.margin ? this.margin.right || 0 : 0)}\n            isInteractive={this.accessibility.elementsAreInterface}\n            hasCousinNavigation={false} // pie-chart doesn't have a group accessor\n            disabled={\n              this.suppressEvents &&\n              this.accessibility.elementsAreInterface === false &&\n              this.accessibility.keyboardNavConfig &&\n              this.accessibility.keyboardNavConfig.disabled\n            } // the chart is \"simple\"\n          />\n          <div class=\"visa-viz-d3-pie-container\" />\n          <div class=\"pie-tooltip vcl-tooltip\" style={{ display: this.showTooltip ? 'block' : 'none' }} />\n          <data-table\n            uniqueID={this.chartID}\n            isCompact\n            language={this.getLanguageString()}\n            tableColumns={this.tableColumns}\n            dataKeyNames={this.dataKeyNames}\n            data={this.tableData}\n            padding={this.padding}\n            margin={this.margin}\n            hideDataTable={this.accessibility.hideDataTableButton}\n            unitTest={this.unitTest}\n          />\n        </div>\n        {/* <canvas id=\"bitmap-render\" /> */}\n      </div>\n    );\n  }\n\n  private init() {\n    const keys = Object.keys(PieChartDefaultValues);\n    let i = 0;\n    const exceptions = {\n      showLabelNote: {\n        exception: false\n      },\n      innerRatio: {\n        exception: 0\n      },\n      showPercentage: {\n        exception: false\n      },\n      showTooltip: {\n        exception: false\n      },\n      mainTitle: {\n        exception: ''\n      },\n      subTitle: {\n        exception: ''\n      },\n      hoverOpacity: {\n        exception: 0\n      }\n    };\n    for (i = 0; i < keys.length; i++) {\n      const exception = !exceptions[keys[i]] ? false : this[keys[i]] === exceptions[keys[i]].exception;\n      this[keys[i]] = this[keys[i]] || exception ? this[keys[i]] : PieChartDefaultValues[keys[i]];\n    }\n  }\n}\n\n// incorporate OSS licenses into build\nwindow['VisaChartsLibOSSLicenses'] = getLicenses(); // tslint:disable-line no-string-literal\n"],"mappings":"gyBAIA,SAASA,EAAeC,GACtB,OAAOA,EAAEC,WACX,CAEA,SAASC,EAAeF,GACtB,OAAOA,EAAEG,WACX,CAEA,SAASC,EAAcJ,GACrB,OAAOA,EAAEK,UACX,CAEA,SAASC,EAAYN,GACnB,OAAOA,EAAEO,QACX,CAEA,SAASC,EAAYR,GACnB,OAAOA,GAAKA,EAAES,QAChB,CAEA,SAASC,EAAUC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,EAAIC,GAC7C,IAAIC,EAAMN,EAAKF,EAAIS,EAAMN,EAAKF,EAC1BS,EAAMJ,EAAKF,EAAIO,EAAMJ,EAAKF,EAC1BO,EAAID,EAAMH,EAAME,EAAMD,EAC1B,GAAIG,EAAIA,EAAIC,EAAS,OACrBD,GAAKF,GAAOT,EAAKI,GAAMM,GAAOX,EAAKI,IAAOQ,EAC1C,MAAO,CAACZ,EAAKY,EAAIJ,EAAKP,EAAKW,EAAIH,EACjC,CAIA,SAASK,EAAed,EAAIC,EAAIC,EAAIC,EAAIY,EAAIC,EAAIC,GAC9C,IAAIC,EAAMlB,EAAKE,EACXiB,EAAMlB,EAAKE,EACXiB,GAAMH,EAAKD,GAAMA,GAAMK,EAAKH,EAAMA,EAAMC,EAAMA,GAC9CG,EAAKF,EAAKD,EACVI,GAAMH,EAAKF,EACXM,EAAMxB,EAAKsB,EACXG,EAAMxB,EAAKsB,EACXf,EAAMN,EAAKoB,EACXb,EAAMN,EAAKoB,EACXG,GAAOF,EAAMhB,GAAO,EACpBmB,GAAOF,EAAMhB,GAAO,EACpBmB,EAAKpB,EAAMgB,EACXK,EAAKpB,EAAMgB,EACXK,EAAKF,EAAKA,EAAKC,EAAKA,EACpBE,EAAIhB,EAAKC,EACTgB,EAAIR,EAAMf,EAAMD,EAAMiB,EACtBpC,GAAKwC,EAAK,GAAK,EAAI,GAAKR,EAAKY,EAAI,EAAGF,EAAIA,EAAID,EAAKE,EAAIA,IACrDE,GAAOF,EAAIH,EAAKD,EAAKvC,GAAKyC,EAC1BK,IAAQH,EAAIJ,EAAKC,EAAKxC,GAAKyC,EAC3BM,GAAOJ,EAAIH,EAAKD,EAAKvC,GAAKyC,EAC1BO,IAAQL,EAAIJ,EAAKC,EAAKxC,GAAKyC,EAC3BQ,EAAMJ,EAAMR,EACZa,EAAMJ,EAAMR,EACZa,EAAMJ,EAAMV,EACZe,EAAMJ,EAAMV,EAIhB,GAAIW,EAAMA,EAAMC,EAAMA,EAAMC,EAAMA,EAAMC,EAAMA,EAAKP,EAAME,EAAKD,EAAME,EAEpE,MAAO,CACLK,GAAIR,EACJS,GAAIR,EACJjB,KAAMI,EACNH,KAAMI,EACNC,IAAKU,GAAOnB,EAAKgB,EAAI,GACrBN,IAAKU,GAAOpB,EAAKgB,EAAI,GAEzB,CAEe,SAAAa,IACb,IAAItD,EAAcF,EACdI,EAAcD,EACdsD,EAAeC,EAAS,GACxBC,EAAY,KACZrD,EAAaD,EACbG,EAAWD,EACXG,EAAWD,EACXmD,EAAU,KACVC,EAAOC,EAASN,GAEpB,SAASA,IACP,IAAIO,EACApB,EACAqB,GAAM9D,EAAY+D,MAAMC,KAAMC,WAC9BxC,GAAMvB,EAAY6D,MAAMC,KAAMC,WAC9BC,EAAK9D,EAAW2D,MAAMC,KAAMC,WAAaE,EACzCC,EAAK9D,EAASyD,MAAMC,KAAMC,WAAaE,EACvCE,EAAKC,EAAIF,EAAKF,GACdvC,EAAKyC,EAAKF,EAEd,IAAKR,EAASA,EAAUG,EAASF,IAGjC,GAAIlC,EAAKqC,EAAIrB,EAAIhB,EAAIA,EAAKqC,EAAIA,EAAKrB,EAGnC,KAAMhB,EAAKF,GAAUmC,EAAQa,OAAO,EAAG,QAGlC,GAAIF,EAAKG,EAAMjD,EAAS,CAC3BmC,EAAQa,OAAO9C,EAAKgD,EAAIP,GAAKzC,EAAKiD,EAAIR,IACtCR,EAAQJ,IAAI,EAAG,EAAG7B,EAAIyC,EAAIE,GAAKzC,GAC/B,GAAImC,EAAKvC,EAAS,CAChBmC,EAAQa,OAAOT,EAAKW,EAAIL,GAAKN,EAAKY,EAAIN,IACtCV,EAAQJ,IAAI,EAAG,EAAGQ,EAAIM,EAAIF,EAAIvC,EACtC,CACA,KAGS,CACH,IAAIgD,EAAMT,EACNU,EAAMR,EACNS,EAAMX,EACNY,EAAMV,EACNW,EAAMV,EACNW,EAAMX,EACNY,EAAKzE,EAASuD,MAAMC,KAAMC,WAAa,EACvCiB,EAAMD,EAAK1D,IAAakC,GAAaA,EAAUM,MAAMC,KAAMC,WAAalC,EAAK+B,EAAKA,EAAKrC,EAAKA,IAC5FC,EAAKyD,EAAIb,EAAI7C,EAAKqC,GAAM,GAAIP,EAAaQ,MAAMC,KAAMC,YACrDmB,EAAM1D,EACN2D,EAAM3D,EACN4D,EACAC,EAGJ,GAAIL,EAAK3D,EAAS,CAChB,IAAIiE,EAAKC,EAAKP,EAAKpB,EAAKY,EAAIO,IACxBS,EAAKD,EAAKP,EAAKzD,EAAKiD,EAAIO,IAC5B,IAAKF,GAAOS,EAAK,GAAKjE,EAASiE,GAAO7D,EAAK,GAAK,EAAIkD,GAAOW,EAAIV,GAAOU,OACjET,EAAM,EAAGF,EAAMC,GAAOZ,EAAKE,GAAM,EACtC,IAAKY,GAAOU,EAAK,GAAKnE,EAASmE,GAAO/D,EAAK,GAAK,EAAIgD,GAAOe,EAAId,GAAOc,OACjEV,EAAM,EAAGL,EAAMC,GAAOV,EAAKE,GAAM,CAC9C,CAEM,IAAIxC,EAAMH,EAAKgD,EAAIE,GACf9C,EAAMJ,EAAKiD,EAAIC,GACfzD,EAAM4C,EAAKW,EAAIK,GACf3D,EAAM2C,EAAKY,EAAII,GAGnB,GAAIpD,EAAKH,EAAS,CAChB,IAAIW,EAAMT,EAAKgD,EAAIG,GACfzC,EAAMV,EAAKiD,EAAIE,GACfxC,EAAM0B,EAAKW,EAAII,GACfxC,EAAMyB,EAAKY,EAAIG,GACfc,GAKJ,GAAItB,EAAKuB,EAAI,CACX,GAAID,GAAKlF,EAAUmB,EAAKC,EAAKO,EAAKC,EAAKH,EAAKC,EAAKjB,EAAKC,GAAM,CAC1D,IAAI0E,GAAKjE,EAAM+D,GAAG,GACdG,GAAKjE,EAAM8D,GAAG,GACdI,GAAK7D,EAAMyD,GAAG,GACdK,GAAK7D,EAAMwD,GAAG,GACdM,GAAK,EAAIvB,EAAIwB,GAAML,GAAKE,GAAKD,GAAKE,KAAOjE,EAAK8D,GAAKA,GAAKC,GAAKA,IAAM/D,EAAKgE,GAAKA,GAAKC,GAAKA,MAAQ,GAC/FG,GAAKpE,EAAK4D,GAAG,GAAKA,GAAG,GAAKA,GAAG,GAAKA,GAAG,IACzCP,EAAMD,EAAIzD,GAAKoC,EAAKqC,KAAOF,GAAK,IAChCZ,EAAMF,EAAIzD,GAAKD,EAAK0E,KAAOF,GAAK,GAC5C,KAAiB,CACLb,EAAMC,EAAM,CACxB,CACA,CACA,CAGM,KAAML,EAAMzD,GAAUmC,EAAQa,OAAO3C,EAAKC,QAGrC,GAAIwD,EAAM9D,EAAS,CACtB+D,EAAK9D,EAAeY,EAAKC,EAAKT,EAAKC,EAAKJ,EAAI4D,EAAK1D,GACjD4D,EAAK/D,EAAeU,EAAKC,EAAKjB,EAAKC,EAAKM,EAAI4D,EAAK1D,GAEjD+B,EAAQa,OAAOe,EAAGlC,GAAKkC,EAAG1D,IAAK0D,EAAGjC,GAAKiC,EAAGzD,KAG1C,GAAIwD,EAAM3D,EAAIgC,EAAQJ,IAAIgC,EAAGlC,GAAIkC,EAAGjC,GAAIgC,EAAKe,EAAMd,EAAGzD,IAAKyD,EAAG1D,KAAMwE,EAAMb,EAAG1D,IAAK0D,EAAG3D,MAAOD,OAGvF,CACH+B,EAAQJ,IAAIgC,EAAGlC,GAAIkC,EAAGjC,GAAIgC,EAAKe,EAAMd,EAAGzD,IAAKyD,EAAG1D,KAAMwE,EAAMd,EAAGnD,IAAKmD,EAAGpD,MAAOP,GAC9E+B,EAAQJ,IAAI,EAAG,EAAG7B,EAAI2E,EAAMd,EAAGjC,GAAKiC,EAAGnD,IAAKmD,EAAGlC,GAAKkC,EAAGpD,KAAMkE,EAAMb,EAAGlC,GAAKkC,EAAGpD,IAAKoD,EAAGnC,GAAKmC,EAAGrD,MAAOP,GACrG+B,EAAQJ,IAAIiC,EAAGnC,GAAImC,EAAGlC,GAAIgC,EAAKe,EAAMb,EAAGpD,IAAKoD,EAAGrD,KAAMkE,EAAMb,EAAG1D,IAAK0D,EAAG3D,MAAOD,EACxF,CACA,MAGW+B,EAAQa,OAAO3C,EAAKC,GAAM6B,EAAQJ,IAAI,EAAG,EAAG7B,EAAIkD,EAAKC,GAAMjD,GAIhE,KAAMmC,EAAKvC,MAAcwD,EAAMxD,GAAUmC,EAAQ2C,OAAOnF,EAAKC,QAGxD,GAAIiE,EAAM7D,EAAS,CACtB+D,EAAK9D,EAAeN,EAAKC,EAAKe,EAAKC,EAAK2B,GAAKsB,EAAKzD,GAClD4D,EAAK/D,EAAeI,EAAKC,EAAKO,EAAKC,EAAKyB,GAAKsB,EAAKzD,GAElD+B,EAAQ2C,OAAOf,EAAGlC,GAAKkC,EAAG1D,IAAK0D,EAAGjC,GAAKiC,EAAGzD,KAG1C,GAAIuD,EAAM1D,EAAIgC,EAAQJ,IAAIgC,EAAGlC,GAAIkC,EAAGjC,GAAI+B,EAAKgB,EAAMd,EAAGzD,IAAKyD,EAAG1D,KAAMwE,EAAMb,EAAG1D,IAAK0D,EAAG3D,MAAOD,OAGvF,CACH+B,EAAQJ,IAAIgC,EAAGlC,GAAIkC,EAAGjC,GAAI+B,EAAKgB,EAAMd,EAAGzD,IAAKyD,EAAG1D,KAAMwE,EAAMd,EAAGnD,IAAKmD,EAAGpD,MAAOP,GAC9E+B,EAAQJ,IAAI,EAAG,EAAGQ,EAAIsC,EAAMd,EAAGjC,GAAKiC,EAAGnD,IAAKmD,EAAGlC,GAAKkC,EAAGpD,KAAMkE,EAAMb,EAAGlC,GAAKkC,EAAGpD,IAAKoD,EAAGnC,GAAKmC,EAAGrD,KAAMP,GACpG+B,EAAQJ,IAAIiC,EAAGnC,GAAImC,EAAGlC,GAAI+B,EAAKgB,EAAMb,EAAGpD,IAAKoD,EAAGrD,KAAMkE,EAAMb,EAAG1D,IAAK0D,EAAG3D,MAAOD,EACxF,CACA,MAGW+B,EAAQJ,IAAI,EAAG,EAAGQ,EAAIgB,EAAKD,EAAKlD,EAC3C,CAEI+B,EAAQ4C,YAER,GAAIzC,EAAQ,OAAOH,EAAU,KAAMG,EAAS,IAAM,IACtD,CAEEP,EAAIiD,SAAW,WACb,IAAI9D,IAAMzC,EAAY+D,MAAMC,KAAMC,aAAc/D,EAAY6D,MAAMC,KAAMC,YAAc,EAClFuC,IAAMpG,EAAW2D,MAAMC,KAAMC,aAAc3D,EAASyD,MAAMC,KAAMC,YAAc,EAAI2B,EAAK,EAC3F,MAAO,CAACnB,EAAI+B,GAAK/D,EAAGiC,EAAI8B,GAAK/D,EACjC,EAEEa,EAAItD,YAAc,SAASyG,GACzB,OAAOxC,UAAUyC,QAAU1G,SAAqByG,IAAM,WAAaA,EAAIjD,GAAUiD,GAAInD,GAAOtD,CAChG,EAEEsD,EAAIpD,YAAc,SAASuG,GACzB,OAAOxC,UAAUyC,QAAUxG,SAAqBuG,IAAM,WAAaA,EAAIjD,GAAUiD,GAAInD,GAAOpD,CAChG,EAEEoD,EAAIC,aAAe,SAASkD,GAC1B,OAAOxC,UAAUyC,QAAUnD,SAAsBkD,IAAM,WAAaA,EAAIjD,GAAUiD,GAAInD,GAAOC,CACjG,EAEED,EAAIG,UAAY,SAASgD,GACvB,OAAOxC,UAAUyC,QAAUjD,EAAYgD,GAAK,KAAO,YAAcA,IAAM,WAAaA,EAAIjD,GAAUiD,GAAInD,GAAOG,CACjH,EAEEH,EAAIlD,WAAa,SAASqG,GACxB,OAAOxC,UAAUyC,QAAUtG,SAAoBqG,IAAM,WAAaA,EAAIjD,GAAUiD,GAAInD,GAAOlD,CAC/F,EAEEkD,EAAIhD,SAAW,SAASmG,GACtB,OAAOxC,UAAUyC,QAAUpG,SAAkBmG,IAAM,WAAaA,EAAIjD,GAAUiD,GAAInD,GAAOhD,CAC7F,EAEEgD,EAAI9C,SAAW,SAASiG,GACtB,OAAOxC,UAAUyC,QAAUlG,SAAkBiG,IAAM,WAAaA,EAAIjD,GAAUiD,GAAInD,GAAO9C,CAC7F,EAEE8C,EAAII,QAAU,SAAS+C,GACrB,OAAOxC,UAAUyC,QAAWhD,EAAU+C,GAAK,KAAO,KAAOA,EAAInD,GAAOI,CACxE,EAEE,OAAOJ,CACT,CC3Qe,SAAAqD,EAASH,EAAGI,GACzB,OAAOA,EAAIJ,GAAK,EAAII,EAAIJ,EAAI,EAAII,GAAKJ,EAAI,EAAIK,GAC/C,CCFe,SAAAC,EAAS/G,GACtB,OAAOA,CACT,CCIe,SAAAgH,IACb,IAAIC,EAAQF,EACRG,EAAaN,EACbO,EAAO,KACP9G,EAAaoD,EAAS,GACtBlD,EAAWkD,EAASgB,GACpBhE,EAAWgD,EAAS,GAExB,SAASuD,EAAII,GACX,IAAIC,EACAC,GAAKF,EAAOG,EAAMH,IAAOT,OACzBa,EACAC,EACAC,EAAM,EACNC,EAAQ,IAAIC,MAAMN,GAClBO,EAAO,IAAID,MAAMN,GACjBnD,GAAM9D,EAAW2D,MAAMC,KAAMC,WAC7BI,EAAKwD,KAAK1C,IAAIX,EAAKqD,KAAKlF,KAAK6B,EAAKlE,EAASyD,MAAMC,KAAMC,WAAaC,IACpEE,EACA0D,EAAID,KAAK1C,IAAI0C,KAAKvD,IAAID,GAAMgD,EAAG7G,EAASuD,MAAMC,KAAMC,YACpD8D,EAAKD,GAAKzD,EAAK,GAAK,EAAI,GACxB2D,EAEJ,IAAKZ,EAAI,EAAGA,EAAIC,IAAKD,EAAG,CACtB,IAAKY,EAAIJ,EAAKF,EAAMN,GAAKA,IAAMJ,EAAMG,EAAKC,GAAIA,EAAGD,IAAS,EAAG,CAC3DM,GAAOO,CACf,CACA,CAGI,GAAIf,GAAc,KAAMS,EAAMR,MAAK,SAASE,EAAGG,GAAK,OAAON,EAAWW,EAAKR,GAAIQ,EAAKL,GAAI,SACnF,GAAIL,GAAQ,KAAMQ,EAAMR,MAAK,SAASE,EAAGG,GAAK,OAAOL,EAAKC,EAAKC,GAAID,EAAKI,GAAI,IAGjF,IAAKH,EAAI,EAAGI,EAAIC,GAAOpD,EAAKgD,EAAIU,GAAMN,EAAM,EAAGL,EAAIC,IAAKD,EAAGlD,EAAKE,EAAI,CAClEmD,EAAIG,EAAMN,GAAIY,EAAIJ,EAAKL,GAAInD,EAAKF,GAAM8D,EAAI,EAAIA,EAAIR,EAAI,GAAKO,EAAIH,EAAKL,GAAK,CACvEJ,KAAMA,EAAKI,GACXG,MAAON,EACPJ,MAAOgB,EACP5H,WAAY8D,EACZ5D,SAAU8D,EACV5D,SAAUsH,EAElB,CAEI,OAAOF,CACX,CAEEb,EAAIC,MAAQ,SAASP,GACnB,OAAOxC,UAAUyC,QAAUM,SAAeP,IAAM,WAAaA,EAAIjD,GAAUiD,GAAIM,GAAOC,CAC1F,EAEED,EAAIE,WAAa,SAASR,GACxB,OAAOxC,UAAUyC,QAAUO,EAAaR,EAAGS,EAAO,KAAMH,GAAOE,CACnE,EAEEF,EAAIG,KAAO,SAAST,GAClB,OAAOxC,UAAUyC,QAAUQ,EAAOT,EAAGQ,EAAa,KAAMF,GAAOG,CACnE,EAEEH,EAAI3G,WAAa,SAASqG,GACxB,OAAOxC,UAAUyC,QAAUtG,SAAoBqG,IAAM,WAAaA,EAAIjD,GAAUiD,GAAIM,GAAO3G,CAC/F,EAEE2G,EAAIzG,SAAW,SAASmG,GACtB,OAAOxC,UAAUyC,QAAUpG,SAAkBmG,IAAM,WAAaA,EAAIjD,GAAUiD,GAAIM,GAAOzG,CAC7F,EAEEyG,EAAIvG,SAAW,SAASiG,GACtB,OAAOxC,UAAUyC,QAAUlG,SAAkBiG,IAAM,WAAaA,EAAIjD,GAAUiD,GAAIM,GAAOvG,CAC7F,EAEE,OAAOuG,CACT,CCtEQ,IAAAkB,EAAsBC,EAAKD,kB,2CAGjBE,EAAAC,UAAY,kBACZD,EAAAE,SAAWJ,EAAkBI,SAASC,KACtCH,EAAAI,YAAc,GACdJ,EAAAK,eAAiB,GACjBL,EAAAM,OAAS,IACTN,EAAAO,MAAQ,IACRP,EAAAQ,OAAS,CACvBC,IAAK,IAAM,IACXC,OAAQ,IAAM,IACdC,MAAO,IAAM,IACbC,KAAM,IAAM,KAEEZ,EAAAa,QAAU,CACxBJ,IAAK,GACLC,OAAQ,GACRC,MAAO,GACPC,KAAM,IAGQZ,EAAAc,aAAehB,EAAkBgB,aAEjCd,EAAAe,gBAAkB,QAClBf,EAAAgB,cAAgB,QAChBhB,EAAAiB,WAAa,GACbjB,EAAAkB,aAAe,MACflB,EAAAmB,eAAiB,KACjBnB,EAAAoB,cAAgB,KAChBpB,EAAAqB,YAAc,GAEdrB,EAAAsB,cAAgBxB,EAAkBwB,cAClCtB,EAAAuB,gBAAkBzB,EAAkByB,gBACpCvB,EAAAwB,oBAAsB1B,EAAkB0B,oBAExCxB,EAAAyB,aAAe3B,EAAkB4B,uBACjC1B,EAAA2B,UAAY7B,EAAkB8B,aAE9B5B,EAAA6B,WAAa/B,EAAkB+B,WAC/B7B,EAAA8B,WAAahC,EAAkBgC,WAC/B9B,EAAA+B,eAAiBjC,EAAkBiC,eACnC/B,EAAAgC,aAAelC,EAAkBkC,aACjChC,EAAAiC,OAASnC,EAAkBmC,OAE3BjC,EAAAkC,YAAcpC,EAAkBoC,YAChClC,EAAAmC,UAAYrC,EAAkBsC,uBAE9BpC,EAAAqC,aAAevC,EAAkBuC,aACjCrC,EAAAsC,YAAcxC,EAAkBwC,YAChCtC,EAAAuC,eAAiBzC,EAAkByC,eAEnCvC,EAAAwC,eAAiB1C,EAAkB0C,eC7DrD,IAAMC,EAAc,u0BACpB,IAAAC,EAAeD,EC6Bb,IAAAE,EAwDE5C,EAAK4C,mBAvDPC,EAuDE7C,EAAK6C,mBAtDPC,EAsDE9C,EAAK8C,wBApDPC,EAoDE/C,EAAK+C,0BAnDPC,EAmDEhD,EAAKgD,uBAlDPC,EAkDEjD,EAAKiD,iBAjDPC,EAiDElD,EAAKkD,mBAhDPC,EAgDEnD,EAAKmD,aA/CPC,EA+CEpD,EAAKoD,wBA9CPC,EA8CErD,EAAKqD,0BA7CPC,EA6CEtD,EAAKsD,wBA5CPC,EA4CEvD,EAAKuD,uBA3CPC,GA2CExD,EAAKwD,mBA1CPC,GA0CEzD,EAAKyD,2BAzCPC,GAyCE1D,EAAK0D,uBAxCPC,GAwCE3D,EAAK2D,eAvCPC,GAuCE5D,EAAK4D,kBAtCPC,GAsCE7D,EAAK6D,yBArCPC,GAqCE9D,EAAK8D,0BApCPC,GAoCE/D,EAAK+D,iBAnCPC,GAmCEhE,EAAKgE,iBAlCPC,GAkCEjE,EAAKiE,oBAjCPC,GAiCElE,EAAKkE,qBAhCPC,GAgCEnE,EAAKmE,mBA/BPC,GA+BEpE,EAAKoE,oBA9BPC,GA8BErE,EAAKqE,kBA7BPC,GA6BEtE,EAAKsE,iBA5BPC,GA4BEvE,EAAKuE,iCA3BPC,GA2BExE,EAAKwE,iCA1BPC,GA0BEzE,EAAKyE,cAzBPC,GAyBE1E,EAAK0E,SAxBPC,GAwBE3E,EAAK2E,eAvBPC,GAuBE5E,EAAK4E,iBAtBPC,GAsBE7E,EAAK6E,aArBPC,GAqBE9E,EAAK8E,aApBPC,GAoBE/E,EAAK+E,iBAnBPC,GAmBEhF,EAAKgF,YAlBPC,GAkBEjF,EAAKiF,YAjBPC,GAiBElF,EAAKkF,UAhBPC,GAgBEnF,EAAKmF,YAfPC,GAeEpF,EAAKoF,WAdPC,GAcErF,EAAKqF,cAbPC,GAaEtF,EAAKsF,iBAZPC,GAYEvF,EAAKuF,iBAXPC,GAWExF,EAAKwF,qBAVPC,GAUEzF,EAAKyF,cATPC,GASE1F,EAAK0F,WARPC,GAQE3F,EAAK2F,2BAPPC,GAOE5F,EAAK4F,0BANPC,GAME7F,EAAK6F,aALPC,GAKE9F,EAAK8F,oBAJPC,GAIE/F,EAAK+F,QAHPC,GAGEhG,EAAKgG,aAFPC,GAEEjG,EAAKiG,sBADPC,GACElG,EAAKkG,Y,IAKIC,GAAQC,EAAA,uB,2ZAoEnBtK,KAAAuK,4BAAuC,KACvCvK,KAAAwK,2BAAsC,KA2DtCxK,KAAAyK,QAAmB,KAKnBzK,KAAA0K,eAA0B,MAC1B1K,KAAA2K,wBAAmC,MACnC3K,KAAA4K,sBAAiC,MACjC5K,KAAA6K,gBAA2B,MAC3B7K,KAAA8K,mBAA8B,MAC9B9K,KAAA+K,wBAAmC,MACnC/K,KAAAgL,iBAA4B,MAC5BhL,KAAAiL,gBAA2B,MAC3BjL,KAAAkL,kBAA6B,MAC7BlL,KAAAmL,mBAA8B,MAC9BnL,KAAAoL,uBAAkC,MAClCpL,KAAAqL,sBAAiC,MACjCrL,KAAAsL,uBAAkC,MAClCtL,KAAAuL,mBAA8B,MAC9BvL,KAAAwL,mBAA8B,MAC9BxL,KAAAyL,uBAAkC,MAClCzL,KAAA0L,2BAAsC,MACtC1L,KAAA2L,8BAAyC,MACzC3L,KAAA4L,0BAAqC,MACrC5L,KAAA6L,2BAAsC,MACtC7L,KAAA8L,sBAAiC,MACjC9L,KAAA+L,wBAAmC,MACnC/L,KAAAgM,wBAAmC,MACnChM,KAAAiM,2BAAsC,MACtCjM,KAAAkM,sBAAiC,MACjClM,KAAAmM,sBAAiC,MACjCnM,KAAAoM,mBAA8B,MAC9BpM,KAAAqM,+BAA0C,MAC1CrM,KAAAsM,iCAA4C,MAC5CtM,KAAAuM,oCAA+C,MAC/CvM,KAAAwM,2CAAsD,MACtDxM,KAAAyM,4CAAuD,MACvDzM,KAAA0M,4CAAuD,MACvD1M,KAAA2M,0CAAqD,MACrD3M,KAAA4M,gCAA2C,MAC3C5M,KAAA6M,yCAAoD,MACpD7M,KAAA8M,4BAAuC,MACvC9M,KAAA+M,sCAAiD,MACjD/M,KAAAgN,iCAA4C,MAC5ChN,KAAAiN,mCAA8C,MAC9CjN,KAAAkN,mCAA8C,MAC9ClN,KAAAmN,oBAA+B,MAC/BnN,KAAAoN,mBAA8B,MAC9BpN,KAAAqN,iCAA4C,MAC5CrN,KAAAsN,iCAA4C,MAC5CtN,KAAAuN,kBAA6B,MAC7BvN,KAAAwN,iBAA4B,MAC5BxN,KAAAyN,4BAAuC,MACvCzN,KAAA0N,QAAe,GACf1N,KAAA2N,SAAmB,KACnB3N,KAAA4N,YAAsB,IAgzCtB5N,KAAA6N,qBAAuB,SAAC9R,EAAGqH,EAAGC,EAAGyK,GAC/B,IAAMC,EAAYD,GAAsBE,EAAK1H,UAAUyH,UACvD,IAAME,EACJD,EAAKrH,gBACLqH,EAAKrH,eAAejE,OAAS,GAC7BqG,GAAahN,EAAEoH,KAAM6K,EAAKrH,eAAgBqH,EAAKE,uBAC/CF,EAAK/H,WAAWkI,MACZvE,GAAWoE,EAAK/H,WAAWkI,QAAUH,EAAK/H,WAAWkI,MACrDH,EAAKI,gBACLpF,GAAajN,EAAEoH,KAAM6K,EAAKI,eAAgBJ,EAAKE,uBAC/CF,EAAKhI,WAAWmI,MAChBvE,GAAWoE,EAAKhI,WAAWmI,QAAUH,EAAKhI,WAAWmI,MACrDH,EAAKK,eAAejL,GAE1B,IAAM+K,EAAQJ,IAAc,SAAWpF,GAAcsF,GAAWrE,GAAW0E,UAC3E,IAAMC,EAAKC,EAAOnL,EAAED,IACpBmL,EAAGE,KACD,UACCF,EAAGG,QAAQ,gBACRxH,EAAuB,CACrByH,KAAMX,EAAKY,IAAIC,OACfC,GAAId,EAAKe,QACTZ,MAAOJ,IAAc,SAAWE,EAAU,YAE5C,MAEN,OAAOE,C,oBAt/CkDhK,EAAsBc,a,eACpCd,EAAsBC,U,cACPD,EAAsBE,S,iBACnCF,EAAsBI,Y,oBACnBJ,EAAsBK,e,YAC9BL,EAAsBM,O,WACvBN,EAAsBO,M,yBACCP,EAAsBwB,oB,YAErCxB,EAAsBQ,O,aACrBR,EAAsBa,Q,iEAKrBb,EAAsBe,gB,mBACxBf,EAAsBgB,c,eAC1BhB,EAAsB2B,U,kBAGnB3B,EAAsByB,a,sCAExBzB,EAAsBiB,W,kBACnBjB,EAAsBkB,a,gBAChBlB,EAAsB6B,W,gBACtB7B,EAAsB8B,W,oBACd9B,EAAsB+B,e,YAC3C/B,EAAsBiC,O,kBAChBjC,EAAsBgC,a,qBACThC,EAAsBuB,gB,oBAGhCvB,EAAsBmB,e,iBACzBnB,EAAsBkC,Y,mBACpBlC,EAAsBoB,c,iBACzBpB,EAAsBqB,Y,eAChBrB,EAAsBmC,U,8CAEhBnC,EAAsBqC,a,mBACpBrC,EAAsBsB,c,iBAClCtB,EAAsBsC,Y,iDAMpBtC,EAAsBuC,e,kDAErBvC,EAAsBwC,e,6CAI9C,K,CA4H5BqI,EAAAC,UAAAC,aAAA,SAAaC,EAASC,GACpBpP,KAAK0K,eAAiB,KACtB1K,KAAKqM,+BAAiC,KACtCrM,KAAKsM,iCAAmC,KACxCtM,KAAK4M,gCAAkC,I,EAIzCoC,EAAAC,UAAAI,gBAAA,SAAgBF,EAASC,GACvBpP,KAAKkL,kBAAoB,KACzBlL,KAAKuM,oCAAsC,KAC3CvM,KAAK4M,gCAAkC,I,EAIzCoC,EAAAC,UAAAK,eAAA,SAAeH,EAASC,GACtBpP,KAAKmN,oBAAsB,KAC3BnN,KAAKoN,mBAAqB,KAC1BpN,KAAKqN,iCAAmC,KACxCrN,KAAKsN,iCAAmC,KACxCtN,KAAKqM,+BAAiC,KACtCrM,KAAKkL,kBAAoB,KACzBlL,KAAKsM,iCAAmC,KACxCtM,KAAKuM,oCAAsC,KAC3CvM,KAAKwM,2CAA6C,KAClDxM,KAAKkN,mCAAqC,KAC1ClN,KAAKyM,4CAA8C,KACnDzM,KAAKiN,mCAAqC,KAC1CjN,KAAK0M,4CAA8C,KACnD1M,KAAK2M,0CAA4C,I,EAKnDqC,EAAAC,UAAAM,mBAAA,SAAmBJ,EAASC,GAC1BpP,KAAK2K,wBAA0B,I,EAOjCqE,EAAAC,UAAAO,cAAA,SAAcL,EAASC,GACrBpP,KAAKuL,mBAAqB,KAC1BvL,KAAKgL,iBAAmB,KACxBhL,KAAK6K,gBAAkB,KACvB7K,KAAKoL,uBAAyB,KAC9BpL,KAAKoM,mBAAqB,KAC1BpM,KAAKwL,mBAAqB,KAC1BxL,KAAK4L,0BAA4B,KACjC5L,KAAK8L,sBAAwB,KAC7B9L,KAAK8K,mBAAqB,KAC1B9K,KAAKqL,sBAAwB,KAC7BrL,KAAK0L,2BAA6B,KAClC1L,KAAK+K,wBAA0B,I,EAIjCiE,EAAAC,UAAAQ,YAAA,SAAYN,EAASC,GACnBpP,KAAKyK,QAAU,KACfzK,KAAKgL,iBAAmB,KACxBhL,KAAK4L,0BAA4B,KACjC5L,KAAK6L,2BAA6B,KAClC7L,KAAK8L,sBAAwB,KAC7B9L,KAAKiM,2BAA6B,KAClCjM,KAAK4K,sBAAwB,KAC7B5K,KAAK0K,eAAiB,KACtB1K,KAAKoL,uBAAyB,KAC9BpL,KAAKqL,sBAAwB,KAC7BrL,KAAK8K,mBAAqB,KAC1B9K,KAAK0L,2BAA6B,KAClC1L,KAAK+K,wBAA0B,KAC/B/K,KAAK6M,yCAA2C,KAChD7M,KAAK8M,4BAA8B,KACnC9M,KAAKuN,kBAAoB,KACzBvN,KAAKwN,iBAAmB,KACxBxN,KAAKiL,gBAAkB,KACvBjL,KAAKmM,sBAAwB,I,EAI/B6C,EAAAC,UAAAS,UAAA,SAAUC,EAAQP,GAChBQ,QAAQC,MACN,+CACET,EACA,aACAO,EACA,4D,EAcNX,EAAAC,UAAAa,uBAAA,SAAuBX,EAASC,GAC9BpP,KAAK0K,eAAiB,KACtB1K,KAAKgL,iBAAmB,KACxBhL,KAAK4L,0BAA4B,KACjC5L,KAAK4K,sBAAwB,KAC7B5K,KAAKoL,uBAAyB,KAC9BpL,KAAKiM,2BAA6B,KAClCjM,KAAKqL,sBAAwB,KAC7BrL,KAAK0L,2BAA6B,KAClC1L,KAAK8M,4BAA8B,KACnC9M,KAAKkM,sBAAwB,KAC7BlM,KAAKmM,sBAAwB,KAC7BnM,KAAKuN,kBAAoB,KACzBvN,KAAKwN,iBAAmB,KACxB,KAAMxN,KAAK+P,iBAAmB/P,KAAK+P,gBAAgBrN,QAAS,CAC1D1C,KAAK2L,8BAAgC,KACrC3L,KAAKgM,wBAA0B,I,GAKnCgD,EAAAC,UAAAe,qBAAA,SAAqBb,EAASC,GAC5BpP,KAAK0K,eAAiB,KACtB1K,KAAKgL,iBAAmB,KACxBhL,KAAKoM,mBAAqB,KAC1BpM,KAAK4L,0BAA4B,KACjC5L,KAAK4K,sBAAwB,KAC7B5K,KAAKoL,uBAAyB,KAC9BpL,KAAKqL,sBAAwB,KAC7BrL,KAAKiM,2BAA6B,KAClCjM,KAAKkM,sBAAwB,KAC7BlM,KAAKmM,sBAAwB,KAC7BnM,KAAK8K,mBAAqB,KAC1B9K,KAAK0L,2BAA6B,KAClC1L,KAAK+K,wBAA0B,KAC/B/K,KAAK8M,4BAA8B,I,EAIrCkC,EAAAC,UAAAgB,YAAA,SAAYd,EAASC,GACnBpP,KAAKyK,QAAU,KACfzK,KAAKgL,iBAAmB,KACxBhL,KAAK4L,0BAA4B,KACjC5L,KAAK6L,2BAA6B,KAClC7L,KAAK8L,sBAAwB,KAC7B9L,KAAKiM,2BAA6B,KAClCjM,KAAK4K,sBAAwB,KAC7B5K,KAAKoL,uBAAyB,KAC9BpL,KAAKqL,sBAAwB,KAC7BrL,KAAK8K,mBAAqB,KAC1B9K,KAAK0L,2BAA6B,KAClC1L,KAAK+K,wBAA0B,KAC/B/K,KAAK6M,yCAA2C,KAChD7M,KAAK8M,4BAA8B,I,EAIrCkC,EAAAC,UAAAiB,eAAA,SAAef,EAASC,GACtBpP,KAAKiL,gBAAkB,KACvBjL,KAAKiM,2BAA6B,KAClCjM,KAAKmM,sBAAwB,KAC7BnM,KAAKuN,kBAAoB,KACzBvN,KAAKwN,iBAAmB,I,EAI1BwB,EAAAC,UAAAkB,cAAA,SAAchB,EAASC,GACrBpP,KAAKiL,gBAAkB,KACvBjL,KAAKiM,2BAA6B,KAClCjM,KAAKmM,sBAAwB,KAC7BnM,KAAKuN,kBAAoB,KACzBvN,KAAKwN,iBAAmB,I,EAI1BwB,EAAAC,UAAAmB,kBAAA,SAAkBjB,EAASC,GACzBpP,KAAKwL,mBAAqB,KAC1BxL,KAAKgL,iBAAmB,KACxBhL,KAAKsL,uBAAyB,KAC9BtL,KAAKoL,uBAAyB,KAC9BpL,KAAKqL,sBAAwB,KAC7BrL,KAAK0L,2BAA6B,I,EAIpCsD,EAAAC,UAAAoB,oBAAA,SAAoBlB,EAASC,GAC3BpP,KAAKqL,sBAAwB,I,EAI/B2D,EAAAC,UAAAqB,iBAAA,SAAiBnB,EAASC,GACxBpP,KAAK0L,2BAA6B,I,EAIpCsD,EAAAC,UAAAsB,oBAAA,SAAoBpB,EAASC,GAC3BpP,KAAKiM,2BAA6B,KAClCjM,KAAKmM,sBAAwB,KAC7BnM,KAAKkM,sBAAwB,I,EAI/B8C,EAAAC,UAAAuB,cAAA,SAAcrB,EAASC,GACrBpP,KAAKmL,mBAAqB,I,EAI5B6D,EAAAC,UAAAwB,sBAAA,SAAsBtB,EAASC,GAC7BpP,KAAK8K,mBAAqB,KAC1B9K,KAAK8M,4BAA8B,KACnC9M,KAAK4K,sBAAwB,I,EAI/BoE,EAAAC,UAAAyB,mBAAA,SAAmBvB,EAASC,GAC1BpP,KAAKiM,2BAA6B,I,EAIpC+C,EAAAC,UAAA0B,oBAAA,SAAoBxB,EAASC,GAC3BpP,KAAK0K,eAAiB,KACtB1K,KAAK4K,sBAAwB,KAC7B5K,KAAK4M,gCAAkC,KACvC5M,KAAK8M,4BAA8B,I,EAIrCkC,EAAAC,UAAA2B,aAAA,SAAazB,EAASC,GACpBpP,KAAK8K,mBAAqB,KAC1B9K,KAAK0K,eAAiB,KACtB1K,KAAK4K,sBAAwB,KAC7B,IAAMiG,EAAkB1B,GAAWA,EAAQpB,UAAYoB,EAAQpB,UAAY,MAC3E,IAAM+C,EAAkB1B,GAAWA,EAAQrB,UAAYqB,EAAQrB,UAAY,MAC3E,IAAMgD,EAAgB5B,GAAWA,EAAQ6B,QACzC,IAAMC,EAAgB7B,GAAWA,EAAQ4B,QACzC,GAAID,IAAkBE,EAAe,CACnCjR,KAAKkM,sBAAwB,I,CAE/B,GAAI2E,IAAoBC,EAAiB,CACvC9Q,KAAKkM,sBAAwB,KAC7BlM,KAAKmM,sBAAwB,I,GAKjC6C,EAAAC,UAAAiC,iBAAA,SAAiB/B,EAASC,GACxBpP,KAAKkM,sBAAwB,KAC7BlM,KAAK8K,mBAAqB,I,EAI5BkE,EAAAC,UAAAkC,mBAAA,SAAmBhC,EAASC,GAC1BpP,KAAK8K,mBAAqB,I,EAI5BkE,EAAAC,UAAAmC,oBAAA,SAAoBjC,EAASC,GAC3BpP,KAAK0K,eAAiB,KAGtB,IAAM2G,EAAclC,GAAWA,EAAQmC,SAAWnC,EAAQmC,SAAW,MACrE,IAAMC,EAAcnC,GAAWA,EAAQkC,SAAWlC,EAAQkC,SAAW,MACrE,GAAID,IAAgBE,EAAa,CAC/BvR,KAAKyN,4BAA8B,KACnCzN,KAAK4K,sBAAwB,KAC7B5K,KAAKmM,sBAAwB,KAC7BnM,KAAKmN,oBAAsB,KAC3BnN,KAAKqM,+BAAiC,KACtCrM,KAAKqN,iCAAmC,KACxCrN,KAAKqM,+BAAiC,KACtCrM,KAAK8M,4BAA8B,KACnC9M,KAAK4M,gCAAkC,I,CAIzC,IAAM4E,EAAmBrC,GAAWA,EAAQsC,cAAgBtC,EAAQsC,cAAgB,MACpF,IAAMC,EAAmBtC,GAAWA,EAAQqC,cAAgBrC,EAAQqC,cAAgB,MACpF,GAAID,IAAqBE,EAAkB,CACzC1R,KAAKyN,4BAA8B,KACnCzN,KAAK4K,sBAAwB,KAC7B5K,KAAKmM,sBAAwB,KAC7BnM,KAAKmN,oBAAsB,KAC3BnN,KAAKqM,+BAAiC,KACtCrM,KAAKqN,iCAAmC,KACxCrN,KAAKqM,+BAAiC,KACtCrM,KAAK8M,4BAA8B,KACnC9M,KAAK4M,gCAAkC,I,GAK3CoC,EAAAC,UAAA0C,qBAAA,SAAqBxC,EAASC,GAC5BpP,KAAK0K,eAAiB,KACtB,IAAMkH,EAAWzC,GAAWA,EAAQ0C,MAAQ1C,EAAQ0C,MAAQ,MAC5D,IAAMC,EAAW1C,GAAWA,EAAQyC,MAAQzC,EAAQyC,MAAQ,MAC5D,GAAID,IAAaE,EAAU,CACzB9R,KAAKqM,+BAAiC,KACtCrM,KAAKsM,iCAAmC,KACxCtM,KAAK4M,gCAAkC,I,CAEzC,IAAMmF,EAAsB5C,GAAWA,EAAQ6C,iBAAmB7C,EAAQ6C,iBAAmB,MAC7F,IAAMC,EAAsB7C,GAAWA,EAAQ4C,iBAAmB5C,EAAQ4C,iBAAmB,MAC7F,GAAID,IAAwBE,EAAqB,CAC/CjS,KAAKyM,4CAA8C,I,CAErD,IAAMyF,EAAa/C,GAAWA,EAAQgD,QAAUhD,EAAQgD,QAAU,MAClE,IAAMC,EAAahD,GAAWA,EAAQ+C,QAAU/C,EAAQ+C,QAAU,MAClE,GAAID,IAAeE,EAAY,CAC7BpS,KAAKiN,mCAAqC,I,CAE5C,IAAMoF,EAAqBlD,GAAWA,EAAQmD,gBAAkBnD,EAAQmD,gBAAkB,MAC1F,IAAMC,EAAqBnD,GAAWA,EAAQkD,gBAAkBlD,EAAQkD,gBAAkB,MAC1F,GAAID,IAAuBE,EAAoB,CAC7CvS,KAAKwM,2CAA6C,I,CAEpD,IAAMgG,EAAarD,GAAWA,EAAQsD,mBAAqBtD,EAAQsD,mBAAqB,MACxF,IAAMC,EAAatD,GAAWA,EAAQqD,mBAAqBrD,EAAQqD,mBAAqB,MACxF,GAAID,IAAeE,EAAY,CAC7B1S,KAAKkN,mCAAqC,I,CAE5C,IAAMyF,EAAsBxD,GAAWA,EAAQyD,iBAAmBzD,EAAQyD,iBAAmB,MAC7F,IAAMC,EAAsBzD,GAAWA,EAAQwD,iBAAmBxD,EAAQwD,iBAAmB,MAC7F,GAAID,IAAwBE,EAAqB,CAC/C7S,KAAK0M,4CAA8C,I,CAErD,IAAMoG,EAAoB3D,GAAWA,EAAQ4D,eAAiB5D,EAAQ4D,eAAiB,MACvF,IAAMC,EAAoB5D,GAAWA,EAAQ2D,eAAiB3D,EAAQ2D,eAAiB,MACvF,GAAID,IAAsBE,EAAmB,CAC3ChT,KAAK2M,0CAA4C,I,CAEnD,IAAMsG,EAAyB9D,GAAWA,EAAQ+D,oBAClD,IAAMC,EAAyB/D,GAAWA,EAAQ8D,oBAClD,IAAME,EACJjE,GAAWA,EAAQkE,2BAA6BlE,EAAQkE,2BAA6B,MACvF,IAAMC,EACJlE,GAAWA,EAAQiE,2BAA6BjE,EAAQiE,2BAA6B,MACvF,GACEJ,IAA2BE,GAC3BC,IAAkCE,EAClC,CACA,GAAIL,IAA2BE,EAAwB,CAGrDnT,KAAKgN,iCAAmC,I,CAE1ChN,KAAK8M,4BAA8B,KACnC9M,KAAK4M,gCAAkC,I,CAEzC,IAAM2G,EAAcpE,GAAWA,EAAQqE,aAAerE,EAAQqE,aAAe,MAC7E,IAAMC,EAAcrE,GAAWA,EAAQoE,aAAepE,EAAQoE,aAAe,MAC7E,GAAID,IAAgBE,EAAa,CAC/BzT,KAAKuN,kBAAoB,KACzBvN,KAAKiM,2BAA6B,I,CAEpC,IAAMyH,EAAgBvE,GAAWA,EAAQwE,gBAAkBxE,EAAQwE,gBAAkB,MACrF,IAAMC,EAAgBxE,GAAWA,EAAQuE,gBAAkBvE,EAAQuE,gBAAkB,MACrF,GAAID,IAAkBE,EAAe,CACnC5T,KAAKkM,sBAAwB,I,CAE/B,IAAM2H,EAAa1E,GAAWA,EAAQ2E,YAAc3E,EAAQ2E,YAAc,MAC1E,IAAMC,EAAa3E,GAAWA,EAAQ0E,YAAc1E,EAAQ0E,YAAc,MAC1E,GAAID,IAAeE,EAAY,CAC7B/T,KAAKwN,iBAAmB,KACxBxN,KAAKiM,2BAA6B,I,CAEpC,IAAM+H,EACJ7E,GAAWA,EAAQ8E,mBAAqB9E,EAAQ8E,kBAAkBC,SAC9D/E,EAAQ8E,kBAAkBC,SAC1B,MACN,IAAMC,EACJ/E,GAAWA,EAAQ6E,mBAAqB7E,EAAQ6E,kBAAkBC,SAC9D9E,EAAQ6E,kBAAkBC,SAC1B,MACN,IAAME,EAAejF,GAAWA,EAAQkF,qBAAuBlF,EAAQkF,qBAAuB,MAC9F,IAAMC,EAAelF,GAAWA,EAAQiF,qBAAuBjF,EAAQiF,qBAAuB,MAC9F,GAAIL,IAAcG,GAAaC,IAAiBE,EAAc,CAC5DtU,KAAK8M,4BAA8B,KACnC9M,KAAK4M,gCAAkC,KACvC5M,KAAKqM,+BAAiC,KACtCrM,KAAKmN,oBAAsB,KAC3BnN,KAAKsM,iCAAmC,KACxCtM,KAAKuM,oCAAsC,KAC3CvM,KAAKwM,2CAA6C,KAClDxM,KAAKkN,mCAAqC,KAC1ClN,KAAKyM,4CAA8C,KACnDzM,KAAKiN,mCAAqC,KAC1CjN,KAAK0M,4CAA8C,KACnD1M,KAAK2M,0CAA4C,I,CAEnD,GAAIyH,IAAiBE,EAAc,CACjCtU,KAAKgM,wBAA0B,I,GAKnCgD,EAAAC,UAAAsF,mBAAA,SAAmBpF,EAASC,GAC1BpP,KAAK0K,eAAiB,KACtB1K,KAAK+K,wBAA0B,KAC/B/K,KAAKsN,iCAAmC,I,EAI1C0B,EAAAC,UAAAuF,qBAAA,SAAqBrF,EAASC,GAC5BpP,KAAK0K,eAAiB,KACtB1K,KAAK0L,2BAA6B,KAClC1L,KAAK4K,sBAAwB,KAC7B5K,KAAKsN,iCAAmC,I,EAI1C0B,EAAAC,UAAAwF,gBAAA,SAAgBtF,EAASC,GACvBpP,KAAK+L,wBAA0B,KAC/B/L,KAAKmL,mBAAqB,KAC1BnL,KAAK8M,4BAA8B,KACnC9M,KAAK4M,gCAAkC,KACvC5M,KAAKqM,+BAAiC,KACtCrM,KAAKmN,oBAAsB,KAC3BnN,KAAK0K,eAAiB,KACtB1K,KAAKkL,kBAAoB,KACzBlL,KAAKsM,iCAAmC,KACxCtM,KAAKuM,oCAAsC,KAC3CvM,KAAKwM,2CAA6C,KAClDxM,KAAKkN,mCAAqC,KAC1ClN,KAAKyM,4CAA8C,KACnDzM,KAAKiN,mCAAqC,KAC1CjN,KAAK0M,4CAA8C,KACnD1M,KAAK2M,0CAA4C,I,EAInDqC,EAAAC,UAAAyF,kBAAA,SAAkBvF,EAASC,GACzBpP,KAAKiM,2BAA6B,KAClCjM,KAAKmM,sBAAwB,KAC7BnM,KAAKkM,sBAAwB,KAC7BlM,KAAKwN,iBAAmB,I,EAG1BwB,EAAAC,UAAA0F,kBAAA,SAAkBxF,EAASC,GACzBpP,KAAKiM,2BAA6B,KAClCjM,KAAKmM,sBAAwB,KAC7BnM,KAAKkM,sBAAwB,KAC7BlM,KAAKwN,iBAAmB,I,EAI1BwB,EAAAC,UAAA2F,aAAA,SAAazF,EAASC,GACpBpP,KAAKiM,2BAA6B,KAClCjM,KAAKmM,sBAAwB,KAC7BnM,KAAKkM,sBAAwB,KAC7BlM,KAAKgM,wBAA0B,I,EAIjCgD,EAAAC,UAAA4F,aAAA,SAAa1F,EAASC,GACpBpP,KAAKiM,2BAA6B,KAClCjM,KAAKmM,sBAAwB,KAC7BnM,KAAKkM,sBAAwB,I,EAI/B8C,EAAAC,UAAA6F,mBAAA,SAAmB3F,EAASC,GAC1BpP,KAAK2L,8BAAgC,KACrC3L,KAAKiM,2BAA6B,KAClCjM,KAAKmM,sBAAwB,KAC7BnM,KAAKkM,sBAAwB,KAC7BlM,KAAKgM,wBAA0B,KAC/BhM,KAAK8M,4BAA8B,KACnC9M,KAAK4K,sBAAwB,I,EAI/BoE,EAAAC,UAAA8F,oBAAA,SAAoB5F,EAASC,GAC3BpP,KAAK4M,gCAAkC,KACvC5M,KAAKgN,iCAAmC,KACxChN,KAAK8M,4BAA8B,KACnC9M,KAAK4K,sBAAwB,I,EAI/BoE,EAAAC,UAAA+F,gBAAA,SAAgB7F,EAASC,GACvBpP,KAAK6L,2BAA6B,I,EAGpCmD,EAAAC,UAAAgG,kBAAA,eAAAjH,EAAAhO,KACE,IAAM+O,EAAU/O,KAAKkV,UAAY,aAAeC,IAChDnV,KAAKoV,iBAAiBC,KAAK,CAAEtG,QAASA,IAItC,OAAO,IAAIuG,SAAQ,SAAAC,GACjBvH,EAAKwH,SAAW,EAChBxH,EAAKe,QAAUA,EACff,EAAKyH,WAAW3G,GAAKd,EAAKe,QAC1Bf,EAAK0H,wBACL1H,EAAK2H,eACL3H,EAAK4H,gBACL5H,EAAK6H,cACL7H,EAAK8H,gBACL9H,EAAK+H,eACL/H,EAAKgI,0BACLhI,EAAKiI,eACLjI,EAAKkI,mCACLlI,EAAKmI,kCACLnI,EAAKoI,YACLb,EAAQ,sB,KAIZvG,EAAAC,UAAAoH,oBAAA,WAIE,OAAO,IAAIf,SAAQ,SAAAC,GACjBA,EAAQ,wB,KAIZvG,EAAAC,UAAAqH,iBAAA,eAAAtI,EAAAhO,KACE,OAAO,IAAIsV,SAAQ,SAAAC,GACjBvH,EAAKuI,SAAW,KAChBvI,EAAKkI,mCACLlI,EAAKmI,kCACLnI,EAAKwI,qBACLxI,EAAKyI,yBACLzI,EAAK0I,6BACL1I,EAAK2I,6BACL3I,EAAK4I,gCACL5I,EAAK6I,uCACL7I,EAAK8I,wCACL9I,EAAK+I,+BACL/I,EAAKgJ,+BACLhJ,EAAKiJ,wCACLjJ,EAAKkJ,sCACLlJ,EAAKmJ,4BACLnJ,EAAKoJ,YACLpJ,EAAKqJ,cACLrJ,EAAKsJ,aACLtJ,EAAKuJ,sBACLvJ,EAAKwJ,sBACLxJ,EAAKyJ,uBACLzJ,EAAKoI,YACLpI,EAAK0J,gBACL1J,EAAK2J,kBACL3J,EAAK4J,mBACL5J,EAAK6J,iBACL7J,EAAK8J,YAAY,UACjB9J,EAAK+J,aAAa,UAClB/J,EAAKgK,WAAW,UAChBhK,EAAKiK,gBACLjK,EAAKkK,eAAe,SACpBlK,EAAKmK,eACLnK,EAAK8J,YAAY,aACjB9J,EAAK+J,aAAa,aAClB/J,EAAKgK,WAAW,aAChBhK,EAAKoK,iBACLpK,EAAKqK,eACLrK,EAAKsK,qBACLtK,EAAKuK,kBACLvK,EAAKwK,eAAe,UACpBxK,EAAKwK,eAAe,aACpBxK,EAAKyK,6BACLzK,EAAK0K,qCACL1K,EAAK2K,wBACL3K,EAAK4K,mBAIL5K,EAAK6K,eACL7K,EAAK8K,oBACL9K,EAAK+K,kBACL/K,EAAKgL,6BACLhL,EAAKiL,kBACLrR,GAAuBoG,EAAKW,KAAKE,OAAQb,EAAKkL,KAAKrK,QACnDb,EAAKmL,kCACLnL,EAAKoL,0BACLpL,EAAKuI,SAAW,MAChBhB,EAAQ,qB,IACP8D,MAAK,WAAM,OAAArL,EAAKsL,oBAAoBjE,KAAK,CAAEtG,QAASf,EAAKe,SAA9C,G,EAGhBC,EAAAC,UAAAsK,mBAAA,eAAAvL,EAAAhO,KACE,OAAO,IAAIsV,SAAQ,SAAAC,GACjBvH,EAAKwH,UAAYxH,EAAKtI,kBAAoBsI,EAAKtI,gBAAgBwO,SAAW,IAAM,EAChF,GAAIlG,EAAK3B,+BAAgC,CACvC2B,EAAK0I,6BACL1I,EAAK3B,+BAAiC,K,CAExC,GAAI2B,EAAKX,iCAAkC,CACzCW,EAAKyK,6BACLzK,EAAKX,iCAAmC,K,CAE1C,GAAIW,EAAK1B,iCAAkC,CACzC0B,EAAK2I,6BACL3I,EAAK1B,iCAAmC,K,CAE1C,GAAI0B,EAAKzB,oCAAqC,CAC5CyB,EAAK4I,gCACL5I,EAAKzB,oCAAsC,K,CAE7C,GAAIyB,EAAKxB,2CAA4C,CACnDwB,EAAK6I,uCACL7I,EAAKxB,2CAA6C,K,CAEpD,GAAIwB,EAAKvB,4CAA6C,CACpDuB,EAAK8I,wCACL9I,EAAKvB,4CAA8C,K,CAErD,GAAIuB,EAAKf,mCAAoC,CAC3Ce,EAAK+I,+BACL/I,EAAKf,mCAAqC,K,CAE5C,GAAIe,EAAKd,mCAAoC,CAC3Cc,EAAKgJ,+BACLhJ,EAAKd,mCAAqC,K,CAE5C,GAAIc,EAAKtB,4CAA6C,CACpDsB,EAAKiJ,wCACLjJ,EAAKtB,4CAA8C,K,CAErD,GAAIsB,EAAKrB,0CAA2C,CAClDqB,EAAKkJ,sCACLlJ,EAAKrB,0CAA4C,K,CAEnD,GAAIqB,EAAKpB,gCAAiC,CACxCoB,EAAKmJ,4BACLnJ,EAAKpB,gCAAkC,K,CAEzC,GAAIoB,EAAKnD,gBAAiB,CACxBmD,EAAKoJ,YACLpJ,EAAKnD,gBAAkB,K,CAEzB,GAAImD,EAAKT,kBAAmB,CAC1BS,EAAKqJ,cACLrJ,EAAKT,kBAAoB,K,CAE3B,GAAIS,EAAKR,iBAAkB,CACzBQ,EAAKsJ,aACLtJ,EAAKR,iBAAmB,K,CAE1B,GAAIQ,EAAKpC,0BAA2B,CAClCoC,EAAKwJ,sBACLxJ,EAAKpC,0BAA4B,K,CAEnC,GAAIoC,EAAKnC,2BAA4B,CACnCmC,EAAKyJ,uBACLzJ,EAAKnC,2BAA6B,K,CAEpC,GAAImC,EAAK9C,kBAAmB,CAC1B8C,EAAKuJ,sBACLvJ,EAAK9C,kBAAoB,K,CAE3B,GAAI8C,EAAKlC,sBAAuB,CAC9BkC,EAAK2J,kBACL3J,EAAK4J,mBACL5J,EAAK6J,iBACL7J,EAAKiK,gBACLjK,EAAKkK,eAAe,SACpBlK,EAAKmK,eACLnK,EAAK8J,YAAY,UACjB9J,EAAK+J,aAAa,UAClB/J,EAAKgK,WAAW,UAChBhK,EAAK8J,YAAY,aACjB9J,EAAK+J,aAAa,aAClB/J,EAAKgK,WAAW,aAChBhK,EAAKlC,sBAAwB,K,CAE/B,GAAIkC,EAAKtC,2BAA4B,CACnCsC,EAAKsK,qBACLtK,EAAKtC,2BAA6B,K,CAEpC,GAAIsC,EAAK5C,uBAAwB,CAC/B4C,EAAKoK,iBACLpK,EAAK5C,uBAAyB,K,CAEhC,GAAI4C,EAAK3C,sBAAuB,CAC9B2C,EAAKkK,eAAe,SACpBlK,EAAKqK,eACLrK,EAAK3C,sBAAwB,K,CAE/B,GAAI2C,EAAKrD,wBAAyB,CAChCqD,EAAKuK,kBACLvK,EAAKrD,wBAA0B,K,CAEjC,GAAIqD,EAAKlD,mBAAoB,CAC3BkD,EAAKwK,eAAe,UACpBxK,EAAKwK,eAAe,aACpBxK,EAAKlD,mBAAqB,K,CAE5B,GAAIkD,EAAKnB,yCAA0C,CACjDmB,EAAK0K,qCACL1K,EAAKnB,yCAA2C,K,CAElD,GAAImB,EAAKlB,4BAA6B,CACpCkB,EAAK2K,wBACL3K,EAAKlB,4BAA8B,K,CAErC,GAAIkB,EAAKhB,iCAAkC,CACzCgB,EAAKoL,0BACLpL,EAAKhB,iCAAmC,K,CAE1C,GAAIgB,EAAK/B,2BAA4B,CACnC+B,EAAKwL,yBACLxL,EAAK/B,2BAA6B,K,CAEpC,GAAI+B,EAAK9B,sBAAuB,CAC9B8B,EAAKyL,kBACLzL,EAAK9B,sBAAwB,K,CAE/B,GAAI8B,EAAK7B,sBAAuB,CAC9B6B,EAAK0L,iCAAiC,UACtC1L,EAAK0L,iCAAiC,aACtC1L,EAAK7B,sBAAwB,K,CAE/B,GAAI6B,EAAKhC,wBAAyB,CAChCgC,EAAK4K,mBACL5K,EAAKhC,wBAA0B,K,CAEjC,GAAIgC,EAAK7C,mBAAoB,CAC3B6C,EAAK6K,eACL7K,EAAK7C,mBAAqB,K,CAE5B,GAAI6C,EAAKjC,wBAAyB,CAChCiC,EAAK8K,oBACL9K,EAAKjC,wBAA0B,K,CAEjC,GAAIiC,EAAKjD,wBAAyB,CAChCiD,EAAK+K,kBACL/K,EAAKjD,wBAA0B,K,CAEjC,GAAIiD,EAAKV,iCAAkC,CACzCU,EAAKgL,6BACLhL,EAAKV,iCAAmC,K,CAE1CU,EAAKiL,kBACL1D,EAAQ,uB,IACP8D,MAAK,WAAM,OAAArL,EAAK2L,aAAatE,KAAK,CAAEtG,QAASf,EAAKe,SAAvC,G,EAGhBC,EAAAC,UAAAkH,gCAAA,WACE,IAAMyD,EAAkB9S,IACxB,IAAM+S,EAAiBD,EAAgBE,QAAQxI,SAC/C,IAAMyI,EAAiBH,EAAgBE,QAAQE,kBAAkBH,GACjE,IAAMI,EAAgBL,EAAgBM,QAAQC,aAC9C,GAAIna,KAAKwK,6BAA+BxK,KAAKiF,aAAamV,eAAgB,CACxEpa,KAAKwK,2BAA6B,MAClCV,GAA0B9J,KAAK+O,QAAOsL,OAAAC,OAAAD,OAAAC,OAAA,GACjCta,KAAKiF,cAAY,CACpBqM,SAAUyI,EACVtI,cAAewI,I,GAKrBjL,EAAAC,UAAAiH,iCAAA,WACE,GAAIlW,KAAKuK,8BAAgCvK,KAAKyF,cAAc8U,kBAAmB,CAC7Eva,KAAKuK,4BAA8B,MACnC,IAAMiQ,EAAa,aACnB3Q,GAA2B7J,KAAK+O,QAAS/O,KAAKyF,cAAe,CAC3DgB,YAAazG,KAAKyG,YAClBtD,KAAMnD,KAAKmD,KACX+R,SAAUlV,KAAKkV,SACfxV,QAAS,CACP0E,UAAWpE,KAAKoE,UAChBqW,aAAcza,KAAK0G,eAAiBgU,UAAY1a,KAAK2a,WAAWtF,KAChE7O,aAAcxG,KAAKwG,aACnBF,UAAWtG,KAAKsG,UAChBnB,cAAenF,KAAKmF,eAEtByV,KAAM,CACJC,WAAY7a,KAAK8a,eAAeN,GAAcxa,KAAKwa,GAAc,Q,GAMzExL,EAAAC,UAAA+G,wBAAA,WACEhW,KAAKkO,qBAEHlO,KAAK+P,iBAAmB/P,KAAK+P,gBAAgBrN,OAAS1C,KAAK+P,gBAAkB,CAAC/P,KAAKkF,gB,EAGvF8J,EAAAC,UAAA8L,kBAAA,WACE,OAAO/T,EAAwBhH,KAAKiF,a,EAGtC+J,EAAAC,UAAAyG,sBAAA,WACE3O,EAAmB/G,KAAKiF,a,EAG1B+J,EAAAC,UAAA6G,cAAA,WACE9V,KAAKgF,eAAiBhF,KAAKgF,UAAY,SAAWsE,GAAWtJ,KAAKgF,SAAWhF,KAAKgF,QAElFhF,KAAKgb,YAAchb,KAAKyE,OAASzE,KAAK2E,OAAOC,IAAM5E,KAAK2E,OAAOE,OAC/D7E,KAAKib,WAAajb,KAAK0E,MAAQ1E,KAAK2E,OAAOI,KAAO/E,KAAK2E,OAAOG,MAE9D9E,KAAKkb,kBAAoBlb,KAAKgb,YAAchb,KAAKgF,QAAQJ,IAAM5E,KAAKgF,QAAQH,OAC5E7E,KAAKmb,iBAAmBnb,KAAKib,WAAajb,KAAKgF,QAAQD,KAAO/E,KAAKgF,QAAQF,K,EAG7EkK,EAAAC,UAAA8G,aAAA,WACE/V,KAAKob,OAASvX,KAAK1C,IAAInB,KAAKmb,iBAAkBnb,KAAKkb,mBAAqB,EAOxElb,KAAKhE,YAAcgE,KAAKob,OAASpb,KAAKoF,WACtCpF,KAAK9D,YAAc8D,KAAKob,M,EAG1BpM,EAAAC,UAAA4G,YAAA,eAAA7H,EAAAhO,KACE,GAAIA,KAAKmD,KAAM,CACb,GAAInD,KAAK8F,YAAc,MAAO,CAC5B9F,KAAKqb,YAAcC,cAAA,GAAItb,KAAKmD,KAAI,MAAED,MAAK,SAACV,EAAGI,GAAM,OAAA2Y,OAAO/Y,EAAEwL,EAAK7I,gBAAkBoW,OAAO3Y,EAAEoL,EAAK7I,eAA9C,G,MAC5C,GAAInF,KAAK8F,YAAc,OAAQ,CACpC9F,KAAKqb,YAAcC,cAAA,GAAItb,KAAKmD,KAAI,MAAED,MAAK,SAACV,EAAGI,GAAM,OAAA2Y,OAAO3Y,EAAEoL,EAAK7I,gBAAkBoW,OAAO/Y,EAAEwL,EAAK7I,eAA9C,G,KAC5C,CACLnF,KAAKqb,YAAcrb,KAAKmD,I,CAE1B,IAAIqY,EAAU,EACdxb,KAAKqb,YAAYI,KAAI,SAAA1f,GACnBA,EAAEiS,EAAK7I,eAAiBuW,WAAW3f,EAAEiS,EAAK7I,gBAC1CqW,GAAWzf,EAAEiS,EAAK7I,eAClBpJ,EAAE4f,OAAS,WAAM,OAAAH,CAAA,C,IAKrBxb,KAAK4b,OAAS,GACd,GAAI5b,KAAK6b,eAAiB7b,KAAK6b,cAAcnZ,OAAQ,CACnD,IAAIoZ,EAAY,EAChB9b,KAAKqb,YAAYI,KAAI,SAAAjY,GAAC,OAAKsY,GAAatY,EAAEwK,EAAK7I,cAAzB,IACtBnF,KAAK6b,cAAcE,SAAQ,SAAAhgB,G,MACzB,IAAMigB,EAAU,GAChBA,EAAQC,KAAKlgB,GACbigB,EAAQC,MAAIC,EAAA,GACVA,EAAClO,EAAK9I,iBAAkB,GACxBgX,EAAClO,EAAK7I,eAAgB2W,EAAY/f,EAAEiS,EAAK7I,e,IAE3C,IAAMgX,EAASnO,EAAKjL,IAAIiZ,GACxBhO,EAAK4N,OAAOK,KAAI5B,OAAAC,OAAA,GAAM6B,EAAO,I,IAIjCnc,KAAKoc,QAAUpc,KAAK+C,IAAI/C,KAAKqb,aAC7Brb,KAAKqc,QAAUrc,KAAK4b,M,EAGtB5M,EAAAC,UAAA2G,cAAA,eAAA5H,EAAAhO,KACEA,KAAK+C,IAAMA,IACRC,OAAM,SAAAG,GACL,OAAOA,EAAK6K,EAAK7I,c,IAElBjC,MAAK,SAACoZ,EAAIC,GAAO,eAEpBvc,KAAKV,IAAMA,G,EAGb0P,EAAAC,UAAAgH,aAAA,eAAAjI,EAAAhO,KAEE,IAAMwc,EAAO7S,GAAc3J,KAAM6I,GAAgB,aACjD,GAAI7I,KAAKsF,eAAgB,CACvB,IAAMmX,EACJzc,KAAK0c,eAAiB1c,KAAK0c,aAAa,GAAAC,OAAG3c,KAAKmF,iBAAoBnF,KAAK0c,aAAa,GAAAC,OAAG3c,KAAKmF,cAAa,OACvGnF,KAAK0c,aAAa,GAAAC,OAAG3c,KAAKmF,cAAa,OAAQnF,KAAK0c,aAAa,GAAAC,OAAG3c,KAAKmF,gBAAmB,OAC5F,GAAAwX,OAAG3c,KAAKmF,cAAa,KAC3BqX,EAAKC,GAAS,cACdzc,KAAKqb,YAAYU,SAAQ,SAAA3Y,GACvBA,EAAEqZ,GAASrZ,EAAE,GAAAuZ,OAAG3O,EAAK7I,gBAAmB/B,EAAEuY,Q,IAG9C3b,KAAK4c,UAAYrT,GAAcvJ,KAAKqb,YAAamB,GACjDxc,KAAK6c,aAAexC,OAAOmC,KAAKA,E,EAGlCxN,EAAAC,UAAAsI,oBAAA,WACEnN,GAAY,CACVuE,KAAM3O,KAAK8c,UACXzY,SAAUrE,KAAKqE,U,EAInB2K,EAAAC,UAAAmH,UAAA,WACE,IAAM2G,EACJ/c,KAAKgd,QAAUhd,KAAKgd,OAAOta,OACvBuG,GAAiBjJ,KAAKgd,QACtB5T,GAAUpJ,KAAK4F,aAAc5F,KAAKqb,YAAY3Y,OAAS,GAC7D,IAAK1C,KAAKgd,SAAWhd,KAAKgd,OAAOta,OAAQ,CACvCqa,EAAed,KAAKrS,GAAWqT,U,CAEjCjd,KAAKqO,eAAiB0O,C,EAGxB/N,EAAAC,UAAAoI,YAAA,WACE,IAAM6F,EAAcld,KAAKqO,eAAe8O,MAAQnd,KAAKqO,eAAe8O,QAAUnd,KAAKqO,eACnF,GAAIrO,KAAKyF,cAAc+N,cAAgB0J,EAAYxa,OAAS,EAAG,CAC7D1C,KAAKod,SAAWpd,KAAKqO,c,KAChB,CACL,IAAMgP,EAAW/V,EAAwB,CACvC0V,OAAQE,EACRI,QAAStd,KAAK4O,IAAIC,OAClBC,GAAI9O,KAAK+O,QACTwO,OAAQ,cACRC,oBAAqBxd,KAAKwV,WAE5BxV,KAAKod,SAAWpd,KAAKqO,eAAe8O,MAAQnd,KAAKqO,eAAeoP,OAAON,MAAME,GAAYA,C,GAI7FrO,EAAAC,UAAAqI,WAAA,WACEtX,KAAK0N,QAAUrG,EAAa,CAC1BsH,KAAM3O,KAAK4O,IAAIC,OACfC,GAAI9O,KAAK+O,QACTiO,OAAQhd,KAAKqO,eAAe8O,MAAQnd,KAAKqO,eAAe8O,QAAUnd,KAAKqO,eACvEpI,WAAYjG,KAAKiG,WACjBD,WAAYhG,KAAKgG,WACjB0X,QAAS,M,EAIb1O,EAAAC,UAAAyI,cAAA,WACE1X,KAAKoF,WAAapF,KAAKoF,aAAe,GAAKpF,KAAKoF,WAAapF,KAAKoF,WAAajB,EAAsBiB,U,EAGvG4J,EAAAC,UAAAwI,qBAAA,eAAAzJ,EAAAhO,KACE,GAAIA,KAAK2d,SAAU,CACjBnP,EAAOxO,KAAKyV,YACTjH,OAAO,8BACPC,KAAK,cAAe,mBACvBD,EAAOxO,KAAKyV,YACTjH,OAAO,mBACPC,KAAK,cAAe,cACvBD,EAAOxO,KAAKyV,YACTjH,OAAO,kBACPC,KAAK,cAAe,aACvBzO,KAAK4O,IAAIH,KAAK,cAAe,YAC7BzO,KAAK2O,KAAKF,KAAK,cAAe,oBAC9BzO,KAAK4d,MAAMnP,KAAK,cAAe,qBAE/BzO,KAAK6d,SAASpP,KAAK,cAAe,qBAClCzO,KAAKkZ,KAAKzK,KAAK,cAAe,aAC9BzO,KAAK8d,OAAOrP,KAAK,cAAe,mBAChCzO,KAAK+d,UAAUtP,KAAK,cAAe,sBACnCzO,KAAKge,MAAMvP,KAAK,cAAe,kBAC/BzO,KAAK4d,MAAMpP,OAAO,2BAA2BC,KAAK,cAAe,qBACjEzO,KAAK4O,IAAIJ,OAAO,QAAQC,KAAK,cAAe,gBAE5CzO,KAAKie,eAAexP,KAAK,cAAe,aAAaA,KAAK,WAAW,SAAA1S,GAAK,eAAA4gB,OAAS5gB,EAAEiS,EAAK9I,iBAAhB,IAC1ElF,KAAKke,oBACFzP,KAAK,cAAe,kBACpBA,KAAK,WAAW,SAAA1S,GAAK,oBAAA4gB,OAAc5gB,EAAEiS,EAAK9I,iBAArB,IACxBlF,KAAKme,cACF1P,KAAK,cAAe,iBACpBA,KAAK,WAAW,SAAA1S,GAAK,uBAAA4gB,OAAiB5gB,EAAEiS,EAAK9I,iBAAxB,IACxBlF,KAAKoe,OAAO3P,KAAK,cAAe,OAAOA,KAAK,WAAW,SAAA1S,GAAK,aAAA4gB,OAAO5gB,EAAEiS,EAAK9I,iBAAd,IAG5DlF,KAAKqe,WAAWC,UAAU,YAAY7P,KAAK,cAAe,sBAC1DzO,KAAKue,kBACF9P,KAAK,cAAe,gBACpBA,KAAK,WAAW,SAAA1S,GAAK,mBAAA4gB,OAAa5gB,EAAEiS,EAAK9I,iBAApB,IACxBlF,KAAKwe,uBACF/P,KAAK,cAAe,qBACpBA,KAAK,WAAW,SAAA1S,GAAK,wBAAA4gB,OAAkB5gB,EAAEiS,EAAK9I,iBAAzB,G,KACnB,CACLsJ,EAAOxO,KAAKyV,YACTjH,OAAO,8BACPC,KAAK,cAAe,MACvBD,EAAOxO,KAAKyV,YACTjH,OAAO,mBACPC,KAAK,cAAe,MACvBD,EAAOxO,KAAKyV,YACTjH,OAAO,kBACPC,KAAK,cAAe,MACvBzO,KAAK4O,IAAIH,KAAK,cAAe,MAC7BzO,KAAK2O,KAAKF,KAAK,cAAe,MAC9BzO,KAAK4d,MAAMnP,KAAK,cAAe,MAE/BzO,KAAK6d,SAASpP,KAAK,cAAe,MAClCzO,KAAKkZ,KAAKzK,KAAK,cAAe,MAC9BzO,KAAK8d,OAAOrP,KAAK,cAAe,MAChCzO,KAAK+d,UAAUtP,KAAK,cAAe,MACnCzO,KAAKge,MAAMvP,KAAK,cAAe,MAC/BzO,KAAK4d,MAAMpP,OAAO,2BAA2BC,KAAK,cAAe,MACjEzO,KAAK4O,IAAIJ,OAAO,QAAQC,KAAK,cAAe,MAE5CzO,KAAKie,eAAexP,KAAK,cAAe,MAAMA,KAAK,UAAW,MAC9DzO,KAAKke,oBAAoBzP,KAAK,cAAe,MAAMA,KAAK,UAAW,MACnEzO,KAAKme,cAAc1P,KAAK,cAAe,MAAMA,KAAK,UAAW,MAC7DzO,KAAKoe,OAAO3P,KAAK,cAAe,MAAMA,KAAK,UAAW,MAGtDzO,KAAKqe,WAAWC,UAAU,YAAY7P,KAAK,cAAe,MAC1DzO,KAAKue,kBAAkB9P,KAAK,cAAe,MAAMA,KAAK,UAAW,MACjEzO,KAAKwe,uBAAuB/P,KAAK,cAAe,MAAMA,KAAK,UAAW,K,GAI1EO,EAAAC,UAAAuH,mBAAA,WACExW,KAAK4O,IAAMJ,EAAOxO,KAAKyV,YACpBjH,OAAO,8BACPiQ,OAAO,OACPC,MAAM,YAAa,WACnBjQ,KAAK,QAASzO,KAAK0E,OACnB+J,KAAK,SAAUzO,KAAKyE,QACpBgK,KAAK,UAAW,OAASzO,KAAK0E,MAAQ,IAAM1E,KAAKyE,QAEpDzE,KAAK2O,KAAO3O,KAAK4O,IAAI6P,OAAO,KAAKhQ,KAAK,KAAM,+BAAiCzO,KAAK+O,SAElF/O,KAAK4d,MAAQ5d,KAAK2O,KAAK8P,OAAO,KAAKhQ,KAAK,KAAM,gCAAkCzO,KAAK+O,SAErF/O,KAAKkZ,KAAOlZ,KAAK4d,MAAMa,OAAO,KAAKhQ,KAAK,QAAS,aAEjDzO,KAAK8d,OAAS9d,KAAK4d,MAAMa,OAAO,KAAKhQ,KAAK,QAAS,uBAEnDzO,KAAK+d,UAAY/d,KAAK4d,MAAMa,OAAO,KAAKhQ,KAAK,QAAS,uBAEtDzO,KAAKge,MAAQhe,KAAK4d,MAAMa,OAAO,KAAKhQ,KAAK,QAAS,uBAElDzO,KAAK8c,UAAYtO,EAAOxO,KAAKyV,YAAYjH,OAAO,kBAEhDxO,KAAK6d,SAAWrP,EAAOxO,KAAKyV,YAAYjH,OAAO,gBAE/CxO,KAAKqe,WAAare,KAAK4d,MAAMa,OAAO,KAAKhQ,KAAK,QAAS,2B,EAGzDO,EAAAC,UAAAmI,UAAA,WACE,IAAMuH,EAAY3U,GAAoB,CACpC4U,UAAW5e,KAAK4O,IAChB4G,SAAUxV,KAAKwV,SACfqJ,UAAW,aACXC,OAAQC,IAGVJ,EACGlQ,KAAK,QAASzO,KAAK0E,OACnB+J,KAAK,SAAUzO,KAAKyE,QACpBgK,KAAK,UAAW,OAASzO,KAAK0E,MAAQ,IAAM1E,KAAKyE,QAEpD,IAAMua,EAAahV,GAAoB,CACrC4U,UAAW5e,KAAK2O,KAChB6G,SAAUxV,KAAKwV,SACfqJ,UAAW,aACXC,OAAQC,IAGVC,EAAWvQ,KAAK,YAAa,aAAAkO,OAAa3c,KAAK2E,OAAOI,KAAI,MAAA4X,OAAK3c,KAAK2E,OAAOC,IAAG,MAE9E,IAAMqa,EAAcjV,GAAoB,CACtC4U,UAAW5e,KAAK4d,MAChBpI,SAAUxV,KAAKwV,SACfqJ,UAAW,aACXC,OAAQC,IAGVE,EAAYxQ,KAAK,YAAa,aAAAkO,OAAa3c,KAAKgF,QAAQD,KAAO/E,KAAKob,OAAM,MAAAuB,OAAK3c,KAAKgF,QAAQJ,IAAM5E,KAAKob,OAAM,MAE7G1S,GAAiC1I,KAAK+O,QAAS/O,KAAK0E,M,EAGtDsK,EAAAC,UAAAuI,oBAAA,eAAAxJ,EAAAhO,KACE,IAAMkf,EAAwBlf,KAAKkZ,KAAKoF,UAAU,QAAQnb,KAAKnD,KAAKoc,SAAS,SAAArgB,GAC3EA,EAAEiS,EAAK9I,iBAAmBnJ,EAAEoH,KAAK6K,EAAK9I,iBACtC,OAAOnJ,EAAEiS,EAAK9I,gB,IAGhBlF,KAAKmf,MAAQD,EAAsBC,QAAQV,OAAO,QAClDze,KAAKof,KAAOF,EAAsBE,OAClCpf,KAAKoe,OAASc,EAAsBG,MAAMrf,KAAKmf,OAE/Cnf,KAAKsf,SAAWtf,KAAKof,KAAKG,OAC1Bvf,KAAKwf,UAAYxf,KAAKmf,MAAMI,OAE5B,IAAME,EAAoBzf,KAAK8d,OAAOQ,UAAU,4BAA4Bnb,KAAKnD,KAAKoc,SACtFpc,KAAK0f,eAAiBD,EAAkBN,QAAQV,OAAO,QACvDze,KAAK2f,cAAgBF,EAAkBL,OACvCpf,KAAKie,eAAiBwB,EAAkBJ,MAAMrf,KAAK0f,gBAEnD,IAAME,EAAyB5f,KAAK8d,OAAOQ,UAAU,uBAAuBnb,KAAKnD,KAAKoc,SACtFpc,KAAK6f,oBAAsBD,EAAuBT,QAAQV,OAAO,QACjEze,KAAK8f,mBAAqBF,EAAuBR,OACjDpf,KAAKke,oBAAsB0B,EAAuBP,MAAMrf,KAAK6f,qBAE7D,IAAME,EAAuB/f,KAAK+d,UAAUO,UAAU,4BAA4Bnb,KAAKnD,KAAKqc,SAC5Frc,KAAKggB,kBAAoBD,EAAqBZ,QAAQV,OAAO,QAC7Dze,KAAKigB,iBAAmBF,EAAqBX,OAC7Cpf,KAAKue,kBAAoBwB,EAAqBV,MAAMrf,KAAKggB,mBAEzD,IAAME,EAA4BlgB,KAAK+d,UAAUO,UAAU,uBAAuBnb,KAAKnD,KAAKqc,SAC5Frc,KAAKmgB,uBAAyBD,EAA0Bf,QAAQV,OAAO,QACvEze,KAAKogB,sBAAwBF,EAA0Bd,OACvDpf,KAAKwe,uBAAyB0B,EAA0Bb,MAAMrf,KAAKmgB,wBAEnE,IAAME,EAAmBrgB,KAAKge,MAAMM,UAAU,cAAcnb,KAAKnD,KAAKoc,SACtEpc,KAAKsgB,cAAgBD,EAAiBlB,QAAQV,OAAO,QACrDze,KAAKugB,aAAeF,EAAiBjB,OACrCpf,KAAKme,cAAgBkC,EAAiBhB,MAAMrf,KAAKsgB,c,EAGnDtR,EAAAC,UAAAuK,uBAAA,eAAAxL,EAAAhO,KACEoH,EAAmBpH,KAAK4O,IAAIC,QAO5B7O,KAAKoe,OACF3P,KAAK,WAAW,SAAA1S,GACf,OAAA+M,GACE/M,EAAEoH,KACF,EACA6K,EAAK7H,aACL6H,EAAKI,eACLJ,EAAKrH,eACLqH,EAAKE,qBANP,IASDO,KAAK,QAAQ,SAAC1S,EAAGqH,GAChB,OAAO4K,EAAKrH,gBACVqH,EAAKrH,eAAejE,OAAS,GAC7BqG,GAAahN,EAAEoH,KAAM6K,EAAKrH,eAAgBqH,EAAKE,uBAC/CF,EAAK/H,WAAWkI,MACdvE,GAAWoE,EAAK/H,WAAWkI,QAAUH,EAAK/H,WAAWkI,MACrDH,EAAKI,gBACLpF,GAAajN,EAAEoH,KAAM6K,EAAKI,eAAgBJ,EAAKE,uBAC/CF,EAAKhI,WAAWmI,MAChBvE,GAAWoE,EAAKhI,WAAWmI,QAAUH,EAAKhI,WAAWmI,MACrDH,EAAKqN,YAAY3Y,SAAW,GAAKU,IAAM,EACvC4K,EAAKK,eAAejL,GACpB4K,EAAKoP,SAASha,IAAM4K,EAAKoP,SAAS,E,IAEvC3O,KAAK,UAAU,SAAC1S,EAAGqH,EAAGC,GACrB,IAAK2K,EAAKvI,cAAcqO,cAAgBtF,EAAOnL,EAAED,IAAIsL,QAAQ,oBAAqB,CAChF,IAAM8R,EACJxS,EAAKrH,gBACLqH,EAAKrH,eAAejE,OAAS,GAC7BqG,GAAahN,EAAEoH,KAAM6K,EAAKrH,eAAgBqH,EAAKE,sBACjD,IAAMuS,EAAUzS,EAAKI,gBAAkBpF,GAAajN,EAAEoH,KAAM6K,EAAKI,eAAgBJ,EAAKE,sBACtF,IAAMwS,EAAY1S,EAAKK,eAAejL,GACtC,IAAMud,EAAQH,EAAU,QAAUC,IAAYjS,EAAOnL,EAAED,IAAIsL,QAAQ,oBAAsB,QAAU,OACnG,IAAMP,EACJqS,GAAWxS,EAAK/H,WAAWkI,MACvBvE,GAAWoE,EAAK/H,WAAWkI,QAAUH,EAAK/H,WAAWkI,MACrDqS,EACAE,EACAD,GAAWzS,EAAKhI,WAAWmI,MAC3BvE,GAAWoE,EAAKhI,WAAWmI,QAAUH,EAAKhI,WAAWmI,MACrDuS,EACN,GAAIC,IAAU,QAAS,CACrBxZ,EAAiB,CACfyZ,aAAcvd,EAAED,GAChB0L,GAAId,EAAKe,QACT8R,IAAK9kB,EAAEiS,EAAK9I,iBACZ4b,YAAa9S,EAAKhI,WAAW8a,YAC7BC,KAAM5S,G,CAGV,OAAOH,EAAKN,QAAQiT,EAAQxS,E,CAE9B,OAAO,I,IAGX5F,GAAkB,CAChByY,YAAahhB,KAAK4d,MAAM/O,Q,EAI5BG,EAAAC,UAAAwK,gBAAA,eAAAzL,EAAAhO,KACE,IAAMihB,EAAejhB,KAAKsG,UAAU0K,QAAU,EAAI,EAClD,IAAMkQ,EAAclhB,KAAKuF,cAAgB,EAAI,EAE7C,IAAM4b,EAAanhB,KAAKie,eAAeoB,MAAMrf,KAAKue,mBAClD,IAAM6C,EAAYphB,KAAKke,oBAAoBmB,MAAMrf,KAAKwe,wBAEtD2C,EACG1S,KAAK,cAAe,MACpBA,KAAK,cAAe,MACpBA,KAAK,WAAW,SAAC1S,EAAGqH,EAAGC,GACtB,IAAMge,GAAe7S,EAAOnL,EAAED,IAAIqL,KAAK,WACvC,IAAM6S,EAAkB9S,EAAOnL,EAAED,IAAIsb,MAAM,cAC3C,IAAM6C,EACJzY,GACE/M,EAAEoH,KACF8d,EACAjT,EAAK7H,aACL6H,EAAKI,eACLJ,EAAKrH,eACLqH,EAAKE,sBACH,EACA,EACA,EACN,GAAKqT,IAAkB,GAAKD,IAAoB,UAAaD,IAAgBE,EAAe,CAC1F,GAAIA,IAAkB,EAAG,CACvB/S,EAAOnL,EAAED,IACNsL,QAAQ,kBAAmB,MAC3BgQ,MAAM,aAAc,K,KAClB,CACLlQ,EAAOnL,EAAED,IAAIsL,QAAQ,oBAAqB,K,EAG9C,OAAO6S,C,IAIXH,EACG3S,KAAK,cAAe,MACpBA,KAAK,cAAe,MACpBA,KAAK,WAAW,SAAC1S,EAAGqH,EAAGC,GACtB,IAAMge,GAAe7S,EAAOnL,EAAED,IAAIqL,KAAK,WACvC,IAAM6S,EAAkB9S,EAAOnL,EAAED,IAAIsb,MAAM,cAC3C,IAAM6C,EACJzY,GACE/M,EAAEoH,KACF+d,EACAlT,EAAK7H,aACL6H,EAAKI,eACLJ,EAAKrH,eACLqH,EAAKE,sBACH,EACA,EACA,EACN,GAAKqT,IAAkB,GAAKD,IAAoB,UAAaD,IAAgBE,EAAe,CAC1F,GAAIA,IAAkB,EAAG,CACvB/S,EAAOnL,EAAED,IACNsL,QAAQ,kBAAmB,MAC3BgQ,MAAM,aAAc,K,KAClB,CACLlQ,EAAOnL,EAAED,IAAIsL,QAAQ,oBAAqB,K,EAG9C,OAAO6S,C,IAIX,GAAIvhB,KAAKsG,UAAUkb,kBAAmB,CACpC,IAAMC,EAAcN,EAAWO,QAAO,SAACjf,EAAGW,EAAGC,GAAM,OAAAmL,EAAOnL,EAAED,IAAIsL,QAAQ,kBAArB,IACnD,IAAMiT,EAAgBR,EAAWO,QAAO,SAACjf,EAAGW,EAAGC,GAAM,OAAAmL,EAAOnL,EAAED,IAAIsL,QAAQ,oBAArB,IACrD,IAAMkT,EAAaR,EAAUM,QAAO,SAACjf,EAAGW,EAAGC,GAAM,OAAAmL,EAAOnL,EAAED,IAAIsL,QAAQ,kBAArB,IACjD,IAAMmT,EAAeT,EAAUM,QAAO,SAACjf,EAAGW,EAAGC,GAAM,OAAAmL,EAAOnL,EAAED,IAAIsL,QAAQ,oBAArB,IACnD,IAAMoT,EAAiB,CAAC,UACxB,IAAMC,EAAU,CAAC,GAGjB,GAAIJ,EAAcpC,OAAS,EAAG,CAC5Bvf,KAAKgiB,QAAU7X,GAAsB,CACnC6X,QAAShiB,KAAKgiB,QACdC,eAAgBN,EAChBO,WAAY,GACZJ,eAAgB,CAAC,UACjBC,QAAS,CAAC,GACVI,UAAW,CAAC,OACZ5C,KAAM,CAACtV,GAAQjK,KAAK0E,MAAO,GAAIuF,GAAQjK,KAAKyE,OAAQ,IACpD2d,SAAU,MACVC,WAAY,OAIdV,EAAcjT,QAAQ,oBAAqB,M,CAG7C,GAAImT,EAAatC,OAAS,EAAG,CAC3Bvf,KAAKgiB,QAAU7X,GAAsB,CACnC6X,QAAShiB,KAAKgiB,QACdC,eAAgBJ,EAChBK,WAAY,GACZJ,eAAgB,CAAC,UACjBC,QAAS,CAAC,GACVI,UAAW,CAAC,OACZ5C,KAAM,CAACtV,GAAQjK,KAAK0E,MAAO,GAAIuF,GAAQjK,KAAKyE,OAAQ,IACpD2d,SAAU,MACVC,WAAY,OAIdR,EAAanT,QAAQ,oBAAqB,M,CAI5C,GAAI+S,EAAYlC,OAAS,EAAG,CAC1Bvf,KAAKgiB,QAAU7X,GAAsB,CACnC6X,QAAShiB,KAAKgiB,QACdC,eAAgBR,EAChBS,WAAY,GACZJ,eAAcA,EACdC,QAAOA,EACPI,UAAW,CAACniB,KAAKkF,iBACjBqa,KAAM,CAACtV,GAAQjK,KAAK0E,MAAO,GAAIuF,GAAQjK,KAAKyE,OAAQ,IACpD2d,SAAUpiB,KAAKsG,UAAU0K,SAAWhR,KAAKsG,UAAUkb,kBACnDc,iBAAkB,OAIpBb,EAAY/S,QAAQ,kBAAmB,M,CAIzC,GAAIkT,EAAWrC,OAAS,EAAG,CACzBvf,KAAKgiB,QAAU7X,GAAsB,CACnC6X,QAAShiB,KAAKgiB,QACdC,eAAgBL,EAChBM,WAAY,GACZJ,eAAcA,EACdC,QAAOA,EACPI,UAAW,CAACniB,KAAKkF,iBACjBqa,KAAM,CAACtV,GAAQjK,KAAK0E,MAAO,GAAIuF,GAAQjK,KAAKyE,OAAQ,IACpD2d,SAAUpiB,KAAKsG,UAAU0K,SAAWhR,KAAKsG,UAAUkb,kBACnDc,iBAAkB,OAIpBV,EAAWlT,QAAQ,kBAAmB,M,IAK5CM,EAAAC,UAAAyK,iCAAA,SAAiC6I,GAAjC,IAAAvU,EAAAhO,KACE,IAAM+N,EAAYwU,IAAU,YAAc,OAASviB,KAAKsG,UAAUyH,UAElE/N,KAAKie,eAAexP,KAAK,QAAQ,SAAC1S,EAAGqH,EAAGC,GAAM,OAAA2K,EAAKH,qBAAqB9R,EAAGqH,EAAGC,EAAG0K,EAAnC,G,EAgChDiB,EAAAC,UAAA0I,gBAAA,eAAA3J,EAAAhO,KACEA,KAAKmf,MAAMqD,YAEXxiB,KAAKmf,MACF1Q,KAAK,QAAS,OACdC,QAAQ,WAAY,MACpBD,KAAK,UAAW,GAChBgU,GAAG,SAAUziB,KAAK0G,eAAiB,SAAC3K,EAAGqH,EAAGC,GAAM,OAAA2K,EAAK0U,eAAe3mB,EAAEoH,KAAME,EAAED,GAA9B,EAAoC,MACpFqf,GAAG,aAAcziB,KAAK0G,eAAiB,SAAC3K,EAAGqH,EAAGC,GAAM,OAAA2K,EAAK2U,eAAe5mB,EAAEoH,KAAME,EAAED,GAA9B,EAAoC,MACxFqf,GAAG,YAAaziB,KAAK0G,eAAiB,WAAM,OAAAsH,EAAK4U,mBAAL,EAA2B,MACvEnU,KAAK,UAAWzO,KAAK0G,eAAiB1G,KAAKoG,OAAS,MACpDyc,MAAK,SAACC,EAAI1f,EAAGC,GACZmE,EAAwBnE,EAAED,G,IAE9BpD,KAAKoe,OAAO2E,O,EAGd/T,EAAAC,UAAA2I,iBAAA,eAAA5J,EAAAhO,KACEA,KAAKoe,OAAOoE,YAGZxiB,KAAKoe,OACF4E,WAAW,WACXxN,SAASxV,KAAKwV,UACdyN,KAAKlE,GACLtQ,KAAK,WAAW,SAAA1S,GACf,OAAA+M,GACE/M,EAAEoH,KACF,EACA6K,EAAK7H,aACL6H,EAAKI,eACLJ,EAAKrH,eACLqH,EAAKE,qBANP,G,EAWNc,EAAAC,UAAA4I,eAAA,eAAA7J,EAAAhO,KACEA,KAAKof,KAAKoD,YAEVxiB,KAAKof,KACF4D,WAAW,QACXxN,SAASxV,KAAKwV,UACdyN,KAAKlE,GACLtQ,KAAK,UAAW,GAChBzO,KAAKwV,SAAW,YAAc,QAAQ,KAAK,SAACsN,EAAI1f,EAAGC,GAClD,IAAM6f,EAAM,CACV9mB,WAAY,EACZE,SAAU,EACVN,YAAagS,EAAKhS,YAClBE,YAAa8R,EAAK9R,aAEpB,IAAK8R,EAAKwH,SAAU,CAClB,OAAOxH,EAAK1O,IAAI4jB,E,CAElB,IAAM3U,EAAKlL,EAAED,GACb,IAAM+f,EAAeC,EAAY7U,EAAG8U,SAAUH,GAC9C,OAAO,SAAA5lB,GACLiR,EAAG8U,SAAWF,EAAa7lB,GAC3B,OAAO0Q,EAAK1O,IAAIiP,EAAG8U,S,KASzBrjB,KAAKoe,OACF4E,WAAW,0BACXxN,SAASxV,KAAKwV,UACdyN,KAAKlE,GACLuE,KAAK7Z,IAAkB,WAEtB,IAAM8Z,EAAgB/a,GAAiBwF,EAAK4P,MAAM/O,QAElDb,EAAKoR,KAAKoE,SAEVxV,EAAKyK,6BAELzK,EAAKoL,0BAELpL,EAAK2K,wBAELpQ,GAAkB,CAChByY,YAAahT,EAAK4P,MAAM/O,OACxB0U,cAAaA,G,KAMrBvU,EAAAC,UAAAmJ,eAAA,eAAApK,EAAAhO,KACEA,KAAKoe,OACF1P,QAAQ,oBAAoB,SAAC3S,EAAGqH,EAAGC,GAClC,IAAMogB,EAAqBxc,EAA0BuH,EAAOnL,EAAED,IAAK,CACjE,CACEqL,KAAM,IACNiV,SAAU1V,EAAK1O,IAAI,CACjBlD,WAAYL,EAAEK,WACdE,SAAUP,EAAEO,SACZN,YAAagS,EAAKhS,YAClBE,YAAa8R,EAAK9R,iBAIxB,OAAOunB,C,IAERhV,KAAK,mBAAoBzO,KAAKob,OAASpb,KAAKgF,QAAQD,KAAO/E,KAAK2E,OAAOI,MACvE0J,KAAK,mBAAoBzO,KAAKob,OAASpb,KAAKgF,QAAQJ,IAAM5E,KAAK2E,OAAOC,KAGtE6J,KAAK,UAAU,SAAC1S,EAAGqH,EAAGC,GACrB,IAAMkL,EAAKlL,EAAED,GACb,IAAIugB,EAAQ,QACZ,IAAIC,EAAa,EACjB,GAAI5V,EAAK1H,UAAUyH,YAAc,SAAU,CACzC4V,EAAQ,QACRC,EAAa5V,EAAKxI,W,CAEpB,IAAM0d,EAAM,CACV9mB,WAAYL,EAAEK,WACdE,SAAUP,EAAEO,SACZN,YAAagS,EAAKhS,YAClBE,YAAa8R,EAAK9R,aAEpB,IAAM2nB,EAAW,CACfznB,WAAYL,EAAEK,WACdE,SAAUP,EAAEO,SACZN,YAAagS,EAAK2V,EAAQ,UAAYC,EACtC1nB,YAAa8R,EAAK9R,YAAc0nB,GAKlCpV,EAAOD,GACJE,KAAK,cAAeT,EAAK1O,IAAIiD,SAASshB,GAAU,IAChDpV,KAAK,cAAeT,EAAK1O,IAAIiD,SAASshB,GAAU,IAChDpV,KAAK,SAAU,GAClB,OAAOT,EAAK1O,IAAI4jB,E,IAEjBF,WAAW,UACXxN,SAASxV,KAAKwV,UACdyN,KAAKlE,GACL/e,KAAKwV,SAAW,YAAc,QAAQ,KAAK,SAACzZ,EAAGqH,EAAGC,GACjD,IAAMkL,EAAKlL,EAAED,GACb,IAAI0gB,EAAQvV,EAAG8U,SACf,IAAMH,EAAM,CACV9mB,WAAYL,EAAEK,WACdE,SAAUP,EAAEO,SACZN,YAAagS,EAAKhS,YAClBE,YAAa8R,EAAK9R,aAEpB,GAAIsS,EAAOnL,EAAED,IAAIsL,QAAQ,YAAa,CACpCoV,EAAQ,CACN1nB,WAAY,EACZE,SAAU,EACVN,YAAagS,EAAKhS,YAClBE,YAAa8R,EAAK9R,aAEpBsS,EAAOnL,EAAED,IAAIsL,QAAQ,WAAY,M,CAEnC,IAAMyU,EAAeC,EAAYU,EAAOZ,GACxC,IAAKlV,EAAKwH,SAAU,CAClBjH,EAAG8U,SAAWF,EAAa,GAC3B,OAAOnV,EAAK1O,IAAI4jB,E,CAElB,OAAO,SAAA5lB,GACLiR,EAAG8U,SAAWF,EAAa7lB,GAC3B,OAAO0Q,EAAK1O,IAAIiP,EAAG8U,S,KAGtBC,KAAK7Z,IAAkB,WACtBuE,EAAKoQ,OAAO1P,QAAQ,mBAAoB,OACxCV,EAAKwL,yBAGLjR,GAAkB,CAChByY,YAAahT,EAAK4P,MAAM/O,SAM1Bb,EAAK+V,mBAAmB1O,KAAK,CAAEtG,QAASf,EAAKe,S,KAInDC,EAAAC,UAAA2J,iBAAA,eAAA5K,EAAAhO,KACEA,KAAKoe,OACF1P,QAAQ,aAAa,SAAA3S,GACpB,IAAMioB,EAAWlb,GAAiB/M,EAAEoH,KAAM,KAAM,MAAO,GAAI6K,EAAKrH,eAAgBqH,EAAKE,sBACrF,OAAOF,EAAKrH,gBAAkBqH,EAAKrH,eAAejE,OAASshB,EAAW,K,IAEvEnB,MAAK,SAAC9mB,EAAGqH,EAAGC,GACX,IAAI2gB,EAAWlb,GAAiB/M,EAAEoH,KAAM,KAAM,MAAO,GAAI6K,EAAKrH,eAAgBqH,EAAKE,sBACnF8V,EAAWhW,EAAKrH,gBAAkBqH,EAAKrH,eAAejE,OAASshB,EAAW,MAC1E,IAAMC,EAAajW,EAAKvI,cAAc4O,qBACtC5L,GAAiCpF,EAAED,GAAI4gB,EAAUC,E,KAIvDjV,EAAAC,UAAAqJ,mBAAA,eAAAtK,EAAAhO,KACE,IAAMkkB,EAAgBlkB,KAAKqe,WAAWC,UAAU,YAAYnb,KAAKnD,KAAKqc,SACtE,IAAM8H,EAAcD,EACjB/E,QACAV,OAAO,QACPhQ,KAAK,UAAW,GAChBA,KAAK,QAAS,WACdA,KAAK,OAAQ,QACbA,KAAK,eAAgB,GACrBC,QAAQ,WAAY,MACpBmU,MAAK,SAACC,EAAI1f,EAAGC,GACZmE,EAAwBnE,EAAED,G,IAG9B,IAAMghB,EAAaF,EAAc9E,OACjCgF,EACGpB,WAAW,QACXxN,SAASxV,KAAKwV,UACdyN,KAAKlE,GACLtQ,KAAK,UAAW,GAChBzO,KAAKwV,SAAW,YAAc,QAAQ,KAAK,SAAC/S,EAAGW,EAAGC,GACjD,IAAMkL,EAAKlL,EAAED,GACb,IAAM0gB,EAAQvV,EAAG8U,SACjB,IAAMH,EAAM,CACV9mB,WAAY,EACZE,SAAU,EACVN,YAAa6H,KAAKlF,IAAI,EAAGqP,EAAKhS,YAAc,GAC5CE,YAAa8R,EAAK9R,YAAc,GAElC,IAAMinB,EAAeC,EAAYU,EAAOZ,GACxC,IAAKlV,EAAKwH,SAAU,CAClB,OAAOxH,EAAK1O,IAAI4jB,E,CAElB,OAAO,SAAA5lB,GACLiR,EAAG8U,SAAWF,EAAa7lB,GAC3B,OAAO0Q,EAAK1O,IAAIiP,EAAG8U,S,KAGtBG,SAEHxjB,KAAKqkB,aAAeH,EAAc7E,MAAM8E,GAAazV,QAAQ,UAAU,SAACjM,EAAGW,GAAC,OAAMA,IAAM,EAAI,MAAQ,IAAxB,IAE5EpD,KAAKqkB,aACF5V,KAAK,UAAWzO,KAAKkG,eAAeoe,SACpC7V,KAAK,mBAAoBzO,KAAKkG,eAAeqe,QAC7CvB,WAAW,UACXxN,SAASxV,KAAKwV,UACdyN,KAAKlE,GACLtQ,KAAK,eAAgBzO,KAAKoF,aAAe,EAAI,EAAI,GACjDqJ,KAAKzO,KAAKoF,aAAe,EAAI,OAAS,SAAU,iBAChDqJ,KAAKzO,KAAKoF,aAAe,EAAI,SAAW,QAAQ,SAAC3C,EAAGW,GAEnD,OACEwG,GAAWoE,EAAK9H,eAAeiI,QAAUH,EAAK9H,eAAeiI,OAASH,EAAKK,eAAejL,E,IAG7FpD,KAAKwV,SAAW,YAAc,QAAQ,KAAK,SAACzZ,EAAGqH,EAAGC,GACjD,IAAM6f,EAAM,CACV9mB,WAAYL,EAAEO,SACdA,SAAUP,EAAEO,SACZN,YAAa6H,KAAKlF,IAAI,EAAGqP,EAAKhS,YAAc,GAC5CE,YAAa8R,EAAK9R,YAAc,GAElC,IAAMqS,EAAKlL,EAAED,GACb,IAAI0gB,EAAQvV,EAAG8U,SACf,GAAI7U,EAAOD,GAAIG,QAAQ,YAAa,CAClCoV,EAAQ,CACN1nB,WAAY,EACZE,SAAU,EACVN,YAAa6H,KAAKlF,IAAI,EAAGqP,EAAKhS,YAAc,GAC5CE,YAAa8R,EAAK9R,YAAc,GAElCsS,EAAOD,GAAIG,QAAQ,WAAY,M,CAEjC,IAAMyU,EAAeC,EAAYU,EAAOZ,GACxC,IAAKlV,EAAKwH,SAAU,CAClBjH,EAAG8U,SAAWF,EAAa,GAC3B,OAAOnV,EAAK1O,IAAI4jB,E,CAElB,OAAO,SAAA5lB,GACLiR,EAAG8U,SAAWF,EAAa7lB,GAC3B,OAAO0Q,EAAK1O,IAAIiP,EAAG8U,S,MAK3BrU,EAAAC,UAAA6I,YAAA,SAAYyK,GAAZ,IAAAvU,EAAAhO,KACE,IAAM+N,EAAYwU,IAAU,YAAc,OAASviB,KAAKsG,UAAUyH,UAClE,IAAMkT,EAAejhB,KAAKsG,UAAU0K,QAAU,EAAI,EAClD,IAAMkQ,EAAclhB,KAAKuF,cAAgB,EAAI,EAE7CvF,KAAK,WAAauiB,GACf9T,KAAK,QAAS,2BACdA,KAAK,UAAW,GAChBA,KAAK,WAAW,SAAA1S,GACf,OAAA+M,GACE/M,EAAEoH,KACF8d,EACAjT,EAAK7H,aACL6H,EAAKI,eACLJ,EAAKrH,eACLqH,EAAKE,sBACH,EACA,EACAqN,OAAOiJ,OATX,IAWD9V,QAAQ,WAAY,MACpBD,KAAK,QAAQ,SAAC1S,EAAGqH,EAAGC,GAAM,OAAA2K,EAAKH,qBAAqB9R,EAAGqH,EAAGC,EAAG0K,EAAnC,IAC1BU,KAAK,UAAWzO,KAAK0G,gBAAkB6b,IAAU,YAAcviB,KAAKoG,OAAS,MAC7Eqc,GACC,SACCziB,KAAK0G,gBAAkB6b,IAAU,YAAc,SAACxmB,EAAGqH,EAAGC,GAAM,OAAA2K,EAAK0U,eAAe3mB,EAAEoH,KAAME,EAAED,GAA9B,EAAoC,MAElGqf,GACC,aACCziB,KAAK0G,gBAAkB6b,IAAU,YAAc,SAACxmB,EAAGqH,EAAGC,GAAM,OAAA2K,EAAK2U,eAAe5mB,EAAEoH,KAAME,EAAED,GAA9B,EAAoC,MAElGqf,GAAG,YAAaziB,KAAK0G,gBAAkB6b,IAAU,YAAc,WAAM,OAAAvU,EAAK4U,mBAAL,EAA2B,MAEnG5iB,KAAK,WAAauiB,EAAQ,SACvB9T,KAAK,QAAS,sBACdA,KAAK,UAAW,GAChBA,KAAK,WAAW,SAAA1S,GACf,OAAA+M,GACE/M,EAAEoH,KACF+d,EACAlT,EAAK7H,aACL6H,EAAKI,eACLJ,EAAKrH,eACLqH,EAAKE,sBACH,EACA,EACAqN,OAAOiJ,OATX,IAWD9V,QAAQ,WAAY,MACpBD,KAAK,UAAWzO,KAAK0G,gBAAkB6b,IAAU,YAAcviB,KAAKoG,OAAS,MAC7Eqc,GACC,SACCziB,KAAK0G,gBAAkB6b,IAAU,YAAc,SAACxmB,EAAGqH,EAAGC,GAAM,OAAA2K,EAAK0U,eAAe3mB,EAAEoH,KAAME,EAAED,GAA9B,EAAoC,MAElGqf,GACC,aACCziB,KAAK0G,gBAAkB6b,IAAU,YAAc,SAACxmB,EAAGqH,EAAGC,GAAM,OAAA2K,EAAK2U,eAAe5mB,EAAEoH,KAAME,EAAED,GAA9B,EAAoC,MAElGqf,GAAG,YAAaziB,KAAK0G,gBAAkB6b,IAAU,YAAc,WAAM,OAAAvU,EAAK4U,mBAAL,EAA2B,K,EAGrG5T,EAAAC,UAAA8I,aAAA,SAAawK,GAAb,IAAAvU,EAAAhO,KACEA,KAAKie,eAAeuE,YACpB,IAAMvB,EAAejhB,KAAKsG,UAAU0K,QAAU,EAAI,EAClD,IAAMkQ,EAAclhB,KAAKuF,cAAgB,EAAI,EAE7CvF,KAAK,WAAauiB,GACfS,WAAW,WACXC,KAAKlE,GACLvJ,SAASxV,KAAKwV,UACd/G,KAAK,WAAW,SAAA1S,GACf,OAAA+M,GACE/M,EAAEoH,KACF8d,EACAjT,EAAK7H,aACL6H,EAAKI,eACLJ,EAAKrH,eACLqH,EAAKE,sBACH,EACA,EACA,CATJ,IAYJlO,KAAK,WAAauiB,EAAQ,SACvBS,WAAW,WACXxN,SAASxV,KAAKwV,UACdyN,KAAKlE,GACLtQ,KAAK,WAAW,SAAA1S,GACf,OAAA+M,GACE/M,EAAEoH,KACF+d,EACAlT,EAAK7H,aACL6H,EAAKI,eACLJ,EAAKrH,eACLqH,EAAKE,sBACH,EACA,EACA,CATJ,G,EAaNc,EAAAC,UAAA+I,WAAA,SAAWuK,GAAX,IAAAvU,EAAAhO,KACE,IAAM+N,EAAYwU,IAAU,YAAc,OAASviB,KAAKsG,UAAUyH,UAElE/N,KAAK,UAAYuiB,GACdS,WAAW,QACXxN,SAASxV,KAAKwV,UACdyN,KAAKlE,GACLtQ,KAAK,UAAW,GAChBzO,KAAKwV,SAAW,YAAc,QAAQ,KAAK,SAACzZ,EAAGqH,EAAGC,GACjD,IAAMkL,EAAKlL,EAAED,GACb,IAAIugB,EAAQ,QACZ,IAAIC,EAAa,EACjB,GAAI7V,IAAc,SAAU,CAC1B4V,EAAQ,QACRC,EAAa5V,EAAKxI,W,CAEpB,IAAM0d,EAAM,CACV9mB,WAAY,EACZ0nB,MAAO,EACPxnB,SAAU,EACVN,YAAagS,EAAK2V,EAAQ,UAAYC,EACtC1nB,YAAa8R,EAAK9R,YAAc0nB,GAElC,IAAK5V,EAAKwH,SAAU,CAClBhH,EAAOD,GAAIE,KAAK,IAAKT,EAAK1O,IAAIiD,SAAS2gB,GAAK,IAC5C1U,EAAOD,GAAIjK,KACTyJ,IAAc,QAAU3K,IAAM4K,EAAKqN,YAAY3Y,OAAS,GAAK6f,IAAU,YACnE,GACAvU,EAAK1I,eACL6D,IAAapN,EAAEO,SAAWP,EAAEK,aAAe,EAAIyH,KAAK4gB,IAAK,QACzDzW,EAAK1H,UAAUoe,OACfvb,GAAYpN,EAAEoH,KAAK6K,EAAK7I,eAAgB6I,EAAK1H,UAAUoe,QACvD3oB,EAAEoH,KAAK6K,EAAK7I,gBAElB,OAAO6I,EAAK1O,IAAIiD,SAAS2gB,GAAK,E,CAEhC,IAAMC,EAAeC,EAAY7U,EAAG8U,SAAUH,GAC9C,OAAO,SAAA5lB,GACLiR,EAAG8U,SAAWF,EAAa7lB,GAC3BkR,EAAOD,GAAIE,KAAK,IAAKT,EAAK1O,IAAIiD,SAASgM,EAAG8U,UAAU,IACpD7U,EAAOD,GAAIjK,KACTyJ,IAAc,QAAU3K,IAAM4K,EAAKqN,YAAY3Y,OAAS,GAAK6f,IAAU,YACnE,GACAvU,EAAK1I,eACL6D,IAAaoF,EAAG8U,SAAS/mB,SAAWiS,EAAG8U,SAASS,QAAU,EAAIjgB,KAAK4gB,IAAK,UACxEzW,EAAK1H,UAAUoe,OACfvb,GAAYoF,EAAG8U,SAASrgB,MAAOgL,EAAK1H,UAAUoe,QAC9CnW,EAAG8U,SAASrgB,OAElB,OAAOgL,EAAK1O,IAAIiD,SAASgM,EAAG8U,UAAU,E,KAGzCG,SAEHxjB,KAAK,UAAYuiB,EAAQ,SACtBS,WAAW,QACXxN,SAASxV,KAAKwV,UACdyN,KAAKlE,GACLtQ,KAAK,UAAW,GAChBzO,KAAKwV,SAAW,YAAc,QAAQ,KAAK,SAACsN,EAAI1f,EAAGC,GAClD,IAAMkL,EAAKlL,EAAED,GACb,IAAIugB,EAAQ,QACZ,IAAIC,EAAa,EACjB,GAAI7V,IAAc,SAAU,CAC1B4V,EAAQ,QACRC,EAAa5V,EAAKxI,W,CAEpB,IAAM0d,EAAM,CACVlgB,MAAO,EACP5G,WAAY,EACZE,SAAU,EACVN,YAAagS,EAAK2V,EAAQ,UAAYC,EACtC1nB,YAAa8R,EAAK9R,YAAc0nB,GAElC,IAAK5V,EAAKwH,SAAU,CAClBhH,EAAOD,GAAIE,KAAK,IAAKT,EAAK1O,IAAIiD,SAAS2gB,GAAK,IAC5C,OAAOlV,EAAK1O,IAAIiD,SAAS2gB,GAAK,E,CAEhC,IAAMC,EAAeC,EAAY7U,EAAG8U,SAAUH,GAC9C,OAAO,SAAA5lB,GACLiR,EAAG8U,SAAWF,EAAa7lB,GAC3BkR,EAAOD,GAAIE,KAAK,IAAKT,EAAK1O,IAAIiD,SAASgM,EAAG8U,UAAU,IACpD,OAAOrV,EAAK1O,IAAIiD,SAASgM,EAAG8U,UAAU,E,KAGzCG,Q,EAGLxU,EAAAC,UAAAuJ,eAAA,SAAe+J,GAAf,IAAAvU,EAAAhO,KACE,IAAM+N,EAAYwU,IAAU,YAAc,OAASviB,KAAKsG,UAAUyH,UAGlE,GAAIwU,IAAU,UAAYviB,KAAKsG,UAAU0K,SAAWhR,KAAKsG,UAAUkb,kBAAmB,CACpF,IAAImD,EAAY3kB,KAAK4d,MAAMpP,OAAO,2BAA2B8P,UAAU,QACvEte,KAAKgiB,QAAU7X,GAAsB,CACnC8X,eAAgBzT,EAAO,+BACvB0T,WAAY,CAACyC,EAAW3kB,KAAKme,cAAene,KAAKoe,QACjD0D,eAAgB,CAAC,UACjBC,QAAS,CAAC,GACVI,UAAW,CAACniB,KAAKkF,iBACjBqa,KAAM,CAACtV,GAAQjK,KAAK0E,MAAO,GAAIuF,GAAQjK,KAAKyE,OAAQ,K,CAIxDzE,KAAK,WAAauiB,GACf7D,MAAM,cAAc,SAACjc,EAAGW,EAAGC,GAC1B,OAAA2K,EAAK1H,UAAUyH,YAAc,QAAUC,EAAK1H,UAAUkb,kBAClDhT,EAAOnL,EAAED,IAAIsb,MAAM,cACnB,IAFJ,IAIDsE,WAAW,UACXxN,SAASxV,KAAKwV,UACdyN,KAAKlE,GACL/e,KAAKwV,SAAW,YAAc,QAAQ,KAAK,SAACzZ,EAAGqH,EAAGC,GACjD,IAAMkL,EAAKlL,EAAED,GACb,IAAI0gB,EAAQvV,EAAG8U,SACf,IAAIrnB,EAAc,cAClB,IAAI4nB,EAAa,EACjB,IAAIxnB,EAAa,aACjB,GAAI2R,IAAc,SAAU,CAC1B/R,EAAc,cACd4nB,EAAa5V,EAAKxI,W,CAEpB,GAAIuI,IAAc,OAAQ,CACxB3R,EAAa,U,CAGf,IAAM8mB,EAAM,CACVlgB,MAAOjH,EAAEoH,KAAK6K,EAAK7I,eACnB2e,MAAO/nB,EAAEK,WACTA,WAAYL,EAAEK,GACdE,SAAUP,EAAEO,SACZN,YAAagS,EAAKhS,GAAe4nB,EACjC1nB,YAAa8R,EAAK9R,YAAc0nB,GAElCpV,EAAOD,GACJE,KAAK,cAAe,MACpBA,KAAK,cAAe,MACpBA,KAAK,mBAAoBT,EAAKoN,OAASpN,EAAKhJ,QAAQD,KAAOiJ,EAAKrJ,OAAOI,MACvE0J,KAAK,mBAAoBT,EAAKoN,OAASpN,EAAKhJ,QAAQJ,IAAMoJ,EAAKrJ,OAAOC,KACtE6J,KAAK,SAAUT,EAAK1O,IAAIiD,SAAS2gB,GAAK,IACtCzU,KAAK,SAAUT,EAAK1O,IAAIiD,SAAS2gB,GAAK,IACtCzU,KAAK,SAAU,GACfA,KAAK,KAAM,GACXA,KAAK,KAAMV,IAAc,SAAW,QAAU,GAC9CU,KACC,cACAV,IAAc,SACV,SACAA,IAAc,OACdhS,EAAEO,SAAWuH,KAAK4gB,GAChB,QACA,MACF1oB,EAAEK,YAAcL,EAAEO,SAAWP,EAAEK,YAAc,EAAIyH,KAAK4gB,GACtD,QACA,OAELngB,KAECyJ,IAAc,QAAU3K,IAAM4K,EAAKqN,YAAY3Y,OAAS,GAAK6f,IAAU,YACnE,GACAvU,EAAK1I,eACL6D,IAAapN,EAAEO,SAAWP,EAAEK,aAAe,EAAIyH,KAAK4gB,IAAK,QACzDzW,EAAK1H,UAAUoe,OACfvb,GAAYpN,EAAEoH,KAAK6K,EAAK7I,eAAgB6I,EAAK1H,UAAUoe,QACvD3oB,EAAEoH,KAAK6K,EAAK7I,gBAGpB,GAAIqJ,EAAOD,GAAIG,QAAQ,YAAa,CAClCoV,EAAQ,CACN9gB,MAAOjH,EAAEoH,KAAK6K,EAAK7I,eACnB2e,MAAO/nB,EAAEK,WACTA,WAAY,EACZE,SAAU,EACVN,YAAagS,EAAKhS,GAAe4nB,EACjC1nB,YAAa8R,EAAK9R,YAAc0nB,GAElCpV,EAAOD,GAAIG,QAAQ,WAAY,M,CAEjC,IAAMyU,EAAeC,EAAYU,EAAOZ,GACxC,GAAIlV,EAAK1H,UAAU0K,SAAWhD,EAAK1H,UAAUkb,kBAAmB,CAC9D,IAAMM,EAAiB,CAAC,UACxB,IAAMC,EAAU,CAAC,GACjB/T,EAAKgU,QAAU7X,GAAsB,CACnC6X,QAAShU,EAAKgU,QACdC,eAAgBzT,EAAOD,GACvB2T,WAAY,GACZJ,eAAcA,EACdC,QAAOA,EACPI,UAAW,CAACnU,EAAK9I,iBACjBqa,KAAM,CAACtV,GAAQ+D,EAAKtJ,MAAO,GAAIuF,GAAQ+D,EAAKvJ,OAAQ,IACpD2d,SAAUpU,EAAK1H,UAAU0K,SAAWhD,EAAK1H,UAAUkb,mB,CAGvD,IAAKxT,EAAKwH,SAAU,CAClBjH,EAAG8U,SAAWF,EAAa,GAC3B3U,EAAOD,GAAIE,KAAK,IAAKT,EAAK1O,IAAIiD,SAAS2gB,GAAK,IAC5C1U,EAAOD,GAAIjK,KACTyJ,IAAc,QAAU3K,IAAM4K,EAAKqN,YAAY3Y,OAAS,GAAK6f,IAAU,YACnE,GACAvU,EAAK1I,eACL6D,IAAapN,EAAEO,SAAWP,EAAEK,aAAe,EAAIyH,KAAK4gB,IAAK,QACzDzW,EAAK1H,UAAUoe,OACfvb,GAAYpN,EAAEoH,KAAK6K,EAAK7I,eAAgB6I,EAAK1H,UAAUoe,QACvD3oB,EAAEoH,KAAK6K,EAAK7I,gBAElB,OAAO6I,EAAK1O,IAAIiD,SAAS2gB,GAAK,E,CAEhC,OAAO,SAAA5lB,GACLiR,EAAG8U,SAAWF,EAAa7lB,GAC3BkR,EAAOD,GAAIE,KAAK,IAAKT,EAAK1O,IAAIiD,SAASgM,EAAG8U,UAAU,IACpD7U,EAAOD,GAAIjK,KACTyJ,IAAc,QAAU3K,IAAM4K,EAAKqN,YAAY3Y,OAAS,GAAK6f,IAAU,YACnE,GACAvU,EAAK1I,eACL6D,IAAaoF,EAAG8U,SAAS/mB,SAAWiS,EAAG8U,SAASS,QAAU,EAAIjgB,KAAK4gB,IAAK,QACxEzW,EAAK1H,UAAUoe,OACfvb,GAAYoF,EAAG8U,SAASrgB,MAAOgL,EAAK1H,UAAUoe,QAC9CnW,EAAG8U,SAASrgB,OAGlB,OAAOgL,EAAK1O,IAAIiD,SAASgM,EAAG8U,UAAU,E,KAGzCC,KAAK7Z,IAAkB,W,IAI1BzJ,KAAK,WAAauiB,EAAQ,SACvB7D,MAAM,cAAc,SAACjc,EAAGW,EAAGC,GAC1B,OAAA2K,EAAK1H,UAAUyH,YAAc,QAAUC,EAAK1H,UAAUkb,kBAClDhT,EAAOnL,EAAED,IAAIsb,MAAM,cACnB,IAFJ,IAIDsE,WAAW,UACXxN,SAASxV,KAAKwV,UACdyN,KAAKlE,GACL/e,KAAKwV,SAAW,YAAc,QAAQ,KAAK,SAACzZ,EAAGqH,EAAGC,GACjD,IAAMkL,EAAKlL,EAAED,GACb,IAAI0gB,EAAQvV,EAAG8U,SACf,IAAMjnB,EAAa2R,IAAc,OAAS,WAAa,aACvD,GAAIS,EAAOnL,EAAED,IAAIsL,QAAQ,YAAa,CACpCoV,EAAQ,CACN1nB,WAAY,EACZE,SAAU,EACVN,YAAagS,EAAK9R,YAAc8R,EAAKxI,YACrCtJ,YAAa8R,EAAK9R,YAAc8R,EAAKxI,aAEvCgJ,EAAOnL,EAAED,IAAIsL,QAAQ,WAAY,M,CAEnC,IAAMwU,EAAM,CACV9mB,WAAYL,EAAEK,GACdE,SAAUP,EAAEO,SACZN,YAAagS,EAAK9R,YAAc8R,EAAKxI,YACrCtJ,YAAa8R,EAAK9R,YAAc8R,EAAKxI,aAEvCgJ,EAAOD,GACJE,KAAK,cAAe,MACpBA,KAAK,cAAe,MACpBA,KAAK,mBAAoBT,EAAKoN,OAASpN,EAAKhJ,QAAQD,KAAOiJ,EAAKrJ,OAAOI,MACvE0J,KAAK,mBAAoBT,EAAKoN,OAASpN,EAAKhJ,QAAQJ,IAAMoJ,EAAKrJ,OAAOC,IAAM,GAC5E6J,KAAK,SAAUT,EAAK1O,IAAIiD,SAAS2gB,GAAK,IACtCzU,KAAK,SAAUT,EAAK1O,IAAIiD,SAAS2gB,GAAK,IACtCzU,KAAK,KAAM,GACXnK,KACCyJ,IAAc,QAAU3K,IAAM4K,EAAKqN,YAAY3Y,OAAS,GAAK6f,IAAU,YACnE,GACAxmB,EAAEoH,KAAK6K,EAAK9I,kBAEjBuJ,KAAK,KAAMV,IAAc,SAAW,EAAI,SACxCU,KACC,cACAV,IAAc,OACVhS,EAAEO,SAAWuH,KAAK4gB,GAChB,QACA,MACF1oB,EAAEK,YAAcL,EAAEO,SAAWP,EAAEK,YAAc,EAAIyH,KAAK4gB,GACtD,QACA,OAER,IAAMtB,EAAeC,EAAYU,EAAOZ,GACxC,GAAIlV,EAAKzI,eAAiByI,EAAK1H,UAAU0K,SAAWhD,EAAK1H,UAAUkb,kBAAmB,CACpF,IAAMM,EAAiB,CAAC,UACxB,IAAMC,EAAU,CAAC,GACjB/T,EAAKgU,QAAU7X,GAAsB,CACnC6X,QAAShU,EAAKgU,QACdC,eAAgBzT,EAAOD,GACvB2T,WAAY,GACZJ,eAAcA,EACdC,QAAOA,EACPI,UAAW,CAACnU,EAAK9I,iBACjBqa,KAAM,CAACtV,GAAQ+D,EAAKtJ,MAAO,GAAIuF,GAAQ+D,EAAKvJ,OAAQ,IACpD2d,SAAUpU,EAAKzI,eAAiByI,EAAK1H,UAAU0K,SAAWhD,EAAK1H,UAAUkb,mB,CAG7E,IAAKxT,EAAKwH,SAAU,CAClBjH,EAAG8U,SAAWF,EAAa,GAC3B3U,EAAOD,GAAIE,KAAK,IAAKT,EAAK1O,IAAIiD,SAAS2gB,GAAK,IAC5C,OAAOlV,EAAK1O,IAAIiD,SAAS2gB,GAAK,E,CAEhC,OAAO,SAAA5lB,GACLiR,EAAG8U,SAAWF,EAAa7lB,GAC3BkR,EAAOD,GAAIE,KAAK,IAAKT,EAAK1O,IAAIiD,SAASgM,EAAG8U,UAAU,IAEpD,OAAOrV,EAAK1O,IAAIiD,SAASgM,EAAG8U,UAAU,E,KAGzCC,KAAK7Z,IAAkB,W,KAK5BuF,EAAAC,UAAAsJ,gBAAA,eAAAvK,EAAAhO,KACE,IAAI2kB,EAAY3kB,KAAK4d,MAAMpP,OAAO,2BAElC,GAAIxO,KAAKuW,SAAU,CACjBoO,EAAY3kB,KAAK4d,MACda,OAAO,KACPhQ,KAAK,QAAS,0BACdiQ,MAAM,UAAW,GAEpBiG,EACGlG,OAAO,QACPhQ,KAAK,QAAS,oCACdA,KAAK,cAAe,UACpBA,KAAK,IAAK,GACVA,KAAK,IAAK,GACVA,KAAK,OAAQ7E,GAAW0E,WAE3BqW,EACGlG,OAAO,QACPhQ,KAAK,QAAS,wCACdA,KAAK,cAAe,UACpBA,KAAK,IAAK,GACVA,KAAK,OAAQ7E,GAAW0E,U,CAE7BqW,EACGnW,OAAO,mBACPlK,KAAKtE,KAAKuE,aACVkK,KAAK,YAAa,MAClBA,KAAK,cAAc,SAAChM,EAAGW,EAAGC,GACzB,GAAI2K,EAAK1H,UAAU0K,SAAWhD,EAAK1H,UAAUkb,kBAAmB,CAC9D,IAAMoD,EAAcvhB,EAAED,GACtB,IAAMsb,EAAQmG,iBAAiBD,GAC/B,IAAME,EAAWpJ,WAAWgD,EAAMoG,UAClC,IAAMC,EAAY7a,GAAa0a,EAAYI,YAAaF,EAAU,KAAMpG,EAAMuG,YAC9E,IAAMC,EAAarhB,KAAKlF,IAAImmB,EAAW,EAAG,GAC1CtW,EAAOoW,GACJnW,KAAK,SAAU,GACfA,KAAK,UAAWyW,EAAa,GAC7BzW,KAAK,cAAeyW,GACpBzW,KAAK,mBAAoBT,EAAKoN,OAASpN,EAAKhJ,QAAQD,KAAOiJ,EAAKrJ,OAAOI,MACvE0J,KAAK,mBAAoBT,EAAKoN,OAASpN,EAAKhJ,QAAQJ,IAAMoJ,EAAKrJ,OAAOC,KACzE,OAAOmgB,C,KAGbJ,EACGnW,OAAO,sBACPC,KAAK,SAAU,GACfA,KAAK,SAAUzO,KAAKuE,YAAc,GAAK,IACvCkK,KAAK,IAAKzO,KAAKuE,YAAc,GAAK,IAClCD,KAAKtE,KAAKwE,gBACViK,KAAK,YAAa,MAClBA,KAAK,cAAc,SAAChM,EAAGW,EAAGC,GACzB,GAAI2K,EAAK1H,UAAU0K,SAAWhD,EAAK1H,UAAUkb,kBAAmB,CAC9D,IAAMoD,EAAcvhB,EAAED,GACtB,IAAMsb,EAAQmG,iBAAiBD,GAC/B,IAAME,EAAWpJ,WAAWgD,EAAMoG,UAClC,IAAMC,EAAY7a,GAAa0a,EAAYI,YAAaF,EAAU,KAAMpG,EAAMuG,YAC9E,IAAMC,EAAarhB,KAAKlF,IAAImmB,EAAW,EAAG,GAC1CtW,EAAOoW,GACJnW,KAAK,SAAU,GACfA,KAAK,UAAWT,EAAKzJ,YAAc,GAAK,IAAM2gB,EAAa,GAC3DzW,KAAK,cAAeyW,GACpBzW,KAAK,mBAAoBT,EAAKoN,OAASpN,EAAKhJ,QAAQD,KAAOiJ,EAAKrJ,OAAOI,MACvE0J,KAAK,mBAAoBT,EAAKoN,OAASpN,EAAKhJ,QAAQJ,IAAMoJ,EAAKrJ,OAAOC,KACzE,OAAOmgB,C,KAIb,IAAMrD,EAASxa,EAAuB,CACpCyH,KAAM3O,KAAK4O,IAAIC,OACfC,GAAI9O,KAAK+O,QACTZ,MAAO,YAETwW,EAAUlW,KAAK,SAAUiT,E,EAM3B1S,EAAAC,UAAAgJ,cAAA,WACEjY,KAAKsgB,cACF7R,KAAK,QAAS,aACdA,KAAK,UAAW,GAChBC,QAAQ,WAAY,MACpBD,KAAK,eAAgB,GACrBA,KAAK,SAAU7E,GAAW0E,WAC1BG,KAAK,OAAQ,O,EAGlBO,EAAAC,UAAAiJ,eAAA,SAAeqK,GACb,IAAI4C,EAAc,EAClB,KAAMnlB,KAAKqF,cAAgBrF,KAAKsG,UAAUyH,YAAc,QAAS,CAC/DoX,EAAc,C,CAGhBnlB,KAAKme,cACF6E,WAAW,eACXxN,SAASxV,KAAKwV,UACdyN,KAAKlE,GACLtQ,KAAK,WAAW,SAAChM,EAAGW,GAAC,OAAMmf,IAAU,YAAcnf,IAAM,EAAI,EAAI+hB,CAA5C,G,EAG1BnW,EAAAC,UAAAkJ,aAAA,eAAAnK,EAAAhO,KACEA,KAAKugB,aACFyC,WAAW,QACXxN,SAASxV,KAAKwV,UACdyN,KAAKlE,GACLtQ,KAAK,UAAW,GAChBzO,KAAKwV,SAAW,YAAc,QAAQ,KAAK,SAAC/S,EAAGW,EAAGC,GACjD,IAAMkL,EAAKlL,EAAED,GACb,IAAM8f,EAAM,CACV9mB,WAAY,EACZE,SAAU,EACVN,aAAcgS,EAAKoN,OAASpN,EAAKoN,OAASpN,EAAK5I,YAAc,EAC7DlJ,aAAc8R,EAAKoN,OAASpN,EAAKoN,OAASpN,EAAK5I,YAAc,GAE/D,IAAK4I,EAAKwH,SAAU,CAClB,OAAOxH,EAAK1O,IAAI4jB,E,CAElB,IAAMC,EAAeC,EAAY7U,EAAG8U,SAAUH,GAC9C,OAAO,SAAA5lB,GACLiR,EAAG8U,SAAWF,EAAa7lB,GAC3B,OAAO0Q,EAAK1O,IAAIiP,EAAG8U,S,KAGtBG,Q,EAGLxU,EAAAC,UAAAoJ,aAAA,eAAArK,EAAAhO,KACEA,KAAKme,cACF1P,KAAK,mBAAoBzO,KAAKob,OAASpb,KAAKgF,QAAQD,KAAO/E,KAAK2E,OAAOI,MACvE0J,KAAK,mBAAoBzO,KAAKob,OAASpb,KAAKgF,QAAQJ,IAAM5E,KAAK2E,OAAOC,KACtE6J,KAAK,UAAU,SAAC1S,EAAGqH,EAAGC,GACrB,IAAMkL,EAAKlL,EAAED,GACb,IAAM8f,EAAM,CACV9mB,WAAYL,EAAEO,SACdA,SAAUP,EAAEO,SACZN,YAAa6H,KAAKlF,IAAI,EAAGqP,EAAKhS,YAAc,GAC5CE,YAAa8R,EAAK9R,YAAc,GAElCsS,EAAOD,GACJE,KAAK,cAAeT,EAAK1O,IAAIiD,SAAS2gB,GAAK,IAC3CzU,KAAK,cAAeT,EAAK1O,IAAIiD,SAAS2gB,GAAK,IAC9C,OAAOlV,EAAK1O,IAAI4jB,E,IAEjBF,WAAW,UACXxN,SAASxV,KAAKwV,UACdyN,KAAKlE,GACL/e,KAAKwV,SAAW,YAAc,QAAQ,KAAK,SAACzZ,EAAGqH,EAAGC,GACjD,IAAMkL,EAAKlL,EAAED,GACb,IAAI0gB,EAAQvV,EAAG8U,SACf,GAAI7U,EAAOD,GAAIG,QAAQ,YAAa,CAClCoV,EAAQ,CACN1nB,WAAY,EACZE,SAAU,EACVN,YAAa6H,KAAKlF,IAAI,EAAGqP,EAAKhS,YAAc,GAC5CE,YAAa8R,EAAK9R,YAAc,GAElCsS,EAAOD,GAAIG,QAAQ,WAAY,M,CAEjC,IAAMwU,EAAM,CACV9mB,WAAYL,EAAEO,SACdA,SAAUP,EAAEO,SACZN,YAAa6H,KAAKlF,IAAI,EAAGqP,EAAKhS,YAAc,GAC5CE,YAAa8R,EAAK9R,YAAc,GAElC,IAAMinB,EAAeC,EAAYU,EAAOZ,GACxC,IAAKlV,EAAKwH,SAAU,CAClBjH,EAAG8U,SAAWF,EAAa,GAC3B,OAAOnV,EAAK1O,IAAI4jB,E,CAElB,OAAO,SAAA5lB,GACLiR,EAAG8U,SAAWF,EAAa7lB,GAC3B,OAAO0Q,EAAK1O,IAAIiP,EAAG8U,S,MAK3BrU,EAAAC,UAAA8J,gBAAA,WACEnQ,GAAS,CACPwc,OAAQplB,KAAK4d,MAAM/O,OACnB1L,KAAMnD,KAAKyG,YAKX/B,MAAO1E,KAAK0E,MACZD,OAAQzE,KAAKyE,OACbO,QAAShF,KAAKgF,QACdL,OAAQ3E,KAAK2E,OACbqd,QAAShiB,KAAKgiB,S,EAIlBhT,EAAAC,UAAA+J,2BAAA,WAEE1Q,GAAoBtI,KAAK+a,oBAAqB/a,KAAKyV,WAAYzV,KAAKyG,YAAazG,KAAK4b,O,EAIxF5M,EAAAC,UAAA0G,aAAA,WACE3V,KAAK2N,SAAW5D,GAAa/J,KAAK2F,qBAClC3F,KAAK4N,YAAc7D,GAAa/J,KAAK2F,oBAAqB,E,EAG5DqJ,EAAAC,UAAAyH,2BAAA,WACEnP,EAA0B,CACxB+J,SAAUtR,KAAK+a,oBACfsK,QAASrlB,KAAKyV,WACd5D,MAAO7R,KAAKyF,cAAcoM,OAAS7R,KAAKoE,UACxCkhB,SAAU,YACVpQ,SAAUlV,KAAK+O,QACfpJ,oBAAqB3F,KAAK2F,oBAC1B4f,OAAQvlB,KAAKmN,oBACbqY,cACExlB,KAAK0G,gBACL1G,KAAKyF,cAAc4O,uBAAyB,OAC5CrU,KAAKyF,cAAcwO,mBACnBjU,KAAKyF,cAAcwO,kBAAkBC,SACvCuR,cAAezlB,KAAKyF,cAAcigB,sBAEpC1lB,KAAKmN,oBAAsB,K,EAG7B6B,EAAAC,UAAAkI,0BAAA,WACExP,GAA2B,CACzB2d,SAAU,YACVhU,SAAUtR,KAAK+a,oBACflM,KAAM7O,KAAK4O,IAAIC,OACfgD,MAAO7R,KAAKyF,cAAcoM,OAAS7R,KAAKoE,UACxCuhB,YAAa3lB,KAAKqE,SAClB6Q,SAAUlV,KAAK+O,QACf6W,SAAU,QACVC,gBAAiB7lB,KAAKyF,cAAcyN,oBACpC4S,SAAUnc,GAAc3J,KAAM6I,GAAgB,aAC9C6T,aAAc1c,KAAK0c,aAEnBqJ,UAAW,MACXP,cACExlB,KAAK0G,gBACL1G,KAAKyF,cAAc4O,uBAAyB,OAC5CrU,KAAKyF,cAAcwO,mBACnBjU,KAAKyF,cAAcwO,kBAAkBC,SAIvC2G,WAAY7a,KAAKsF,eACjBH,cAAenF,KAAKmF,e,EAIxB6J,EAAAC,UAAAyJ,mCAAA,WACE1Y,KAAKoe,OAAOyE,MAAK,SAACC,EAAI1f,EAAGC,GACvBmE,EAAwBnE,EAAED,G,IAE5BpD,KAAKqkB,aAAaxB,MAAK,SAACC,EAAI1f,EAAGC,GAC7BmE,EAAwBnE,EAAED,G,KAI9B4L,EAAAC,UAAA0J,sBAAA,eAAA3K,EAAAhO,KACE,IAAMwc,EAAO7S,GAAc3J,KAAM6I,GAAgB,aACjD7I,KAAKoe,OAAOyE,MAAK,SAACC,EAAI1f,EAAGC,GACvBoE,EAAuB,CACrB6d,SAAU,YACVhU,SAAUtD,EAAK+M,oBACflM,KAAMxL,EAAED,GACRwiB,SAAU,QACVC,gBAAiB7X,EAAKvI,cAAcyN,oBACpC4S,SAAUtJ,EACVE,aAAc1O,EAAK0O,aACnBqJ,UAAW,MACX7Q,SAAUlH,EAAKe,QACfyW,cACExX,EAAKtH,gBACLsH,EAAKvI,cAAc4O,uBAAyB,OAC5CrG,EAAKvI,cAAcwO,mBACnBjG,EAAKvI,cAAcwO,kBAAkBC,SACvC2G,WAAY7M,EAAK1I,eACjBH,cAAe6I,EAAK7I,gBAEtBuC,GAAmB,CACjBmH,KAAMxL,EAAED,GACR8R,SAAUlH,EAAKe,S,IAGnB/O,KAAKqkB,aAAaxB,MAAK,SAACC,EAAI1f,EAAGC,GAC7BoE,EAAuB,CACrBoH,KAAMxL,EAAED,GACRwiB,SAAU,QACVC,gBAAiB7X,EAAKvI,cAAcyN,oBACpC4S,SAAUtJ,EACVuJ,UAAW,MACX7Q,SAAUlH,EAAKe,QACfyW,cACExX,EAAKtH,gBACLsH,EAAKvI,cAAc4O,uBAAyB,OAC5CrG,EAAKvI,cAAcwO,mBACnBjG,EAAKvI,cAAcwO,kBAAkBC,SACvC2G,WAAY7M,EAAK1I,eACjBH,cAAe6I,EAAK7I,gBAEtBuC,GAAmB,CACjBmH,KAAMxL,EAAED,GACR8R,SAAUlH,EAAKe,S,KAKrBC,EAAAC,UAAAkK,gCAAA,WAGE3R,EAAwBxH,KAAKkZ,KAAKrK,O,EAGpCG,EAAAC,UAAAmK,wBAAA,eAAApL,EAAAhO,KACEA,KAAKkZ,KAAK2J,MAAK,SAACpgB,EAAGW,EAAGC,GACpBqE,GAAmB,CACjBmH,KAAMxL,EAAED,GACR8R,SAAUlH,EAAKe,S,KAKrBC,EAAAC,UAAA0H,2BAAA,WACE9O,GAAe7H,KAAK+a,oBAAqB/a,KAAKyV,WAAYzV,KAAKyF,cAAcoM,OAAS7R,KAAKoE,U,EAG7F4K,EAAAC,UAAA2H,8BAAA,WACE9O,GAAkB9H,KAAK+a,oBAAqB/a,KAAKyV,WAAYzV,KAAKqE,S,EAGpE2K,EAAAC,UAAA4H,qCAAA,WACE9O,GAAyB/H,KAAK+a,oBAAqB/a,KAAKyV,WAAYzV,KAAKyF,cAAc6M,gB,EAGzFtD,EAAAC,UAAA6H,sCAAA,WACE9O,GAA0BhI,KAAK+a,oBAAqB/a,KAAKyV,WAAYzV,KAAKyF,cAAcuM,iB,EAG1FhD,EAAAC,UAAA8H,6BAAA,WACE9O,GAAiBjI,KAAK+a,oBAAqB/a,KAAKyV,WAAYzV,KAAKyF,cAAc0M,Q,EAGjFnD,EAAAC,UAAA+H,6BAAA,WACE9O,GAAiBlI,KAAK+a,oBAAqB/a,KAAKyV,WAAYzV,KAAKyF,cAAcgN,mB,EAGjFzD,EAAAC,UAAAgI,sCAAA,WACE9O,GAAoBnI,KAAK+a,oBAAqB/a,KAAKyV,WAAYzV,KAAKyF,cAAcmN,iB,EAGpF5D,EAAAC,UAAAwJ,2BAAA,WACErQ,GAAqB,CACnBid,QAASrlB,KAAKyV,WACduL,YAAahhB,KAAKkZ,KAAKrK,OACvByW,SAAU,YACVM,SAAU,QACVG,UAAW,O,EAKf/W,EAAAC,UAAAiI,oCAAA,WACE7O,GAAmBrI,KAAK+a,oBAAqB/a,KAAKyV,WAAYzV,KAAKyF,cAAcsN,e,EAGnF/D,EAAAC,UAAAgK,gBAAA,WACE,GAAIjZ,KAAKyF,sBAAwBzF,KAAKyF,cAAcugB,eAAiB,WAAY,CAC/E,IAAMjqB,EAAI,CACR0O,QAASzK,KAAKyK,QACdwb,MAAOjmB,KAAKwf,UACZ0G,QAASlmB,KAAKsf,UAEhBtf,KAAKyF,cAAcugB,aAAajqB,E,CAElCiE,KAAKyK,QAAU,MACfzK,KAAKwf,UAAY,EACjBxf,KAAKsf,SAAW,C,EAGlBtQ,EAAAC,UAAA4J,aAAA,WACE7Y,KAAKoe,OAAO3P,KAAK,UAAWzO,KAAK0G,eAAiB1G,KAAKoG,OAAS,MAChEpG,KAAKie,eAAexP,KAAK,UAAWzO,KAAK0G,eAAiB1G,KAAKoG,OAAS,K,EAG1E4I,EAAAC,UAAA6J,kBAAA,eAAA9K,EAAAhO,KACEA,KAAKoe,OACFqE,GAAG,SAAUziB,KAAK0G,eAAiB,SAAC3K,EAAGqH,EAAGC,GAAM,OAAA2K,EAAK0U,eAAe3mB,EAAEoH,KAAME,EAAED,GAA9B,EAAoC,MACpFqf,GAAG,aAAcziB,KAAK0G,eAAiB,SAAC3K,EAAGqH,EAAGC,GAAM,OAAA2K,EAAK2U,eAAe5mB,EAAEoH,KAAME,EAAED,GAA9B,EAAoC,MACxFqf,GAAG,YAAaziB,KAAK0G,eAAiB,WAAM,OAAAsH,EAAK4U,mBAAL,EAA2B,MAE1E5iB,KAAKie,eACFwE,GAAG,SAAUziB,KAAK0G,eAAiB,SAAC3K,EAAGqH,EAAGC,GAAM,OAAA2K,EAAK0U,eAAe3mB,EAAEoH,KAAME,EAAED,GAA9B,EAAoC,MACpFqf,GAAG,aAAcziB,KAAK0G,eAAiB,SAAC3K,EAAGqH,EAAGC,GAAM,OAAA2K,EAAK2U,eAAe5mB,EAAEoH,KAAME,EAAED,GAA9B,EAAoC,MACxFqf,GAAG,YAAaziB,KAAK0G,eAAiB,WAAM,OAAAsH,EAAK4U,mBAAL,EAA2B,MAC1E5iB,KAAKke,oBACFuE,GAAG,SAAUziB,KAAK0G,eAAiB,SAAC3K,EAAGqH,EAAGC,GAAM,OAAA2K,EAAK0U,eAAe3mB,EAAEoH,KAAME,EAAED,GAA9B,EAAoC,MACpFqf,GAAG,aAAcziB,KAAK0G,eAAiB,SAAC3K,EAAGqH,EAAGC,GAAM,OAAA2K,EAAK2U,eAAe5mB,EAAEoH,KAAME,EAAED,GAA9B,EAAoC,MACxFqf,GAAG,YAAaziB,KAAK0G,eAAiB,WAAM,OAAAsH,EAAK4U,mBAAL,EAA2B,K,EAG5E5T,EAAAC,UAAAyT,eAAA,SAAe3mB,EAAGsH,GAChBrD,KAAK2a,WAAWtF,KAAK,CAAElS,KAAMpH,EAAGoqB,OAAQ9iB,G,EAG1C2L,EAAAC,UAAA0T,eAAA,SAAe5mB,EAAGsH,GAChBqG,GAAqB1J,KAAK+O,QAAS,MACnC/O,KAAKomB,WAAW/Q,KAAK,CAAElS,KAAMpH,EAAGoqB,OAAQ9iB,IACxC,GAAIrD,KAAKqG,YAAa,CACpBrG,KAAKqmB,cAAc,CAAEljB,KAAMpH,EAAGuqB,IAAKC,EAAOC,SAAU,M,GAIxDxX,EAAAC,UAAA2T,kBAAA,WACElZ,GAAqB1J,KAAK+O,QAAS,OACnC/O,KAAKymB,cAAcpR,OACnB,GAAIrV,KAAKqG,YAAa,CACpBrG,KAAKqmB,cAAc,CAAEG,SAAU,O,GAKnCxX,EAAAC,UAAAwH,uBAAA,WACEjN,GAAiBxJ,KAAK6d,S,EAIxB7O,EAAAC,UAAAoX,cAAA,SAAcnK,G,IAAE/Y,EAAI+Y,EAAA/Y,KAAEmjB,EAAGpK,EAAAoK,IAAEE,EAAQtK,EAAAsK,SACjCtd,GAAY,CACVyF,KAAM3O,KAAK6d,SACX1a,KAAIA,EACJojB,MAAOD,EACPE,SAAQA,EACRhgB,aAAcxG,KAAKwG,aACnBF,UAAWtG,KAAKsG,UAChBoW,aAAc1c,KAAK0c,aACnBxX,gBAAiBlF,KAAKkF,gBACtBC,cAAenF,KAAKmF,cACpBuhB,UAAW,MACX7L,WAAY7a,KAAKsF,gB,EAIrB0J,EAAAC,UAAA0X,OAAA,WACE3mB,KAAK4mB,eAAevR,KAAK,CAAEtG,QAAS/O,KAAK+O,UAGzC/O,KAAK6mB,OACL,GAAI7mB,KAAKyN,4BAA6B,CACpCzN,KAAK0V,wBACL1V,KAAKyN,4BAA8B,K,CAErC,GAAIzN,KAAKoN,mBAAoB,CAC3BpN,KAAK2V,eACL3V,KAAKoN,mBAAqB,K,CAE5B,GAAIpN,KAAKoM,mBAAoB,CAC3BpM,KAAK4V,gBACL5V,KAAKoM,mBAAqB,K,CAE5B,GAAIpM,KAAKgL,iBAAkB,CACzBhL,KAAK6V,cACL7V,KAAKgL,iBAAmB,K,CAE1B,GAAIhL,KAAKuL,mBAAoB,CAC3BvL,KAAK8V,gBACL9V,KAAKuL,mBAAqB,K,CAE5B,GAAIvL,KAAKwL,mBAAoB,CAC3BxL,KAAK+V,eACL/V,KAAKwL,mBAAqB,K,CAE5B,GAAIxL,KAAKsL,uBAAwB,CAC/BtL,KAAK0X,gBACL1X,KAAKsL,uBAAyB,K,CAEhC,GAAItL,KAAK2L,8BAA+B,CACtC3L,KAAKgW,0BACLhW,KAAK2L,8BAAgC,K,CAEvC,GAAI3L,KAAK4K,sBAAuB,CAC9B5K,KAAKiW,eACLjW,KAAK4K,sBAAwB,K,CAE/B,GAAI5K,KAAK0K,eAAgB,CACvB1K,KAAKkW,mCACLlW,KAAKmW,kCACLnW,KAAKmW,kCACLnW,KAAK0K,eAAiB,K,CAExB,GAAI1K,KAAKiL,gBAAiB,CACxBjL,KAAKoW,YACLpW,KAAKiL,gBAAkB,K,CAKzB,OACE6b,EAAA,OAAAjG,IAAA,2CAAKkG,MAAM,yBACTD,EAAA,OAAAjG,IAAA,2CAAKkG,MAAM,mBACTD,EAAC9mB,KAAK2N,SAAQ,CAAAkT,IAAA,2CAACkG,MAAM,iCAAiC/mB,KAAKoE,WAC3D0iB,EAAC9mB,KAAK4N,YAAW,CAAAiT,IAAA,2CAACkG,MAAM,2DACxBD,EAAA,yBAAAjG,IAAA,2CACE3L,SAAUlV,KAAK+O,QACf6W,SAAU,QACVG,UAAW,MACXzU,SAAUtR,KAAK+a,oBACfuK,SAAU,YACV5gB,MAAO1E,KAAK0E,OAAS1E,KAAK2E,OAAS3E,KAAK2E,OAAOG,OAAS,EAAI,GAC5DkiB,cAAehnB,KAAKyF,cAAc4O,qBAClC4S,oBAAqB,MACrB/S,SACElU,KAAK0G,gBACL1G,KAAKyF,cAAc4O,uBAAyB,OAC5CrU,KAAKyF,cAAcwO,mBACnBjU,KAAKyF,cAAcwO,kBAAkBC,WAGzC4S,EAAA,OAAAjG,IAAA,2CAAKkG,MAAM,8BACXD,EAAA,OAAAjG,IAAA,2CAAKkG,MAAM,0BAA0BrI,MAAO,CAAEwI,QAASlnB,KAAKqG,YAAc,QAAU,UACpFygB,EAAA,cAAAjG,IAAA,2CACE3L,SAAUlV,KAAK+O,QACfoY,UAAS,KACT7V,SAAUtR,KAAK+a,oBACf8B,aAAc7c,KAAK6c,aACnBH,aAAc1c,KAAK0c,aACnBvZ,KAAMnD,KAAK4c,UACX5X,QAAShF,KAAKgF,QACdL,OAAQ3E,KAAK2E,OACb8gB,cAAezlB,KAAKyF,cAAcigB,oBAClC/H,SAAU3d,KAAK2d,Y,EAQjB3O,EAAAC,UAAA4X,KAAA,WACN,IAAMrK,EAAOnC,OAAOmC,KAAKrY,GACzB,IAAIf,EAAI,EACR,IAAMgkB,EAAa,CACjB7hB,cAAe,CACb8hB,UAAW,OAEbjiB,WAAY,CACViiB,UAAW,GAEb/hB,eAAgB,CACd+hB,UAAW,OAEbhhB,YAAa,CACXghB,UAAW,OAEbjjB,UAAW,CACTijB,UAAW,IAEbhjB,SAAU,CACRgjB,UAAW,IAEblhB,aAAc,CACZkhB,UAAW,IAGf,IAAKjkB,EAAI,EAAGA,EAAIoZ,EAAK9Z,OAAQU,IAAK,CAChC,IAAMikB,GAAaD,EAAW5K,EAAKpZ,IAAM,MAAQpD,KAAKwc,EAAKpZ,MAAQgkB,EAAW5K,EAAKpZ,IAAIikB,UACvFrnB,KAAKwc,EAAKpZ,IAAMpD,KAAKwc,EAAKpZ,KAAOikB,EAAYrnB,KAAKwc,EAAKpZ,IAAMe,EAAsBqY,EAAKpZ,G,49CAxvFzE,IA8vFrBkkB,OAAO,4BAA8Bje,K","ignoreList":[]}